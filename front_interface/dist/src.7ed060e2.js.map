{"version":3,"sources":["../node_modules/@turf/turf/turf.min.js","../node_modules/tabulator-tables/dist/js/tabulator.es2015.js","../src/index.js","../node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","Array","findIndex","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","find","undefined","String","includes","search","start","RegExp","indexOf","searchElement","fromIndex","n","Math","max","abs","sameValueZero","x","y","isNaN","assign","target","varArgs","to","index","nextSource","nextKey","hasOwnProperty","writable","configurable","ColumnManager","table","blockHozScrollEvent","headersElement","createHeadersElement","element","createHeaderElement","rowManager","columns","columnsByIndex","columnsByField","scrollLeft","insertBefore","firstChild","el","document","createElement","classList","add","options","headerVisible","initialize","self","setRowManager","manager","getElement","getHeadersElement","scrollHorizontal","left","hozAdjust","scrollWidth","clientWidth","style","marginLeft","modExists","modules","frozenColumns","generateColumnsFromRowData","data","cols","definitions","autoColumnsDefinitions","row","sorter","key","col","field","title","isArray","match","push","forEach","def","setColumns","removeChild","reset","i","_addColumn","_reIndexColumns","responsiveLayout","virtualDomHoz","vdomHoz","reinitialize","redraw","definition","before","nextToColumn","column","Column","colEl","findColumnIndex","parentIndex","getTopColumn","nextEl","splice","parentNode","nextSibling","unshift","appendChild","columnRendered","registerColumnField","registerColumnPosition","reRegisterPosition","_verticalAlignHeaders","minHeight","height","clearVerticalAlign","getHeight","verticalAlign","columnHeaderVertAlign","adjustTableSize","findColumn","subject","ColumnComponent","_getSelf","HTMLElement","getColumnByField","getColumnsByFieldRoot","root","_this","matches","keys","fieldRoot","split","getColumnByIndex","getFirstVisibileColumn","visible","getColumns","getRealColumns","traverse","callback","getDefinitions","active","output","getDefinition","getDefinitionTree","getComponents","structured","getComponent","getWidth","width","moveColumn","from","after","moveColumnActual","columnCalcs","recalc","activeRows","parent","isGroup","_moveColumnInArray","columnMoved","columnManager","persistence","config","save","updateRows","_this2","toIndex","rows","dataTree","concat","getTreeChildren","cells","cell","scrollToColumn","position","ifVisible","_this3","offset","adjust","Promise","resolve","reject","scrollToColumnPosition","scrollToColumnIfVisible","offsetLeft","offsetWidth","min","console","warn","generateCells","generateCell","getFlexBaseWidth","totalWidth","fixedWidth","scrollHeight","clientHeight","minWidth","colWidth","columnMinWidth","parseInt","addColumn","_this4","layout","getMode","reinitializeWidth","deregisterColumn","getField","force","Tabulator","helpers","elVisible","resetScroll","update","footerManager","_column","type","getCells","getVisibility","isVisible","show","hide","toggle","delete","getSubColumns","getParentColumn","scrollTo","getTable","headerFilterFocus","filter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","move","toColumn","getNextColumn","nextCol","nextColumn","getPrevColumn","prevCol","prevColumn","updateDefinition","updates","setWidth","result","validate","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","tooltip","hozAlign","vertAlign","fieldStructure","getFieldValue","setFieldValue","titleFormatterRendered","setField","invalidOptionWarnings","checkDefinition","cellEvents","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","widthStyled","minWidthStyled","widthFixed","component","_mapDepricatedFunctionality","newCol","attachColumn","checkColumnVisibility","rowHandle","movableRows","moveRow","setHandle","_buildHeader","bindModuleColumns","setAttribute","_this5","defaultOptionList","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","hideInHtml","htmlOutput","align","downloadTitle","titleDownload","setTooltip","headerTooltip","tooltipsHeader","localize","bind","headerVertical","_bindEvents","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","resizableColumns","resizeColumns","initializeColumn","headerFilter","headerFilterPlaceholder","setHeaderFilterColumnPlaceholder","movableColumns","topCalc","bottomCalc","addEventListener","e","dblTap","tapHold","tap","headerClick","headerDblClick","headerContext","headerTap","passive","headerDblTap","clearTimeout","setTimeout","headerTapHold","cellEdited","cellEditing","cellEditCancelled","_this6","sortable","sort","headerContextMenu","headerClickMenu","headerMenu","menu","initializeColumnHeader","format","editor","edit","validator","mutator","accessor","cssClass","classeNames","className","setMinWidth","tooltips","cellHozAlign","cellVertAlign","textAlign","headerHozAlign","_buildColumnHeaderTitle","editableTitle","stopPropagation","focus","columnTitleChanged","text","_formatColumnHeaderTitle","_this7","formatter","contents","params","mockCell","onRendered","titleFormatter","getFormatter","getValue","titleFormatterParams","Node","innerHTML","_this8","dataObj","structure","_i","_i2","alignment","parentHeight","getGroupElement","offsetHeight","paddingTop","rowNumColumn","getFirstColumn","getLastColumn","updateBranches","colDefs","columnVisibilityChanged","silent","responsiveToggle","display","updateColumnVisibility","matchChildWidths","childWidth","maxWidth","child","setWidthActual","floor","checkCellHeights","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","_this9","currentCell","cancelEdit","cellCount","_i3","invalid","Cell","_nextVisibleColumn","_prevVisibleColumn","hideHeaderFilterElements","fitToData","showHeaderFilterElements","clearWidth","_this10","then","catch","err","deleteCell","RowManager","createHolderElement","tableElement","createTableElement","heightFixer","firstRender","renderMode","fixedHeight","activeRowsCount","displayRows","displayRowsCount","scrollTop","vDomRowHeight","vDomTop","vDomBottom","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","redrawBlock","redrawBlockRestoreConfig","redrawBlockRederInPosition","getTableElement","getRowPosition","setColumnManager","setRenderMode","groupBy","groupRows","scrollHeaders","top","dir","scrollVertical","ajaxProgressiveLoad","ajax","nextPage","findRow","Row","RowComponent","_match","getRowFromDataObject","getRowFromPosition","scrollToRow","_this11","rowIndex","getDisplayRows","rowEl","rowTop","scrollToRowPosition","scrollToRowIfVisible","elOffset","_virtualRenderFill","offsetTop","setData","renderInPosition","columnsChanged","_this12","pagination","_setDataActual","reRenderInPosition","autoColumns","dataLoading","_wipeElements","history","clear","selectRow","clearSelectionData","reactiveData","watchData","refreshActiveData","dataLoaded","error","wipe","deleteRow","blockRedraw","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","regenerateRowNumbers","rowDeleted","dataChanged","getData","updateGroupRows","addRow","pos","addRowActual","action","addRows","_this13","findAddRowPos","reverse","item","addRowPos","dispRows","paginationAddRow","page","getPageSize","assignRowToGroup","getGroup","_moveRowInArray","rowAdded","posFrom","posTo","moveRowActual","rowMoved","_this14","Group","prevDisplayRow","toGroup","fromGroup","removeRow","insertRow","end","_i4","styleRow","clearData","getRowIndex","findRowIndex","getDisplayRowIndex","nextDisplayRow","rowOnly","nextRow","prevRow","list","transform","getRows","getDataCount","_genRemoteRequest","_this15","ajaxSorting","sorters","getSort","paginationDataSentNames","ajaxFiltering","filters","getFilters","setParams","sendRequest","filterRefresh","setPage","loadData","sorterRefresh","loadOrignalData","progressiveLoad","stage","skipStage","cascadeOrder","selectable","selectablePersistence","deselectRows","slice","resetDisplayRows","frozenRows","isFrozen","getDisplayIndex","setDisplayIndex","getNextDisplayIndex","setDisplayRows","setMaxRows","dataChange","renderTable","layoutColumnsOnNewData","_this16","getCell","_generateContents","getVisibleRows","viewable","topEdge","bottomEdge","topFound","topRow","bottomRow","selectedRows","getRenderMode","topOffset","diff","virtualDom","renderStarted","_simpleRender","renderEmptyScroll","placeholder","renderComplete","_clearVirtualDom","checkClassicModeGroupHeaderWidth","onlyGroupHeaders","paddingBottom","visibility","remove","forceMove","holder","topPad","rowsHeight","topPadHeight","heightOccupied","ceil","rowHeight","normalizeHeight","vDomScrollHeight","countGroups","topDiff","bottomDiff","margin","_addTopRow","_removeBottomRow","_removeTopRow","_addBottomRow","topRowHeight","initialized","_quickNormalizeRowHeight","bottomRowHeight","initialHeight","otherHeight","external","maxHeight","virtualDomBuffer","resizeTable","autoResize","restoreRedraw","tableWidth","browser","event","createEvent","initEvent","dispatchEvent","Event","VDomHoz","holderEl","leftCol","rightCol","vDomScrollPosLeft","vDomScrollPosRight","vDomPadLeft","vDomPadRight","fitDataColAvg","window","compatabilityCheck","frozen","ok","rtl","_this17","scroll","deinitialize","change","collsWidth","colEnd","group","getGroups","fitDataLayoutOverride","_i5","_this18","old","colPos","leftPos","rightPos","paddingLeft","paddingRight","reinitChanged","renitializeRows","_this19","_this20","reinitializeRow","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","_i6","oldWidth","widthDiff","cellRendered","prepend","initializeRow","_i7","_row","getIndex","getPosition","pageTo","setPageToRow","moveToRow","updateData","select","selectRows","deselect","toggleSelect","toggleRow","isSelected","isRowSelected","freeze","freezeRow","unfreeze","unfreezeRow","treeCollapse","collapseRow","treeExpand","expandRow","treeToggle","getTreeParent","addTreeChild","addTreeChildRow","reformat","getNextRow","getPrevRow","heightStyled","manualHeight","outerHeight","generateElement","detachElement","rowContextMenu","rowClickMenu","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowTap","rowDblTap","rowTapHold","_this21","deleteCells","layoutRow","rowFormatter","resizableRows","resizeRows","reinitializeHeight","children","setHeight","clearHeight","transformRow","watchRow","updatedData","_this22","tempData","newRowData","JSON","parse","block","attrname","unblock","setValueProcessData","groupUpdateOnCellEdit","reassignRowToGroup","redrawNeeded","rowUpdated","getCellIndex","findCell","findNextEditableCell","nextCell","allowEdit","check","findPrevEditableCell","prevCell","toRow","_this23","deleteActual","detatchModules","rowDelete","recalcRowGroup","_deselectRow","detachRow","_i8","CellComponent","_cell","getOldValue","getInitialValue","initialValue","getRow","getColumn","setValue","mutate","restoreOldValue","setValueActual","restoreInitialValue","isEdited","edited","clearEdited","isValid","clearValidation","nav","checkHeight","oldValue","loaded","build","_configureCell","vertAligns","bottom","middle","hozAligns","right","center","alignItems","justifyContent","classNames","tooltipGenerationMode","_generateTooltip","_bindClickEvents","_bindTouchEvents","_bindMouseEvents","bindEditor","initializeCell","preventDefault","selection","range","body","createTextRange","moveToElementText","getSelection","createRange","selectNode","removeAllRanges","addRange","val","formatValue","layoutElement","changed","newValue","transformCell","contextMenu","clickMenu","editCell","editing","getCurrentCell","valid","clearComponentHistory","calcs","next","prev","up","down","FooterManager","links","_initialize","footerElement","querySelector","append","activate","deactivate","link","footerRedraw","browserSlow","browserMobile","initializeElement","initializeOptions","_create","comms","register","defaultOptions","columnVertAlign","initialSort","initialFilter","initialHeaderFilter","columnHeaderSortMulti","sortOrderReverse","headerSort","headerSortTristate","headerSortElement","textDirection","keybindings","tabEndNewRow","clipboard","clipboardCopyStyled","clipboardCopyConfig","clipboardCopyFormatter","clipboardCopyRowRange","clipboardPasteParser","clipboardPasteAction","clipboardCopied","clipboardPasted","clipboardPasteError","downloadDataFormatter","downloadReady","blob","downloadComplete","downloadConfig","downloadRowRange","dataTreeFilter","dataTreeSort","dataTreeElementColumn","dataTreeBranchElement","dataTreeChildIndent","dataTreeChildField","dataTreeCollapseElement","dataTreeExpandElement","dataTreeStartExpanded","dataTreeRowExpanded","dataTreeRowCollapsed","dataTreeChildColumnCalcs","dataTreeSelectPropagate","printAsHtml","printFormatter","printHeader","printFooter","printCopyStyle","printStyled","printVisibleRows","printRowRange","printConfig","selectableRangeMode","selectableRollingSelection","selectableCheck","headerFilterLiveFilterDelay","locale","langs","persistentLayout","persistentSort","persistentFilter","persistenceID","persistenceMode","persistenceReaderFunc","persistenceWriterFunc","responsiveLayoutCollapseStartOpen","responsiveLayoutCollapseUseFormatters","responsiveLayoutCollapseFormatter","paginationSize","paginationInitialPage","paginationButtonCount","paginationSizeSelector","paginationElement","paginationDataSent","paginationDataReceived","ajaxURL","ajaxURLGenerator","ajaxParams","ajaxConfig","ajaxContentType","ajaxRequestFunc","ajaxLoader","ajaxLoaderLoading","ajaxLoaderError","ajaxProgressiveLoadDelay","ajaxProgressiveLoadScrollMargin","groupStartOpen","groupValues","groupHeader","groupHeaderPrint","groupHeaderClipboard","groupHeaderHtmlOutput","groupHeaderDownload","htmlOutputConfig","movableRowsConnectedTables","movableRowsConnectedElements","movableRowsSender","movableRowsReceiver","movableRowsSendingStart","movableRowsSent","movableRowsSentFailed","movableRowsSendingStop","movableRowsReceivingStart","movableRowsReceived","movableRowsReceivedFailed","movableRowsReceivingStop","movableRowsElementDrop","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","tableBuilding","tableBuilt","rowSelectionChanged","rowSelected","rowDeselected","rowResized","columnResized","htmlImporting","htmlImported","dataEdited","ajaxRequesting","ajaxResponse","ajaxError","dataFiltering","dataFiltered","dataSorting","dataSorted","groupToggleElement","groupClosedShowCalcs","dataGrouping","dataGrouped","groupVisibilityChanged","groupClick","groupDblClick","groupContext","groupContextMenu","groupClickMenu","groupTap","groupDblTap","groupTapHold","pageLoaded","localized","validationMode","validationFailed","historyUndo","historyRedo","rtlCheck","getComputedStyle","direction","clipboardCopyHeader","columnHeaders","_clearSelection","empty","_clearObjectPointers","bindModules","tagName","htmlTableImport","parseTable","_buildElement","_loadInitialData","_this24","mod","_detectBrowser","setHeaderFilterPlaceholder","installLang","setLocale","span","load","setSort","setFilter","print","destroy","deregister","unwatchData","clearBindings","ua","navigator","userAgent","vendor","opera","test","substr","setDataFromLocalFile","extensions","_this25","input","accept","file","files","reader","FileReader","readAsText","onload","onerror","click","blockActiveRequest","_setData","inPosition","setConfig","setUrl","getUrl","searchRows","searchData","getHtml","export","printFullscreen","getAjaxUrl","replaceData","_this26","responses","addData","_this27","updateOrAddData","_this28","newRows","_this29","count","successCount","foundRows","doneCheck","a","b","_this30","updateOrAddRow","_this31","updateRow","_this32","_this33","fromRow","copyToClipboard","selector","copy","getColumnDefinitions","getColumnLayout","parseColumns","setColumnLayout","mergeDefinition","showColumn","hideColumn","toggleColumn","_this34","deleteColumn","_this35","updateColumnDefinition","_this36","fromColumn","_this37","getLocale","getLang","sortList","getSorters","clearSort","addFilter","all","getHeaderFilters","removeFilter","clearFilter","clearHeaderFilter","deselectRow","toggleSelectRow","getSelectedRows","getSelectedData","getInvalidCells","clearCellValidation","_this38","setMaxPage","_this39","setPageSize","size","previousPage","getPage","getPageMax","setGroupBy","groups","setGroupValues","setGroupStartOpen","values","setGroupHeader","getGroupedData","getEditedCells","clearCellEdited","_this40","getCalcResults","getResults","recalcAll","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","undo","redo","getHistoryUndoSize","getHistoryRedoSize","download","filename","downloadToTab","tableComms","module","receive","moduleBindings","extendModule","name","property","source","registerModule","plugin","required","box","getBoundingClientRect","pageYOffset","documentElement","clientTop","pageXOffset","clientLeft","deepClone","clone","Date","tables","lookupTable","query","results","querySelectorAll","matchElement","findTable","Layout","mode","modes","fitData","fitDataFill","fitDataTable","fitDataStretch","_this41","colsWidth","gap","lastCol","responsive","fitColumns","flexWidth","flexGrowUnits","flexColWidth","flexColumns","fixedShrinkColumns","flexShrinkUnits","overflowWidth","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","nextColWidth","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","Localize","lang","bindings","langList","default","headerFilters","_setLangProp","desiredLocale","traverseLang","trans","path","prop","language","toLowerCase","prefix","_executeBindings","getText","pathArray","_getLangElement","level","rootPath","_loop","binding","Comms","getConnections","selectors","connections","connection","con","send","commsReceived","Accessor","allowedTypes","charAt","toUpperCase","lookupAccessor","accessors","rowComponent","colCompnent","Ajax","url","urlGenerator","loaderElement","createLoaderElement","msgElement","createMsgElement","loadingElement","errorElement","loaderPromise","loading","requestOrder","template","trim","content","defaultLoaderPromise","defaultURLGenerator","initializeProgressive","getParams","_loadDefaultConfig","method","defaultConfig","_loadDataProgressive","_loadDataStandard","_this42","generateParamsList","serializeParams","encoded","encodeURIComponent","join","_this43","requestNo","esc","showLoader","hideLoader","showError","shouldLoad","contentType","contentTypeFormatters","headers","Accept","location","origin","credentials","fetch","response","json","status","statusText","stringify","form","FormData","CalcComponent","ColumnCalcs","topCalcs","botCalcs","genColumn","topElement","botElement","botRow","topInitialized","botInitialized","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","rowsToData","generateRow","recalcGroup","getRowGroup","_this44","getChildGroups","rowData","generateRowData","generateTopRow","generateBottomRow","_this45","open","getFilteredTreeChildren","disable","enable","paramKey","hasTopCalcs","hasBottomCalcs","getKey","getGroupResults","groupObj","subGroups","getSubGroups","subGroupResults","subgroup","avg","calcParams","precision","reduce","sum","Number","toFixed","parseFloat","toString","Clipboard","pasteParser","pasteAction","customSelection","rowRange","blocked","_this46","plain","html","generateExportList","genereateHTMLTable","generatePlainContent","clipboardData","originalEvent","paste","setPasteParser","setPasteAction","internal","sel","textRange","selectNodeContents","execCommand","pasteActions","parser","pasteParsers","checkPaseOrigin","getPasteData","mutateData","success","headerFindSuccess","columnMap","shift","replace","insert","DataTree","indent","collapseEl","expandEl","branchEl","elementField","startOpen","dummyEl","firstCol","tabIndex","childArray","controlEl","generateControlElement","cloneNode","marginRight","getPropertyValue","_this47","oldControl","replaceChild","_this48","getChildren","_this49","generateChildren","subChildren","sub","_this50","childData","childRow","childIndex","findChildIndex","_this51","recurse","_this52","checkForRestyle","getChildField","Download","interceptCallback","downloadFunc","buildLink","mime","triggerDownload","downloaders","_group","getRowCount","newTab","Blob","URL","createObjectURL","msSaveOrOpenBlob","intercept","csv","setFileContents","delimiter","fileContents","depth","bom","pdf","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","orientation","unit","parseRow","styles","colSpan","rowSpan","doc","autoTable","addPageContent","head","documentProcessing","xlsx","sheetName","workbook","XLSX","utils","book_new","SheetNames","Sheets","generateSheet","merges","worksheet","s","c","r","j","sheet_add_aoa","encode_range","sheetOnly","sheets","sheet","s2ab","buf","ArrayBuffer","view","Uint8Array","charCodeAt","write","bookType","bookSST","Edit","mouseClick","recursionBlock","invalidEdit","editedCells","editable","editorParams","editors","clearEditor","cancel","cellEl","variableHeight","contains","preventScroll","button","focusCellNoEvent","forceEdit","focusScrollAdjust","leftEdge","rightEdge","leftMargin","rightMargin","rendered","cellEditor","blur","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","keyCode","maskAutoFill","editIndex","cellValue","padding","boxSizing","elementAttributes","getAttribute","onChange","textarea","vertNav","verticalNavigation","whiteSpace","resize","heightNow","selectionStart","stopImmediatePropagation","number","step","blurFunc","removeEventListener","_this53","initialDisplayValue","defaultValue","listEl","multiselect","dataItems","currentItem","displayItems","currentItems","blurable","blockListShow","getUniqueColumnValues","sortValuesList","parseItems","inputValues","curentValues","dataList","displayList","processComplexListItem","label","itemParams","setItem","fillList","listItemFormatter","toggleItem","chooseItem","setCurrentItem","scrollIntoView","behavior","inline","fillInput","unsetItem","hideList","chooseItems","unsetItems","_i9","cancelItem","showList","removeScrollListener","cursor","readOnly","autocomplete","_this54","allItems","uniqueColumnValues","genUniqueColumnValues","filterList","term","intialLoad","items","searchEl","searchFunc","addNotice","searchingPlaceholder","fillListIfNotEmpty","showListOnEmpty","notice","clearList","itemList","emptyPlaceholder","current","freetext","allowEmpty","showInputValue","star","maxStars","getElementsByTagName","stars","starsHolder","createElementNS","starChange","buildStar","starHolder","nextStar","changeValue","overflow","textOverflow","progress","percent","handle","bar","mouseDrag","mouseDragWidth","updateValue","calcVal","round","backgroundColor","screenX","tickCross","tristate","indetermValue","indeterminateValue","indetermState","marginTop","indeterminate","checked","ExportRow","ExportColumn","Export","cloneTableStyle","colVisProp","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","genereateTable","genereateTableElement","_this55","_this56","columnGroups","colData","processColumnGroup","_this57","maxDepth","groupData","subGroup","subGroupData","columnVisCheck","headerDepth","exportRows","parseColumnGroup","_i10","_i11","_this58","rowGroups","exportCols","_this59","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","mapElementStyles","genereateHeaderElement","genereateGroupElement","genereateCalcElement","genereateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","firstCell","lastCell","_this60","generator","_this61","cellWrapper","formatCells","formatExportValue","renderedCallback","props","lookup","fromStyle","Filter","headerFilterColumns","prevHeaderFilterChangeCheck","filterType","tagType","attrType","filterChangeCheck","filterFunc","prevSuccess","emptyFunc","headerFilterFunc","headerFilterFuncParams","fieldVal","colVal","func","generateHeaderFilterElement","_this62","filterElement","editorElement","typingTimer","searchTrigger","headerElement","headerFilterEmptyCheck","headerFilterParams","hasAttribute","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","filtersToArray","_this63","searchType","filterRecurse","rowList","activeRowComponents","filterRow","subFilter","_","filterVal","rowVal","filterParams","regex","like","keywords","separator","keyword","matchAll","starts","startsWith","ends","endsWith","_in","Format","lookupFormatter","formatterPrint","formatterClipboard","formatterHtmlOutput","crossElement","formatters","plaintext","sanitizeHTML","entityMap","emptyToSpace","formatterParams","money","floatVal","integer","decimal","rgx","decimalSym","thousandSym","thousand","symbolAfter","urlPrefix","labelField","urlField","image","truthy","allowTruthy","tick","tickElement","cross","datetime","inputFormat","outputFormat","invalidPlaceholder","newDatetime","moment","timezone","tz","datetimediff","suffix","humanize","date","duration","starActive","starInactive","traffic","colors","color","percentValue","legendAlign","legend","legendColor","barEl","legendEl","buttonTick","buttonCross","rownum","responsiveCollapse","toggleList","isOpen","rowSelection","_this64","checkbox","registerRowSelectCheckbox","registerHeaderSelectCheckbox","FrozenColumns","leftColumns","rightColumns","rightPadding","initializationMode","scrollEndTimer","edge","frozenCheck","_this65","calcMargins","layoutColumnPosition","layoutCalcRows","_calcSpace","allCells","_this66","leftParents","parentEl","getColGroupParentElement","_this67","_i12","FrozenRows","styleRows","GroupComponent","getParentGroup","toggleVisibility","groupManager","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","groupList","elementContents","arrowElement","createElements","addBindings","createValueGroups","arrow","initializeGroupHeader","_this68","allowedValues","_createGroup","toggleElement","initializeGroup","groupID","groupKey","headerGenerator","conformRowData","generateGroupHeaderContents","scrollHeader","removeGroup","getHeadersAndRows","noCalc","_visSet","compoment","getPath","addBindingsd","childNodes","GroupRows","langValue","lookupFunc","generateGroups","groupComponents","_this69","pullGroupListData","groupListData","rowCount","headerContent","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","samePath","every","groupPath","groupId","oldRowCount","History","undoers","redoers","cellEdit","rowAdd","newRow","_rebindRow","rowMove","oldRow","HtmlTableImport","fieldIndex","hasIndex","newTable","_extractOptions","_extractHeaders","_generateBlankHeaders","newElement","attributes","optionsArr","optionsList","attrib","_attribValue","_findCol","exists","textContent","Keybindings","watchKeys","pressedKeys","keyupBinding","keydownBinding","mergedBindings","_key","mapBindings","bindEvents","_this70","_loop2","actions","mapBinding","symbolsList","ctrl","meta","symbols","code","checkBinding","ctrlKey","shiftKey","metaKey","navPrev","navNext","navUp","navDown","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","keyBlock","newPos","scrollMax","navLeft","navRight","Menu","menuEl","blurEvent","hideMenu","escEvent","escMenu","nestedMenuBlock","_this71","headerMenuEl","LoadMenuEvent","loadMenu","_this72","_this73","docHeight","innerHeight","touch","MouseEvent","itemEl","disabled","touches","pageY","pageX","menus","MoveColumns","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","mousemove","which","startMove","bindTouchEvents","startXMove","currentCol","prevColWidth","nextColWidthLast","prevColWidthLast","halfCol","moveToCol","_bindMouseMove","_unbindMouseMove","movingCells","columnHolder","xPos","scrollPos","MoveRows","toRowAfter","hasHandle","startY","tableRowDropEvent","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connectedTable","connectedRow","mouseup","tableRowDrop","previousSibling","startYMove","currentRow","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","setStartPosition","connectToTables","pointerEvents","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","elementRowDrop","_this74","connectionTables","dropEvent","tabulatorElementDropEvent","connect","disconnect","dropComplete","sender","senders","receiver","trace","receivers","fromTable","_delete","toTable","Mutator","enabled","lookupMutator","mutators","mutatorEdit","Page","initialLoad","pageSizes","dataReceivedNames","dataSentNames","pagesElement","firstBut","prevBut","nextBut","lastBut","pageSizeSelect","generatePageSizeSelectList","_this75","_i13","hidden","pageSelectLabel","testElRow","testElCell","paginationDataReceivedNames","trigger","_this76","_this77","_setPageButtons","leftSize","rightSize","_i14","_generatePageButton","_this78","_this79","_i15","_this80","_getRemotePage","_this81","oldParams","pageParams","_parseRemoteData","last_page","footer","Persistence","id","defWatcherBlock","readFunc","writeFunc","localStorageTest","testKey","localStorage","removeItem","retreivedData","readers","writers","retreiveData","getOwnPropertyDescriptor","set","get","oldCols","newCols","_findColumn","validateSorters","getGroupConfig","getPageConfig","excludedKeys","defStore","colDef","local","getItem","cookie","cookiePos","expireDate","setDate","getDate","toUTCString","Print","manualBlock","replaceTable","cleanup","scrollX","scrollY","footerEl","tableEl","footerContent","ReactiveData","origFuncs","currentVersion","pushFunc","version","enumerable","args","arg","apply","pop","startRow","oldRows","watchKey","watchTreeChildren","childField","rebuildTree","unwatchRow","ResizeColumns","startColumn","startWidth","prevHandle","handleDown","nearestColumn","_checkResizability","_mouseDown","prevHandleDown","colIndex","resizable","mouseMove","mouseUp","ResizeRows","startHeight","screenY","ResizeTable","observer","containerObserver","tableHeight","containerHeight","containerWidth","_this82","tableStyle","ResizeObserver","entry","nodeHeight","contentRect","nodeWidth","observe","unobserve","ResponsiveLayout","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","formatCollapsedData","order","generateCollapsedContent","_iterator","_isArray","_i16","_ref","done","generateCollapsedRowContent","colCount","working","generateCollapsedRowData","mockCellComponent","listContents","div","SelectRow","selecting","lastClickedRow","selectPrev","headerCheckboxElement","_rowSelectionChanged","endSelect","selected","lastClickedRowIdx","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","_selectRow","_this83","rowMatch","rowInfo","checkboxEl","childRowSelection","_i17","selectedRow","_iterator2","_isArray2","_i18","_ref2","_iterator3","_isArray3","_i19","_ref3","_child","Sort","arrowEl","sorterParams","startingDir","headerSortStartingDir","newSortList","findSorter","sortListActual","rowComponents","lastSort","clearColumnHeaders","sortObj","setColumnHeader","_sortItems","_this84","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","colComp","el1","el2","aRow","bRow","alignEmptyValues","decimalSeparator","thousandSeparator","emptyAlign","string","localeCompare","time","boolean","array","calc","d","alphanum","as","bs","a1","b1","L","rx","rd","isFinite","Validate","invalidCells","_extractValidator","substring","_buildValidator","parameters","validators","invalidIndex","float","numeric","minLength","maxLength","in","reg","unique","cellData","sendToTable","geo_json","features","geoJSON","log","geometry","coordinates","layer","map","removeLayer","feature1","ol","Feature","geom","MultiLineString","setStyle","Style","stroke","Stroke","fill","Fill","weight","egip","layers","createVectorLayer","createVectorSource","addLayer","centroid","turf","getView","setCenter","proj","bbox","fitExtent","$","on","fileName","addClass","txt","generateReport","href","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","parents","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.7ed060e2.js","sourceRoot":"..\\pages","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.turf={})}(this,function(t){\"use strict\";function e(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.bbox,i=n.id;if(void 0===t)throw new Error(\"geometry is required\");if(e&&e.constructor!==Object)throw new Error(\"properties must be an Object\");r&&N(r),i&&C(i);var o={type:\"Feature\"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var i=n.bbox;if(!t)throw new Error(\"type is required\");if(!e)throw new Error(\"coordinates is required\");if(!Array.isArray(e))throw new Error(\"coordinates must be an Array\");i&&N(i);var s;switch(t){case\"Point\":s=r(e).geometry;break;case\"LineString\":s=a(e).geometry;break;case\"Polygon\":s=o(e).geometry;break;case\"MultiPoint\":s=l(e).geometry;break;case\"MultiLineString\":s=h(e).geometry;break;case\"MultiPolygon\":s=p(e).geometry;break;default:throw new Error(t+\" is invalid\")}return i&&(s.bbox=i),s}function r(t,n,r){if(!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");if(t.length<2)throw new Error(\"coordinates must be at least 2 numbers long\");if(!b(t[0])||!b(t[1]))throw new Error(\"coordinates must contain numbers\");return e({type:\"Point\",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");return c(t.map(function(t){return r(t,e)}),n)}function o(t,n,r){if(!t)throw new Error(\"coordinates is required\");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");for(var s=0;s<o[o.length-1].length;s++){if(0===i&&0===s&&!b(o[0][0])||!b(o[0][1]))throw new Error(\"coordinates must contain numbers\");if(o[o.length-1][s]!==o[0][s])throw new Error(\"First and last Position are not equivalent.\")}}return e({type:\"Polygon\",coordinates:t},n,r)}function s(t,e,n){if(!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");return c(t.map(function(t){return o(t,e)}),n)}function a(t,n,r){if(!t)throw new Error(\"coordinates is required\");if(t.length<2)throw new Error(\"coordinates must be an array of two or more positions\");if(!b(t[0][1])||!b(t[0][1]))throw new Error(\"coordinates must contain numbers\");return e({type:\"LineString\",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");return c(t.map(function(t){return a(t,e)}),n)}function c(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.bbox,r=e.id;if(!t)throw new Error(\"No features passed\");if(!Array.isArray(t))throw new Error(\"features must be an Array\");n&&N(n),r&&C(r);var i={type:\"FeatureCollection\"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function h(t,n,r){if(!t)throw new Error(\"coordinates is required\");return e({type:\"MultiLineString\",coordinates:t},n,r)}function l(t,n,r){if(!t)throw new Error(\"coordinates is required\");return e({type:\"MultiPoint\",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error(\"coordinates is required\");return e({type:\"MultiPolygon\",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error(\"geometries is required\");if(!Array.isArray(t))throw new Error(\"geometries must be an Array\");return e({type:\"GeometryCollection\",geometries:t},n,r)}function g(t,e){if(void 0===t||null===t||isNaN(t))throw new Error(\"num is required\");if(e&&!(e>=0))throw new Error(\"precision must be a positive number\");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function d(t,e){if(void 0===t||null===t)throw new Error(\"radians is required\");if(e&&\"string\"!=typeof e)throw new Error(\"units must be a string\");var n=qo[e||\"kilometers\"];if(!n)throw new Error(e+\" units is invalid\");return t*n}function y(t,e){if(void 0===t||null===t)throw new Error(\"distance is required\");if(e&&\"string\"!=typeof e)throw new Error(\"units must be a string\");var n=qo[e||\"kilometers\"];if(!n)throw new Error(e+\" units is invalid\");return t/n}function _(t,e){return v(y(t,e))}function m(t){if(null===t||void 0===t)throw new Error(\"bearing is required\");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null===t||void 0===t)throw new Error(\"radians is required\");return 180*(t%(2*Math.PI))/Math.PI}function x(t){if(null===t||void 0===t)throw new Error(\"degrees is required\");return t%360*Math.PI/180}function E(t,e,n){if(null===t||void 0===t)throw new Error(\"length is required\");if(!(t>=0))throw new Error(\"length must be a positive number\");return d(y(t,e),n||\"kilometers\")}function w(t,e,n){if(null===t||void 0===t)throw new Error(\"area is required\");if(!(t>=0))throw new Error(\"area must be a positive number\");var r=Bo[e||\"meters\"];if(!r)throw new Error(\"invalid original units\");var i=Bo[n||\"kilometers\"];if(!i)throw new Error(\"invalid final units\");return t/r*i}function b(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function I(t){return!!t&&t.constructor===Object}function N(t){if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be an Array\");if(4!==t.length&&6!==t.length)throw new Error(\"bbox must be an Array of 4 or 6 numbers\");t.forEach(function(t){if(!b(t))throw new Error(\"bbox must only contain numbers\")})}function C(t){if(!t)throw new Error(\"id is required\");if(-1===[\"string\",\"number\"].indexOf(typeof t))throw new Error(\"id must be a number or a string\")}function S(t,e,n){if(null!==t)for(var r,i,o,s,a,u,c,h,l=0,p=0,f=t.type,g=\"FeatureCollection\"===f,d=\"Feature\"===f,y=g?t.features.length:1,_=0;_<y;_++){a=(h=!!(c=g?t.features[_].geometry:d?t.geometry:t)&&\"GeometryCollection\"===c.type)?c.geometries.length:1;for(var m=0;m<a;m++){var v=0,x=0;if(null!==(s=h?c.geometries[m]:c)){u=s.coordinates;var E=s.type;switch(l=!n||\"Polygon\"!==E&&\"MultiPolygon\"!==E?0:1,E){case null:break;case\"Point\":e(u,p,_,v,x),p++,v++;break;case\"LineString\":case\"MultiPoint\":for(r=0;r<u.length;r++)e(u[r],p,_,v,x),p++,\"MultiPoint\"===E&&v++;\"LineString\"===E&&v++;break;case\"Polygon\":case\"MultiLineString\":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-l;i++)e(u[r][i],p,_,v,x),p++;\"MultiLineString\"===E&&v++,\"Polygon\"===E&&x++}\"Polygon\"===E&&v++;break;case\"MultiPolygon\":for(r=0;r<u.length;r++){for(\"MultiPolygon\"===E&&(x=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-l;o++)e(u[r][i][o],p,_,v,x),p++;x++}v++}break;case\"GeometryCollection\":for(r=0;r<s.geometries.length;r++)S(s.geometries[r],e,n);break;default:throw new Error(\"Unknown Geometry Type\")}}}}}function M(t,e,n,r){var i=n;return S(t,function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)},r),i}function L(t,e){var n;switch(t.type){case\"FeatureCollection\":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case\"Feature\":e(t.properties,0)}}function P(t,e,n){var r=n;return L(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function O(t,e){if(\"Feature\"===t.type)e(t,0);else if(\"FeatureCollection\"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function R(t,e,n){var r=n;return O(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function T(t){var e=[];return S(t,function(t){e.push(t)}),e}function A(t,e){var n,r,i,o,s,a,u,c,h,l,p=0,f=\"FeatureCollection\"===t.type,g=\"Feature\"===t.type,d=f?t.features.length:1;for(n=0;n<d;n++){for(a=f?t.features[n].geometry:g?t.geometry:t,c=f?t.features[n].properties:g?t.properties:{},h=f?t.features[n].bbox:g?t.bbox:void 0,l=f?t.features[n].id:g?t.id:void 0,s=(u=!!a&&\"GeometryCollection\"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case\"Point\":case\"LineString\":case\"MultiPoint\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":e(o,p,c,h,l);break;case\"GeometryCollection\":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],p,c,h,l);break;default:throw new Error(\"Unknown Geometry Type\")}else e(null,p,c,h,l);p++}}function D(t,e,n){var r=n;return A(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),r}function F(t,n){A(t,function(t,r,i,o,s){var a=null===t?null:t.type;switch(a){case null:case\"Point\":case\"LineString\":case\"Polygon\":return void n(e(t,i,{bbox:o,id:s}),r,0)}var u;switch(a){case\"MultiPoint\":u=\"Point\";break;case\"MultiLineString\":u=\"LineString\";break;case\"MultiPolygon\":u=\"Polygon\"}t.coordinates.forEach(function(t,o){n(e({type:u,coordinates:t},i),r,o)})})}function q(t,e,n){var r=n;return F(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r}function G(t,e){F(t,function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;\"Point\"!==o&&\"MultiPoint\"!==o&&M(t,function(o,s,u,c,h,l){var p=a([o,s],t.properties);return e(p,n,r,l,i),i++,s})}})}function B(t,e,n){var r=n,i=!1;return G(t,function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0}),r}function k(t,e){if(!t)throw new Error(\"geojson is required\");F(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case\"LineString\":e(t,n,r,0,0);break;case\"Polygon\":for(var s=0;s<o.length;s++)e(a(o[s],t.properties),n,r,s)}}})}function z(t,e,n){var r=n;return k(t,function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)}),r}function j(t){var e=[1/0,1/0,-1/0,-1/0];return S(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function X(t){if(!t)throw new Error(\"obj is required\");var e=U(t);if(e.length>1&&b(e[0])&&b(e[1]))return e;throw new Error(\"Coordinate is not a valid Point\")}function U(t){if(!t)throw new Error(\"obj is required\");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return Y(e),e;throw new Error(\"No valid coordinates\")}function Y(t){if(t.length>1&&b(t[0])&&b(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Y(t[0]);throw new Error(\"coordinates must only contain numbers\")}function V(t,e,n){if(!e||!n)throw new Error(\"type and name required\");if(!t||t.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.type)}function H(t,e,n){if(!t)throw new Error(\"No feature passed\");if(!n)throw new Error(\".featureOf() requires a name\");if(!t||\"Feature\"!==t.type||!t.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!t.geometry||t.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.geometry.type)}function W(t,e,n){if(!t)throw new Error(\"No featureCollection passed\");if(!n)throw new Error(\".collectionOf() requires a name\");if(!t||\"FeatureCollection\"!==t.type)throw new Error(\"Invalid input to \"+n+\", FeatureCollection required\");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||\"Feature\"!==i.type||!i.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!i.geometry||i.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+i.geometry.type)}}function J(t){if(!t)throw new Error(\"geojson is required\");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error(\"geojson must be a valid Feature or Geometry Object\")}function Z(){throw new Error(\"invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType\")}function K(t,e){if(!t)throw new Error((e||\"geojson\")+\" is required\");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||\"geojson\")+\" is invalid\")}function Q(t,e,n){n=n||{};for(var r=Object.keys(Xo),i=0;i<r.length;i++){var o=r[i],s=n[o];s=void 0!==s&&null!==s?s:Xo[o],Uo[o]=s}Uo.verbose&&console.log(\"MarchingSquaresJS-isoContours: computing isocontour for \"+e);var a=function(t){var e=[],n=0;t.rows,t.cols;return t.cells.forEach(function(r,i){r.forEach(function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var s=function(t,e,n){var r,i,o,s=t.length,a=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],c=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],h=[\"none\",\"bottom\",\"right\",\"right\",\"top\",\"top\",\"top\",\"top\",\"left\",\"bottom\",\"right\",\"right\",\"left\",\"bottom\",\"left\",\"none\"],l=(t[e][n],t[e][n]),p=l.cval,f=nt(l,o=[\"none\",\"left\",\"bottom\",\"left\",\"right\",\"none\",\"bottom\",\"left\",\"top\",\"top\",\"none\",\"top\",\"right\",\"right\",\"bottom\",\"none\"][p]);a.push([n+f[0],e+f[1]]),f=nt(l,o=h[p]),a.push([n+f[0],e+f[1]]),et(l);for(var g=n+u[p],d=e+c[p],y=p;g>=0&&d>=0&&d<s&&(g!=n||d!=e)&&void 0!==(l=t[d][g]);){if(0===(p=l.cval)||15===p)return{path:a,info:\"mergeable\"};o=h[p],r=u[p],i=c[p],5!==p&&10!==p||(5===p?l.flipped?-1===c[y]?(o=\"left\",r=-1,i=0):(o=\"right\",r=1,i=0):-1===u[y]&&(o=\"bottom\",r=0,i=-1):10===p&&(l.flipped?-1===u[y]?(o=\"top\",r=0,i=1):(o=\"bottom\",r=0,i=-1):1===c[y]&&(o=\"left\",r=-1,i=0))),f=nt(l,o),a.push([g+f[0],d+f[1]]),et(l),g+=r,d+=i,y=p}return{path:a,info:\"closed\"}}(t.cells,i,o),a=!1;if(\"mergeable\"===s.info)for(var u=s.path[s.path.length-1][0],c=s.path[s.path.length-1][1],h=n-1;h>=0;h--)if(Math.abs(e[h][0][0]-u)<=1e-7&&Math.abs(e[h][0][1]-c)<=1e-7){for(var l=s.path.length-2;l>=0;--l)e[h].unshift(s.path[l]);a=!0;break}a||(e[n++]=s.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],c=t[o+1][s+1],h=t[o][s+1],l=t[o][s];if(!(isNaN(u)||isNaN(c)||isNaN(h)||isNaN(l))){a|=u>=e?8:0,a|=c>=e?4:0,a|=h>=e?2:0;var p=!1;if(5===(a|=l>=e?1:0)||10===a){var f=(u+c+h+l)/4;5===a&&f<e?(a=10,p=!0):10===a&&f<e&&(a=5,p=!0)}if(0!==a&&15!==a){var g,d,y,_;g=d=y=_=.5,1===a?(y=1-$(e,u,l),d=1-$(e,h,l)):2===a?(d=$(e,l,h),_=1-$(e,c,h)):3===a?(y=1-$(e,u,l),_=1-$(e,c,h)):4===a?(g=$(e,u,c),_=$(e,h,c)):5===a?(g=$(e,u,c),_=$(e,h,c),d=1-$(e,h,l),y=1-$(e,u,l)):6===a?(d=$(e,l,h),g=$(e,u,c)):7===a?(y=1-$(e,u,l),g=$(e,u,c)):8===a?(y=$(e,l,u),g=1-$(e,c,u)):9===a?(d=1-$(e,h,l),g=1-$(e,c,u)):10===a?(g=1-$(e,c,u),_=1-$(e,c,h),d=$(e,l,h),y=$(e,l,u)):11===a?(g=1-$(e,c,u),_=1-$(e,c,h)):12===a?(y=$(e,l,u),_=$(e,h,c)):13===a?(d=1-$(e,h,l),_=$(e,h,c)):14===a?(y=$(e,l,u),d=$(e,l,h)):console.log(\"MarchingSquaresJS-isoContours: Illegal cval detected: \"+a),i.cells[o][s]={cval:a,flipped:p,top:g,right:_,bottom:d,left:y}}}}}return i}(t,e));return\"function\"==typeof Uo.successCallback&&Uo.successCallback(a),a}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return\"top\"===e?[t.top,1]:\"bottom\"===e?[t.bottom,0]:\"right\"===e?[1,t.right]:\"left\"===e?[0,t.left]:void 0}function rt(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.zProperty||\"elevation\",r=e.flip,i=e.flags;W(t,\"Point\",\"input must contain Points\");for(var o=function(t,e){var n={};O(t,function(t){var e=U(t)[1];n[e]||(n[e]=[]),n[e].push(t)});return Object.keys(n).map(function(t){var e=n[t],r=e.sort(function(t,e){return U(t)[0]-U(e)[0]});return r}).sort(function(t,n){return e?U(t[0])[1]-U(n[0])[1]:U(n[0])[1]-U(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],c=[],h=0;h<u.length;h++){var l=u[h];l.properties[n]?c.push(l.properties[n]):c.push(0),!0===i&&(l.properties.matrixPosition=[a,h])}s.push(c)}return s}function it(t,e,n,r,i){for(n=n||0,r=r||t.length-1,i=i||function(t,e){return t<e?-1:t>e?1:0};r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);it(t,e,Math.max(n,Math.floor(e-s*u/o+c)),Math.min(r,Math.floor(e+(o-s)*u/o+c)),i)}var h=t[e],l=n,p=r;for(ot(t,n,e),i(t[r],h)>0&&ot(t,n,r);l<p;){for(ot(t,l,p),l++,p--;i(t[l],h)<0;)l++;for(;i(t[p],h)>0;)p--}0===i(t[n],h)?ot(t,n,p):ot(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function ot(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function st(t,e){if(!(this instanceof st))return new st(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function at(t,e){ut(t,0,t.children.length,e,t)}function ut(t,e,n,r,i){i||(i=yt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],ct(i,t.leaf?r(o):o);return i}function ct(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ht(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function pt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ft(t){return t.maxX-t.minX+(t.maxY-t.minY)}function gt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function dt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function yt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _t(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Yo(t,o,e,n,i),s.push(e,o,o,n))}function mt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function vt(t,e){if(!(this instanceof vt))return new vt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function xt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)is(t[o],a)||u.push(t[o]);var c=ts(u),h=[];for(o=0;o<c.length;o++)h.push(u[c[o]]);return h}(t),o=Vo(16,[\"[0]\",\"[1]\",\"[0]\",\"[1]\"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=Nt(u,r),s.push(r)}var c=Vo(16);for(a=0;a<s.length;a++)c.insert(It(s[a]));for(var h=e*e,l=n*n;s.length;){var p=s.shift(),f=p.p,g=p.next.p,d=Ct(f,g);if(!(d<l)){var y=d/h;(u=function(t,e,n,r,i,o,s){var a=new ns(null,Et),u=t.data;for(;u;){for(var c=0;c<u.children.length;c++){var h=u.children[c],l=u.leaf?St(h,n,r):function(t,e,n){if(wt(t,n)||wt(e,n))return 0;var r=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Mt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Mt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}(n,r,h);l>o||a.push({node:h,dist:l})}for(;a.length&&!a.peek().node.children;){var p=a.pop(),f=p.node,g=St(f,e,n),d=St(f,r,i);if(p.dist<g&&p.dist<d&&bt(n,f,s)&&bt(r,f,s))return f}(u=a.pop())&&(u=u.node)}return null}(o,p.prev.p,f,g,p.next.next.p,y,c))&&Math.min(Ct(u,f),Ct(u,g))<=y&&(s.push(p),s.push(Nt(u,p)),o.remove(u),c.remove(p),c.insert(It(p)),c.insert(It(p.next)))}}p=r;var _=[];do{_.push(p.p),p=p.next}while(p!==r);return _.push(p.p),_}function Et(t,e){return t.dist-e.dist}function wt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function bt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:r,minY:i,maxX:o,maxY:s}),u=0;u<a.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&os(t,e,n)>0!=os(t,e,r)>0&&os(n,r,t)>0!=os(n,r,e)>0}(a[u].p,a[u].next.p,t,e))return!1;return!0}function It(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Nt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function St(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return o=t[0]-r,s=t[1]-i,o*o+s*s}function Mt(t,e,n,r,i,o,s,a){var u,c,h,l,p=n-t,f=r-e,g=s-i,d=a-o,y=t-i,_=e-o,m=p*p+f*f,v=p*g+f*d,x=g*g+d*d,E=p*y+f*_,w=g*y+d*_,b=m*x-v*v,I=b,N=b;0===b?(c=0,I=1,l=w,N=x):(l=m*w-v*E,(c=v*w-x*E)<0?(c=0,l=w,N=x):c>I&&(c=I,l=w+v,N=x)),l<0?(l=0,-E<0?c=0:-E>m?c=I:(c=-E,I=m)):l>N&&(l=N,-E+v<0?c=0:-E+v>m?c=I:(c=-E+v,I=m)),u=0===c?0:c/I;var C=(1-(h=0===l?0:l/N))*i+h*s-((1-u)*t+u*n),S=(1-h)*o+h*a-((1-u)*e+u*r);return C*C+S*S}function Lt(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.concavity||1/0,r=[];if(S(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var i=ss(r,n);return i.length>3?o([i]):null}function Pt(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.ignoreBoundary;if(!t)throw new Error(\"point is required\");if(!e)throw new Error(\"polygon is required\");var i=X(t),o=U(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;\"Polygon\"===s&&(o=[o]);for(var u=0,c=!1;u<o.length&&!c;u++)if(Ot(i,o[u][0],r)){for(var h=!1,l=1;l<o[u].length&&!h;)Ot(i,o[u][l],!r)&&(h=!0),l++;h||(c=!0)}return c}function Ot(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],c=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+c*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(c-t[1])<=0)return!n;a>t[1]!=c>t[1]&&t[0]<(u-s)*(t[1]-a)/(c-a)+s&&(r=!r)}return r}function Rt(t,e){var n=[];return A(e,function(e){O(t,function(t){Pt(t,e)&&n.push(t)})}),c(n)}function Tt(t,e){if(\"FeatureCollection\"!==t.type)throw new Error(\"points must be a FeatureCollection\");var n=!1;return c(function(t){if(t.length<3)return[];t.sort(Dt);var e,n,r,i,o,s,a=t.length-1,u=t[a].x,c=t[0].x,h=t[a].y,l=h;for(;a--;)t[a].y<h&&(h=t[a].y),t[a].y>l&&(l=t[a].y);var p,f=c-u,g=l-h,d=f>g?f:g,y=.5*(c+u),_=.5*(l+h),m=[new At({x:y-20*d,y:_-d,__sentinel:!0},{x:y,y:_+20*d,__sentinel:!0},{x:y+20*d,y:_-d,__sentinel:!0})],v=[],x=[];a=t.length;for(;a--;){for(x.length=0,p=m.length;p--;)(f=t[a].x-m[p].x)>0&&f*f>m[p].r?(v.push(m[p]),m.splice(p,1)):(g=t[a].y-m[p].y,f*f+g*g>m[p].r||(x.push(m[p].a,m[p].b,m[p].b,m[p].c,m[p].c,m[p].a),m.splice(p,1)));for(Ft(x),p=x.length;p;)n=x[--p],e=x[--p],r=t[a],i=n.x-e.x,o=n.y-e.y,s=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(s)>1e-12&&m.push(new At(e,n,r))}Array.prototype.push.apply(v,m),a=v.length;for(;a--;)(v[a].a.__sentinel||v[a].b.__sentinel||v[a].c.__sentinel)&&v.splice(a,1);return v}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],s)}))}function At(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,c=o*(t.x+e.x)+s*(t.y+e.y),h=a*(t.x+n.x)+u*(t.y+n.y),l=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*c-s*h)/l,this.y=(o*h-a*c)/l,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function Dt(t,e){return e.x-t.x}function Ft(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function qt(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.units,i=X(t),o=X(e),s=x(o[1]-i[1]),a=x(o[0]-i[0]),u=x(i[1]),c=x(o[1]),h=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(c);return d(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),r)}function Gt(t){if(!t)throw new Error(\"geojson is required\");switch(t.type){case\"Feature\":return Bt(t);case\"FeatureCollection\":return function(t){var e={type:\"FeatureCollection\"};return Object.keys(t).forEach(function(n){switch(n){case\"type\":case\"features\":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Bt(t)}),e}(t);case\"Point\":case\"LineString\":case\"Polygon\":case\"MultiPoint\":case\"MultiLineString\":case\"MultiPolygon\":case\"GeometryCollection\":return zt(t);default:throw new Error(\"unknown GeoJSON type\")}}function Bt(t){var e={type:\"Feature\"};return Object.keys(t).forEach(function(n){switch(n){case\"type\":case\"properties\":case\"geometry\":return;default:e[n]=t[n]}}),e.properties=kt(t.properties),e.geometry=zt(t.geometry),e}function kt(t){var e={};return t?(Object.keys(t).forEach(function(n){var r=t[n];\"object\"==typeof r?null===r?e[n]=null:r.length?e[n]=r.map(function(t){return t}):e[n]=kt(r):e[n]=r}),e):e}function zt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),\"GeometryCollection\"===t.type?(e.geometries=t.geometries.map(function(t){return zt(t)}),e):(e.coordinates=jt(t.coordinates),e)}function jt(t){return\"object\"!=typeof t[0]?t.slice():t.map(function(t){return jt(t)})}function Xt(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r],r));t<0&&hs(e,i)}function r(t){return u(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}function a(t){var e,n=t.type;switch(n){case\"GeometryCollection\":return{type:n,geometries:t.geometries.map(a)};case\"Point\":e=r(t.coordinates);break;case\"MultiPoint\":e=t.coordinates.map(r);break;case\"LineString\":e=i(t.arcs);break;case\"MultiLineString\":e=t.arcs.map(i);break;case\"Polygon\":e=s(t.arcs);break;case\"MultiPolygon\":e=t.arcs.map(s);break;default:return null}return{type:n,coordinates:e}}var u=cs(t.transform),c=t.arcs;return a(e)}function Ut(t,e){function n(t){switch(t.type){case\"GeometryCollection\":t.geometries.forEach(n);break;case\"Polygon\":r(t.arcs);break;case\"MultiPolygon\":t.arcs.forEach(r)}}function r(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),s.push(t)}function i(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Xt(t,{type:\"Polygon\",arcs:[e]}).coordinates[0])}var o={},s=[],a=[];return e.forEach(n),s.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),s.forEach(function(t){delete t._}),{type:\"MultiPolygon\",arcs:a.map(function(e){var n,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&r.push(t)})})}),r=ls(t,r),(n=r.length)>1)for(var s,a,u=1,c=i(r[0]);u<n;++u)(s=i(r[u]))>c&&(a=r[0],r[0]=r[u],r[u]=a,c=s);return r})}}function Yt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Vt(t){return null==t?{type:null}:(\"FeatureCollection\"===t.type?function(t){var e={type:\"GeometryCollection\",geometries:t.features.map(Ht)};null!=t.bbox&&(e.bbox=t.bbox);return e}:\"Feature\"===t.type?Ht:Wt)(t)}function Ht(t){var e,n=Wt(t.geometry);null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox);for(e in t.properties){n.properties=t.properties;break}return n}function Wt(t){if(null==t)return{type:null};var e=\"GeometryCollection\"===t.type?{type:\"GeometryCollection\",geometries:t.geometries.map(Wt)}:\"Point\"===t.type||\"MultiPoint\"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Jt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Zt(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function Kt(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.mutate;if(\"FeatureCollection\"!==K(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==n&&void 0!==n||(t=Gt(t));var r=[],i=z(t,function(t,e){var n=function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Qt(r[0]),s=Qt(r[r.length-1]),u=Qt(i[0]),c=Qt(i[i.length-1]);if(o===c)n=i.concat(r.slice(1));else if(u===s)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(s!==c)return null;n=r.concat(i.reverse().slice(1))}return a(n)}(t,e);return n||(r.push(t),e)});return i&&r.push(i),r.length?1===r.length?r[0]:h(r.map(function(t){return t.coordinates})):null}function Qt(t){return t[0].toString()+\",\"+t[1].toString()}function $t(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.mutate;if(\"FeatureCollection\"!==K(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==n&&void 0!==n||(t=Gt(t));var r=function(t){var e={};F(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error(\"geojson must be homogenous\");switch(r){case\"LineString\":return Kt(t,e);case\"Polygon\":return function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.mutate;if(\"FeatureCollection\"!==K(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==n&&void 0!==n||(t=Gt(t));var r=[];F(t,function(t){r.push(t.geometry)});var i=ws({geoms:f(r).geometry});return ps(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+\" is not supported\")}}function te(t,n){var r=\"object\"==typeof n?n.mutate:n;if(!t)throw new Error(\"geojson is required\");var i=K(t),o=[];switch(i){case\"LineString\":o=ee(t);break;case\"MultiLineString\":case\"Polygon\":U(t).forEach(function(t){o.push(ee(t))});break;case\"MultiPolygon\":U(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(ee(t))}),o.push(e)});break;case\"Point\":return t;case\"MultiPoint\":var s={};U(t).forEach(function(t){var e=t.join(\"-\");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(i+\" geometry not supported\")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function ee(t){var e=U(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],s=e.length-1;o.push(e[0]);for(var a=1;a<s;a++)n=e[a-1],r=e[a],function(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],c=a-o,h=u-s;return(r-o)*h-(i-s)*c==0&&(Math.abs(c)>=Math.abs(h)?c>0?o<=r&&r<=a:a<=r&&r<=o:h>0?s<=i&&i<=u:u<=i&&i<=s)}(n,i=e[a+1],r)||o.push(r);return o.push(i),o}function ne(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function re(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return o=t.x-r,s=t.y-i,o*o+s*s}function ie(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=re(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&ie(t,e,o,r,i),i.push(t[o]),n-o>1&&ie(t,o,n,r,i))}function oe(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,s=t.length;o<s;o++)ne(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),t=function(t,e){var n=t.length-1,r=[t[0]];return ie(t,0,n,e,r),r.push(t[n]),r}(t,r)}function se(t,e,n){return oe(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function ae(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error(\"invalid polygon\");for(var i=oe(r,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=oe(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function ue(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error(\"line is required\");if(!b(n))throw new Error(\"resolution must be an number\");if(!b(r))throw new Error(\"sharpness must be an number\");for(var i=[],o=new bs({points:J(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),s=0;s<o.duration;s+=10){var u=o.pos(s);Math.floor(s/100)%2==0&&i.push([u.x,u.y])}return a(i,t.properties)}function ce(t){N(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error(\"@turf/bbox-polygon does not support BBox with 6 positions\");var s=[e,n];return o([[s,[r,n],[r,i],[e,i],s]])}function he(t){return ce(j(t))}function le(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(qt(t.slice(0,2),[r,n])>=qt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function pe(t,e,n,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");var o=i.units,s=i.properties,a=X(t),u=x(a[0]),c=x(a[1]),h=x(n),l=y(e,o),p=Math.asin(Math.sin(c)*Math.cos(l)+Math.cos(c)*Math.sin(l)*Math.cos(h));return r([v(u+Math.atan2(Math.sin(h)*Math.sin(l)*Math.cos(c),Math.cos(l)-Math.sin(c)*Math.sin(p))),v(p)],s)}function fe(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error(\"center is required\");if(!e)throw new Error(\"radius is required\");if(\"object\"!=typeof n)throw new Error(\"options must be an object\");if(\"number\"!=typeof r)throw new Error(\"steps must be a number\");r=r||64,i=i||t.properties||{};for(var s=[],a=0;a<r;a++)s.push(pe(t,e,-360*a/r,n).geometry.coordinates);return s.push(s[0]),o([s],i)}function ge(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");if(!0===n.final)return function(t,e){var n=ge(e,t);return n=(n+180)%360}(t,e);var r=X(t),i=X(e),o=x(r[0]),s=x(i[0]),a=x(r[1]),u=x(i[1]),c=Math.sin(s-o)*Math.cos(u),h=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return v(Math.atan2(c,h))}function de(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.properties;if(!t)throw new Error(\"geojson is required\");var i=j(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ye(t,e){var n=0,i=0,o=0;return S(t,function(t){n+=t[0],i+=t[1],o++},!0),r([n/o,i/o],e)}function _e(t,e){switch(K(t)){case\"Point\":return t;case\"Polygon\":var n=[];S(t,function(t){n.push(t)});var i,o,s,a,u,c,h,l,p=ye(t,e),f=p.geometry.coordinates,g=0,d=0,y=0,_=n.map(function(t){return[t[0]-f[0],t[1]-f[1]]});for(i=0;i<n.length-1;i++)a=(o=_[i])[0],c=o[1],u=(s=_[i+1])[0],y+=l=a*(h=s[1])-u*c,g+=(a+u)*l,d+=(c+h)*l;if(0===y)return p;var m=1/(6*(.5*y));return r([f[0]+m*g,f[1]+m*d],e);default:var v=Lt(t);return v?_e(v,e):ye(t,e)}}function me(t){var e=[];return\"FeatureCollection\"===t.type?O(t,function(t){S(t,function(n){e.push(r(n,t.properties))})}):S(t,function(n){e.push(r(n,t.properties))}),c(e)}function ve(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,o=xe(t,0,i,n,!0),s=[];if(!o)return s;var a,u,c,h,l,p,f;if(r&&(o=function(t,e,n,r){var i,o,s,a,u,c=[];for(i=0,o=e.length;i<o;i++)s=e[i]*r,a=i<o-1?e[i+1]*r:t.length,(u=xe(t,s,a,r,!1))===u.next&&(u.steiner=!0),c.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(u));for(c.sort(be),i=0;i<c.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,c=n,h=n.x,l=n.y,p=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=h&&i!==r.x&&Ne(o<l?i:s,o,h,l,o<l?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<p||u===p&&r.x>n.x)&&Le(r,t)&&(n=r,p=u),r=r.next;return n}(t,e)){var n=Pe(e,t);Ee(n,n.next)}}(c[i],n),n=Ee(n,n.next);return n}(t,e,o,n)),t.length>80*n){a=c=t[0],u=h=t[1];for(var g=n;g<i;g+=n)l=t[g],p=t[g+1],l<a&&(a=l),p<u&&(u=p),l>c&&(c=l),p>h&&(h=p);f=0!==(f=Math.max(c-a,h-u))?1/f:0}return we(o,s,n,a,u,f),s}function xe(t,e,n,r,i){var o,s;if(i===Ae(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Oe(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Oe(o,t[o],t[o+1],s);return s&&Se(s,s.next)&&(Re(s),s=s.next),s}function Ee(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Se(r,r.next)&&0!==Ce(r.prev,r,r.next))r=r.next;else{if(Re(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function we(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ie(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ);e++);for(u=c;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,c=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,s=t.next;if(Ce(i,o,s)>=0)return!1;var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,l=Ie(a,u,e,n,r),p=Ie(c,h,e,n,r),f=t.nextZ;for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&Ne(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Ce(f.prev,f,f.next)>=0)return!1;f=f.nextZ}f=t.prevZ;for(;f&&f.z>=l;){if(f!==t.prev&&f!==t.next&&Ne(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Ce(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(Ce(e,n,r)>=0)return!1;var i=t.next.next;for(;i!==t.prev;){if(Ne(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ce(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Re(t),t=u.next,c=u.next;else if((t=u)===c){s?1===s?we(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Se(i,o)&&Me(i,r,r.next,o)&&Le(i,o)&&Le(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Re(r),Re(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===s&&function(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Me(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Le(t,e)&&Le(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,a)){var u=Pe(s,a);return s=Ee(s,s.next),u=Ee(u,u.next),we(s,e,n,r,i,o),void we(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}(t,e,n,r,i,o):we(Ee(t),e,n,r,i,o,1);break}}}function be(t,e){return t.x-e.x}function Ie(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Ne(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function Ce(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Se(t,e){return t.x===e.x&&t.y===e.y}function Me(t,e,n,r){return!!(Se(t,e)&&Se(n,r)||Se(t,r)&&Se(n,e))||Ce(t,e,n)>0!=Ce(t,e,r)>0&&Ce(n,r,t)>0!=Ce(n,r,e)>0}function Le(t,e){return Ce(t.prev,t,t.next)<0?Ce(t,e,t.next)>=0&&Ce(t,t.prev,e)>=0:Ce(t,e,t.prev)<0||Ce(t,t.next,e)<0}function Pe(t,e){var n=new Te(t.i,t.x,t.y),r=new Te(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Oe(t,e,n,r){var i=new Te(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Re(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Te(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ae(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function De(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=Is(e.vertices,e.holes,2),r=[],i=[];n.forEach(function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var s=0;s<i.length;s+=3){var a=i.slice(s,s+3);a.push(i[s]),r.push(o([a]))}return r}function Fe(t,e){if(!t)throw new Error(\"targetPoint is required\");if(!e)throw new Error(\"points is required\");var n,r=1/0;return O(e,function(e,i){var o=qt(t,e);o<r&&((n=Gt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)}),n}function qe(t,e,n,r,i){Ge(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Ge(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Ge(t,e,Math.max(n,Math.floor(e-s*u/o+c)),Math.min(r,Math.floor(e+(o-s)*u/o+c)),i)}var h=t[e],l=n,p=r;for(Be(t,n,e),i(t[r],h)>0&&Be(t,n,r);l<p;){for(Be(t,l,p),l++,p--;i(t[l],h)<0;)l++;for(;i(t[p],h)>0;)p--}0===i(t[n],h)?Be(t,n,p):Be(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function Be(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ke(t,e){if(!(this instanceof ke))return new ke(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ze(t,e){je(t,0,t.children.length,e,t)}function je(t,e,n,r,i){i||(i=Ze(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Xe(i,t.leaf?r(o):o);return i}function Xe(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ue(t,e){return t.minX-e.minX}function Ye(t,e){return t.minY-e.minY}function Ve(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function He(t){return t.maxX-t.minX+(t.maxY-t.minY)}function We(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Je(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ze(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ke(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(qe(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),s.push(e,o,o,n))}function Qe(t){var e=ke(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}else t.bbox=t.bbox?t.bbox:tn(t);return ke.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=$e(t);n.bbox=t,e.push(n)}):O(t,function(t){t.bbox=t.bbox?t.bbox:tn(t),e.push(t)}),ke.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}return ke.prototype.remove.call(this,t)},e.clear=function(){return ke.prototype.clear.call(this)},e.search=function(t){return{type:\"FeatureCollection\",features:ke.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return ke.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:\"FeatureCollection\",features:ke.prototype.all.call(this)}},e.toJSON=function(){return ke.prototype.toJSON.call(this)},e.fromJSON=function(t){return ke.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:tn(t),{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function $e(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:\"Feature\",bbox:t,properties:{},geometry:{type:\"Polygon\",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function tn(t){var e=[1/0,1/0,-1/0,-1/0];return S(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function en(t){if(!t)throw new Error(\"geojson is required\");var e=[];return F(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case\"Polygon\":n=U(r);break;case\"LineString\":n=[U(r)]}n.forEach(function(n){var r=function(t,e){var n=[];return t.reduce(function(t,r){var i=a([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r}),n}(n,t.properties);r.forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),c(e)}function nn(t,n){var r={},i=[];if(\"LineString\"===t.type&&(t=e(t)),\"LineString\"===n.type&&(n=e(n)),\"Feature\"===t.type&&\"Feature\"===n.type&&\"LineString\"===t.geometry.type&&\"LineString\"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=rn(t,n);return o&&i.push(o),c(i)}var s=Qe();return s.load(en(n)),O(en(t),function(t){O(s.search(t),function(e){var n=rn(t,e);if(n){var o=U(n).join(\",\");r[o]||(r[o]=!0,i.push(n))}})}),c(i)}function rn(t,e){var n=U(t),i=U(e);if(2!==n.length)throw new Error(\"<intersects> line1 must only contain 2 coordinates\");if(2!==i.length)throw new Error(\"<intersects> line2 must only contain 2 coordinates\");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],c=i[0][0],h=i[0][1],l=i[1][0],p=i[1][1],f=(p-h)*(a-o)-(l-c)*(u-s),g=(l-c)*(s-h)-(p-h)*(o-c),d=(a-o)*(s-h)-(u-s)*(o-c);if(0===f)return null;var y=g/f,_=d/f;if(y>=0&&y<=1&&_>=0&&_<=1){return r([o+y*(a-o),s+y*(u-s)])}return null}function on(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var i=t.geometry?t.geometry.type:t.type;if(\"LineString\"!==i&&\"MultiLineString\"!==i)throw new Error(\"lines must be LineString or MultiLineString\");var o=r([1/0,1/0],{dist:1/0}),s=0;return F(t,function(t){for(var i=U(t),u=0;u<i.length-1;u++){var c=r(i[u]);c.properties.dist=qt(e,c,n);var h=r(i[u+1]);h.properties.dist=qt(e,h,n);var l=qt(c,h,n),p=Math.max(c.properties.dist,h.properties.dist),f=ge(c,h),g=pe(e,p,f+90,n),d=pe(e,p,f-90,n),y=nn(a([g.geometry.coordinates,d.geometry.coordinates]),a([c.geometry.coordinates,h.geometry.coordinates])),_=null;y.features.length>0&&((_=y.features[0]).properties.dist=qt(e,_,n),_.properties.location=s+qt(c,_,n)),c.properties.dist<o.properties.dist&&((o=c).properties.index=u,o.properties.location=s),h.properties.dist<o.properties.dist&&((o=h).properties.index=u+1,o.properties.location=s+l),_&&_.properties.dist<o.properties.dist&&((o=_).properties.index=u),s+=l}}),o}function sn(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.final;if(!t)throw new Error(\"start point is required\");if(!e)throw new Error(\"end point is required\");var i;return(i=r?an(X(e),X(t)):an(X(t),X(e)))>180?-(360-i):i}function an(t,e){var n=x(t[1]),r=x(e[1]),i=x(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,o))+360)%360}function un(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.units;if(!t)throw new Error(\"from point is required\");if(!e)throw new Error(\"to point is required\");var i=X(t),o=X(e);o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0;return E(function(t,e,n){var r=n=void 0===n?Fo:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-i,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),c=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+c*c*a*a)*r}(i,o),\"meters\",r)}function cn(t,e){return ln(t,\"mercator\",e)}function hn(t,e){return ln(t,\"wgs84\",e)}function ln(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.mutate;if(!t)throw new Error(\"geojson is required\");return Array.isArray(t)&&b(t[0])?t=\"mercator\"===e?pn(t):fn(t):(!0!==r&&(t=Gt(t)),S(t,function(t){var n=\"mercator\"===e?pn(t):fn(t);t[0]=n[0],t[1]=n[1]})),t}function pn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function fn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function gn(t,n,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");if(!t)throw new Error(\"pt is required\");if(Array.isArray(t)?t=r(t):\"Point\"===t.type?t=e(t):H(t,\"Point\",\"point\"),!n)throw new Error(\"line is required\");Array.isArray(n)?n=a(n):\"LineString\"===n.type?n=e(n):H(n,\"LineString\",\"line\");var o=1/0,s=t.geometry.coordinates;return G(n,function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],a=function(t,e,n,i){var o=i.mercator,s=!0!==o?qt(e,t,i):dn(e,t,i),a=m(!0!==o?ge(e,t):sn(e,t)),u=m(!0!==o?ge(e,n):sn(e,n)),c=Math.abs(a-u);if(c>90)return s;var h=(u+180)%360,l=m(!0!==o?ge(n,t):sn(n,t)),p=Math.abs(l-h);p>180&&(p=Math.abs(p-360));return p>90?!0!==o?qt(t,n,i):dn(t,n,i):!0!==o?s*Math.sin(x(c)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=r(n),a=cn([t[0]+o,t[1]]),u=cn([e[0]+o,e[1]]),c=cn([n[0]+o,n[1]]),h=hn(function(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1],a=n[0],u=n[1],c=o-r,h=s-i,l=((a-r)*c+(u-i)*h)/(c*c+h*h);return[r+l*c,i+l*h]}(a,u,c));return 0!==o&&(h[0]-=o),un(s,h,i)}(e,n,t,i)}(s,e,n,i);o>a&&(o=a)}),o}function dn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=cn([t[0]+i,t[1]]),s=cn([e[0]+i,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]);return E(Math.sqrt(u),\"meters\",r)}function yn(t){for(var n=function(t){if(\"FeatureCollection\"!==t.type)return\"Feature\"!==t.type?c([e(t)]):c([t]);return t}(t),i=de(n),o=!1,s=0;!o&&s<n.features.length;){var a,u=n.features[s].geometry,h=!1;if(\"Point\"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if(\"MultiPoint\"===u.type){var l=!1;for(a=0;!l&&a<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[a][0]&&i.geometry.coordinates[1]===u.coordinates[a][1]&&(o=!0,l=!0),a++}else if(\"LineString\"===u.type)for(a=0;!h&&a<u.coordinates.length-1;)_n(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(h=!0,o=!0),a++;else if(\"MultiLineString\"===u.type)for(var p=0;p<u.coordinates.length;){h=!1,a=0;for(var f=u.coordinates[p];!h&&a<f.length-1;)_n(i.geometry.coordinates[0],i.geometry.coordinates[1],f[a][0],f[a][1],f[a+1][0],f[a+1][1])&&(h=!0,o=!0),a++;p++}else\"Polygon\"!==u.type&&\"MultiPolygon\"!==u.type||Pt(i,u)&&(o=!0);s++}if(o)return i;var g=c([]);for(s=0;s<n.features.length;s++)g.features=g.features.concat(me(n.features[s]).features);return r(Fe(i,g).geometry.coordinates)}function _n(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function mn(t){return D(t,function(t,e){return t+vn(e)},0)}function vn(t){var e,n=0;switch(t.type){case\"Polygon\":return xn(t.coordinates);case\"MultiPolygon\":for(e=0;e<t.coordinates.length;e++)n+=xn(t.coordinates[e]);return n;case\"Point\":case\"MultiPoint\":case\"LineString\":case\"MultiLineString\":return 0;case\"GeometryCollection\":for(e=0;e<t.geometries.length;e++)n+=vn(t.geometries[e]);return n}}function xn(t){var e=0;if(t&&t.length>0){e+=Math.abs(En(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(En(t[n]))}return e}function En(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(wn(t[o][0])-wn(e[0]))*Math.sin(wn(n[1]));a=a*Ss*Ss/2}return a}function wn(t){return t*Math.PI/180}function bn(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");if(!t)throw new Error(\"geojson is required\");return B(t,function(t,n){var r=n.geometry.coordinates;return t+qt(r[0],r[1],e)},0)}function In(t,e,n,r){if(r=r||{},!I(r))throw new Error(\"options is invalid\");var i,o=[];if(\"Feature\"===t.type)i=t.geometry.coordinates;else{if(\"LineString\"!==t.type)throw new Error(\"input must be a LineString Feature or Geometry\");i=t.coordinates}for(var s,u,c,h=0,l=0;l<i.length&&!(e>=h&&l===i.length-1);l++){if(h>e&&0===o.length){if(!(s=e-h))return o.push(i[l]),a(o);u=ge(i[l],i[l-1])-180,c=pe(i[l],s,u,r),o.push(c.geometry.coordinates)}if(h>=n)return(s=n-h)?(u=ge(i[l],i[l-1])-180,c=pe(i[l],s,u,r),o.push(c.geometry.coordinates),a(o)):(o.push(i[l]),a(o));if(h>=e&&o.push(i[l]),l===i.length-1)return a(o);h+=qt(i[l],i[l+1],r)}return a(i[i.length-1])}function Nn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!I(n))throw new Error(\"invalid options\");if(!t)throw new Error(\"pt is required\");if(!e)throw new Error(\"line is required\");for(var i=X(t),o=U(e),s=0;s<o.length-1;s++){var a=!1;if(r&&(0===s&&(a=\"start\"),s===o.length-2&&(a=\"end\"),0===s&&s+1===o.length-1&&(a=\"both\")),function(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],c=e[1],h=n[0]-s,l=n[1]-a,p=u-s,f=c-a;if(h*f-l*p!=0)return!1;{if(!r)return Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<=u:u<=i&&i<=s:f>0?a<=o&&o<=c:c<=o&&o<=a;if(\"start\"===r)return Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<=u:u<=i&&i<s:f>0?a<o&&o<=c:c<=o&&o<a;if(\"end\"===r)return Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<u:u<i&&i<=s:f>0?a<=o&&o<c:c<o&&o<=a;if(\"both\"===r)return Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<u:u<i&&i<s:f>0?a<o&&o<c:c<o&&o<a}}(o[s],o[s+1],i,a))return!0}return!1}function Cn(t,e){var n=K(t),r=K(e),i=J(t),o=J(e);switch(n){case\"Point\":switch(r){case\"MultiPoint\":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Mn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case\"LineString\":return Nn(i,o,{ignoreEndVertices:!0});case\"Polygon\":return Pt(i,o,{ignoreBoundary:!0});default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"MultiPoint\":switch(r){case\"MultiPoint\":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Mn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case\"LineString\":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!Nn(t.coordinates[r],e))return!1;n||(n=Nn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case\"Polygon\":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Pt(t.coordinates[1],e);if(!i){n=!1;break}i=Pt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"LineString\":switch(r){case\"LineString\":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!Nn(t.coordinates[n],e))return!1;return!0}(i,o);case\"Polygon\":return function(t,e){var n=j(e),r=j(t);if(!Sn(n,r))return!1;for(var i=!1,o=0;o<t.coordinates.length-1;o++){if(!Pt(t.coordinates[o],e))return!1;if(i||(i=Pt(t.coordinates[o],e,{ignoreBoundary:!0})),!i){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[o],t.coordinates[o+1]);i=Pt(s,e,{ignoreBoundary:!0})}}return i}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"Polygon\":switch(r){case\"Polygon\":return function(t,e){var n=j(t);if(!Sn(j(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Pt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}default:throw new Error(\"feature1 \"+n+\" geometry not supported\")}}function Sn(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function Mn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ln(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var i=n.mask,o=n.properties,s=[];if(null===e||void 0===e)throw new Error(\"cellSide is required\");if(!b(e))throw new Error(\"cellSide is invalid\");if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be array\");if(4!==t.length)throw new Error(\"bbox must contain 4 numbers\");if(i&&-1===[\"Polygon\",\"MultiPolygon\"].indexOf(K(i)))throw new Error(\"options.mask must be a (Multi)Polygon\");for(var a=t[0],u=t[1],h=t[2],l=t[3],p=e/qt([a,u],[h,u],n)*(h-a),f=e/qt([a,u],[a,l],n)*(l-u),g=h-a,d=l-u,y=Math.floor(g/p),_=(d-Math.floor(d/f)*f)/2,m=a+(g-y*p)/2;m<=h;){for(var v=u+_;v<=l;){var x=r([m,v],o);i?Cn(x,i)&&s.push(x):s.push(x),v+=f}m+=p}return c(s)}function Pn(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error(\"<geojson> is required\");if(\"number\"!=typeof n)throw new Error(\"<precision> must be a number\");if(\"number\"!=typeof r)throw new Error(\"<coordinates> must be a number\");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return S(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)}),t}function On(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!On(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Rn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error(\"This function requires an array of three points [x,y]\");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Tn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Tn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function An(t,e){var n=[],r=Qe();return F(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var i=r.search(e);if(i.features.length){var o=Fn(e,i);n=n.filter(function(t){return t.id!==o.id}),r.remove(o),O(Dn(o,e),function(t){n.push(t),r.insert(t)})}}else(n=Dn(t,e).features).forEach(function(t){t.bbox||(t.bbox=le(j(t)))}),r.load(c(n))}),c(n)}function Dn(t,e){var n=[],r=U(t)[0],i=U(t)[t.geometry.coordinates.length-1];if(qn(r,X(e))||qn(i,X(e)))return c([t]);var o=Qe(),s=en(t);o.load(s);var u=o.search(e);if(!u.features.length)return c([t]);var h=Fn(e,u),l=R(s,function(t,r,i){var o=U(r)[1],s=X(e);return i===h.id?(t.push(s),n.push(a(t)),qn(s,o)?[s]:[s,o]):(t.push(o),t)},[r]);return l.length>1&&n.push(a(l)),c(n)}function Fn(t,e){if(!e.features.length)throw new Error(\"lines must contain features\");if(1===e.features.length)return e.features[0];var n,r=1/0;return O(e,function(e){var i=on(e,t).properties.dist;i<r&&(n=e,r=i)}),n}function qn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Gn(t,e,n,r,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");var o=i.steps,s=i.units;if(!t)throw new Error(\"center is required\");if(!e)throw new Error(\"radius is required\");if(void 0===n||null===n)throw new Error(\"bearing1 is required\");if(void 0===r||null===r)throw new Error(\"bearing2 is required\");if(\"object\"!=typeof i)throw new Error(\"options must be an object\");o=o||64;var u=Bn(n),c=Bn(r),h=t.properties;if(u===c)return a(fe(t,e,i).geometry.coordinates[0],h);for(var l=u,p=u<c?c:c+360,f=l,g=[],d=0;f<p;)g.push(pe(t,e,f,s).geometry.coordinates),f=l+360*++d/o;return f>p&&g.push(pe(t,e,p,s).geometry.coordinates),a(g,h)}function Bn(t){var e=t%360;return e<0&&(e+=360),e}function kn(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.properties,r=K(t),i=U(t);if(n=n||t.properties||{},!i.length)throw new Error(\"polygon must contain coordinates\");switch(r){case\"Polygon\":return zn(i,n);case\"MultiPolygon\":var o=[];return i.forEach(function(t){o.push(zn(t,n))}),c(o);default:throw new Error(\"geom \"+r+\" not supported\")}}function zn(t,e){return t.length>1?h(t,e):a(t[0],e)}function jn(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error(\"lines is required\");r=void 0===r||r,i=void 0===i||i;switch(K(t)){case\"FeatureCollection\":case\"GeometryCollection\":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(U(Xn(t,{},r,i)))}),p(o,n)}return Xn(t,n,r,i)}function Xn(t,e,n,r){e=e||t.properties||{};var i=U(t),s=K(t);if(!i.length)throw new Error(\"line must contain coordinates\");switch(s){case\"LineString\":return n&&(i=Un(i)),o([i],e);case\"MultiLineString\":var u=[],c=0;return i.forEach(function(t){if(n&&(t=Un(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(j(a(t)));e>c?(u.unshift(t),c=e):u.push(t)}else u.push(t)}),o(u,e);default:throw new Error(\"geometry type \"+s+\" is not supported\")}}function Un(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}function Yn(t,e,n){var r,i,o,s,a,u=t.length,c=Hn(t[0],e),h=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],s=a=Hn(o=t[r],e);;){if(!(c|s)){h.push(i),s!==a?(h.push(o),r<u-1&&(n.push(h),h=[])):r===u-1&&h.push(o);break}if(c&s)break;c?c=Hn(i=Vn(i,o,c,e),e):s=Hn(o=Vn(i,o,s,e),e)}c=a}return h.length&&n.push(h),n}function Vn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Hn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Wn(t,e){for(var n=[],r=0;r<t.length;r++){var i=Gs.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Jn(t){return\"[object Arguments]\"===Object.prototype.toString.call(t)}function Zn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||\"object\"!=typeof t&&\"object\"!=typeof e?(n.strict,t===e):function(t,e,n){var r,i;if(Kn(t)||Kn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Jn(t))return!!Jn(e)&&(t=Bs.call(t),e=Bs.call(e),Zn(t,e,n));if(Qn(t)){if(!Qn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),r=o.length-1;r>=0;r--)if(o[r]!==s[r])return!1;for(r=o.length-1;r>=0;r--)if(i=o[r],!Zn(t[i],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Kn(t){return null===t||void 0===t}function Qn(t){return!(!t||\"object\"!=typeof t||\"number\"!=typeof t.length)&&(\"function\"==typeof t.copy&&\"function\"==typeof t.slice&&!(t.length>0&&\"number\"!=typeof t[0]))}function $n(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.tolerance||0,i=[],o=Qe();o.load(en(t));var s;return G(e,function(t){var e=!1;O(o.search(t),function(n){if(!1===e){var i=U(t).sort(),o=U(n).sort();Zn(i,o)?(e=!0,s=s?tr(s,t):t):(0===r?Nn(i[0],n)&&Nn(i[1],n):on(n,i[0]).properties.dist<=r&&on(n,i[1]).properties.dist<=r)?(e=!0,s=s?tr(s,t):t):(0===r?Nn(o[0],t)&&Nn(o[1],t):on(t,o[0]).properties.dist<=r&&on(t,o[1]).properties.dist<=r)&&(s=s?tr(s,n):n)}}),!1===e&&s&&(i.push(s),s=void 0)}),s&&i.push(s),c(i)}function tr(t,e){var n=U(e),r=U(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return Zn(n[0],i)?s.unshift(n[1]):Zn(n[0],o)?s.push(n[1]):Zn(n[1],i)?s.unshift(n[0]):Zn(n[1],o)&&s.push(n[0]),t}function er(t){var e=t%360;return e<0&&(e+=360),e}function nr(t,e,n,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");var o=i.units,s=i.properties;if(!t)throw new Error(\"origin is required\");if(void 0===e||null===e)throw new Error(\"distance is required\");if(void 0===n||null===n)throw new Error(\"bearing is required\");if(!(e>=0))throw new Error(\"distance must be greater than 0\");var a=E(e,o,\"meters\"),u=X(t),c=function(t,e,n,r){r=void 0===r?Fo:Number(r);var i=e/r,o=t[0]*Math.PI/180,s=x(t[1]),a=x(n),u=i*Math.cos(a),c=s+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var h=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),l=Math.abs(h)>1e-11?u/h:Math.cos(s),p=i*Math.sin(a)/l;return[(180*(o+p)/Math.PI+540)%360-180,180*c/Math.PI]}(u,a,n);return c[0]+=c[0]-u[0]>180?-360:u[0]-c[0]>180?360:0,r(c,s)}function rr(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=ir(a,u,e),n<=0&&r>0?function(t,e,n){return ir(t,e,n)<0}(e,a,i)||(i=a):n>0&&r<=0&&(function(t,e,n){return ir(t,e,n)>0}(e,a,o)||(o=a)),n=r}return[i,o]}function ir(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function or(t){if(!t)throw new Error(\"line is required\");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&\"LineString\"!==e)throw new Error(\"geometry must be a LineString\");for(var n,r,i=U(t),o=0,s=1;s<i.length;)n=r||i[0],o+=((r=i[s])[0]-n[0])*(r[1]+n[1]),s++;return o>0}function sr(t,e){switch(\"Feature\"===t.type?t.geometry.type:t.type){case\"GeometryCollection\":return A(t,function(t){sr(t,e)}),t;case\"LineString\":return ar(U(t),e),t;case\"Polygon\":return ur(U(t),e),t;case\"MultiLineString\":return U(t).forEach(function(t){ar(t,e)}),t;case\"MultiPolygon\":return U(t).forEach(function(t){ur(t,e)}),t;case\"Point\":case\"MultiPoint\":return t}}function ar(t,e){or(t)===e&&t.reverse()}function ur(t,e){or(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)or(t[n])===e&&t[n].reverse()}function cr(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.zProperty||\"elevation\",r=e.flip,i=e.flags;W(t,\"Point\",\"input must contain Points\");for(var o=function(t,e){var n={};O(t,function(t){var e=U(t)[1];n[e]||(n[e]=[]),n[e].push(t)});return Object.keys(n).map(function(t){var e=n[t],r=e.sort(function(t,e){return U(t)[0]-U(e)[0]});return r}).sort(function(t,n){return e?U(t[0])[1]-U(n[0])[1]:U(n[0])[1]-U(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],c=[],h=0;h<u.length;h++){var l=u[h];l.properties[n]?c.push(l.properties[n]):c.push(0),!0===i&&(l.properties.matrixPosition=[a,h])}s.push(c)}return s}function hr(t,e,n,r){r=r||{};for(var i=Object.keys(ks),o=0;o<i.length;o++){var s=i[o],a=r[s];a=void 0!==a&&null!==a?a:ks[s],zs[s]=a}zs.verbose&&console.log(\"MarchingSquaresJS-isoBands: computing isobands for [\"+e+\":\"+(e+n)+\"]\");var u,c=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var c=0,h=t[a+1][u],l=t[a+1][u+1],p=t[a][u+1],f=t[a][u];if(!(isNaN(h)||isNaN(l)||isNaN(p)||isNaN(f))){c|=h<e?0:h>s?128:64,c|=l<e?0:l>s?32:16,c|=p<e?0:p>s?8:4;var g=+(c|=f<e?0:f>s?2:1),d=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var y=(h+l+p+f)/4;d=y>s?2:y<e?0:1,34===c?1===d?c=35:0===d&&(c=136):136===c?1===d?(c=35,d=4):0===d&&(c=34):17===c?1===d?(c=155,d=4):0===d&&(c=153):68===c?1===d?(c=103,d=4):0===d&&(c=102):153===c?1===d&&(c=155):102===c?1===d&&(c=103):152===c?d<2&&(c=156,d=1):137===c?d<2&&(c=139,d=1):98===c?d<2&&(c=99,d=1):38===c?d<2&&(c=39,d=1):18===c?d>0?(c=156,d=4):c=152:33===c?d>0?(c=139,d=4):c=137:72===c?d>0?(c=99,d=4):c=98:132===c&&(d>0?(c=39,d=4):c=38)}if(0!=c&&170!=c){var _,m,v,x,E,w,b,I;_=m=v=x=E=w=b=I=.5;var N=[];1===c?(v=1-lr(e,p,f),I=1-lr(e,h,f),N.push(Sa[c])):169===c?(v=lr(s,f,p),I=lr(s,f,h),N.push(Sa[c])):4===c?(w=1-lr(e,l,p),x=lr(e,f,p),N.push(Na[c])):166===c?(w=lr(s,p,l),x=1-lr(s,p,f),N.push(Na[c])):16===c?(E=lr(e,p,l),m=lr(e,h,l),N.push(Ia[c])):154===c?(E=1-lr(s,l,p),m=1-lr(s,l,h),N.push(Ia[c])):64===c?(b=lr(e,f,h),_=1-lr(e,l,h),N.push(La[c])):106===c?(b=1-lr(s,h,f),_=lr(s,h,l),N.push(La[c])):168===c?(x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),N.push(Ca[c]),N.push(Sa[c])):2===c?(x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),N.push(Ca[c]),N.push(Sa[c])):162===c?(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),N.push(Ca[c]),N.push(Sa[c])):8===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),N.push(Ia[c]),N.push(Na[c])):138===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Ia[c]),N.push(Na[c])):32===c?(E=lr(s,p,l),w=lr(e,p,l),_=lr(e,h,l),m=lr(s,h,l),N.push(Ia[c]),N.push(Na[c])):42===c?(I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l),N.push(Ma[c]),N.push(La[c])):128===c&&(I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Ma[c]),N.push(La[c])),5===c?(w=1-lr(e,l,p),I=1-lr(e,h,f),N.push(Na[c])):165===c?(w=lr(s,p,l),I=lr(s,f,h),N.push(Na[c])):20===c?(x=lr(e,f,p),m=lr(e,h,l),N.push(Ca[c])):150===c?(x=1-lr(s,p,f),m=1-lr(s,l,h),N.push(Ca[c])):80===c?(E=lr(e,p,l),b=lr(e,f,h),N.push(Ia[c])):90===c?(E=1-lr(s,l,p),b=1-lr(s,h,f),N.push(Ia[c])):65===c?(v=1-lr(e,p,f),_=1-lr(e,l,h),N.push(Sa[c])):105===c?(v=lr(s,f,p),_=lr(s,h,l),N.push(Sa[c])):160===c?(E=lr(s,p,l),w=lr(e,p,l),I=lr(e,f,h),b=lr(s,f,h),N.push(Ia[c]),N.push(Na[c])):10===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),I=1-lr(s,h,f),b=1-lr(e,h,f),N.push(Ia[c]),N.push(Na[c])):130===c?(x=1-lr(e,p,f),v=1-lr(s,p,f),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Ca[c]),N.push(Sa[c])):40===c?(x=lr(s,f,p),v=lr(e,f,p),_=lr(e,h,l),m=lr(s,h,l),N.push(Ca[c]),N.push(Sa[c])):101===c?(w=lr(s,p,l),_=lr(s,h,l),N.push(Na[c])):69===c?(w=1-lr(e,l,p),_=1-lr(e,l,h),N.push(Na[c])):149===c?(I=lr(s,f,h),m=1-lr(s,l,h),N.push(Ma[c])):21===c?(I=1-lr(e,h,f),m=lr(e,h,l),N.push(Ma[c])):86===c?(x=1-lr(s,p,f),b=1-lr(s,h,f),N.push(Ca[c])):84===c?(x=lr(e,f,p),b=lr(e,f,h),N.push(Ca[c])):89===c?(E=1-lr(s,l,p),v=lr(s,f,p),N.push(Sa[c])):81===c?(E=lr(e,p,l),v=1-lr(e,p,f),N.push(Sa[c])):96===c?(E=lr(s,p,l),w=lr(e,p,l),b=lr(e,f,h),_=lr(s,h,l),N.push(Ia[c]),N.push(Na[c])):74===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),b=1-lr(s,h,f),_=1-lr(e,l,h),N.push(Ia[c]),N.push(Na[c])):24===c?(E=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),m=lr(e,h,l),N.push(Ia[c]),N.push(Sa[c])):146===c?(E=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),m=1-lr(s,l,h),N.push(Ia[c]),N.push(Sa[c])):6===c?(w=1-lr(e,l,p),x=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),N.push(Na[c]),N.push(Ca[c])):164===c?(w=lr(s,p,l),x=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),N.push(Na[c]),N.push(Ca[c])):129===c?(v=1-lr(e,p,f),I=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Sa[c]),N.push(Ma[c])):41===c?(v=lr(s,f,p),I=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l),N.push(Sa[c]),N.push(Ma[c])):66===c?(x=1-lr(e,p,f),v=1-lr(s,p,f),b=1-lr(s,h,f),_=1-lr(e,l,h),N.push(Ca[c]),N.push(Sa[c])):104===c?(x=lr(s,f,p),v=lr(e,f,p),b=lr(e,f,h),_=lr(s,h,l),N.push(Sa[c]),N.push(Pa[c])):144===c?(E=lr(e,p,l),I=lr(e,f,h),b=lr(s,f,h),m=1-lr(s,l,h),N.push(Ia[c]),N.push(La[c])):26===c?(E=1-lr(s,l,p),I=1-lr(s,h,f),b=1-lr(e,h,f),m=lr(e,h,l),N.push(Ia[c]),N.push(La[c])):36===c?(w=lr(s,p,l),x=lr(e,f,p),_=lr(e,h,l),m=lr(s,h,l),N.push(Na[c]),N.push(Ca[c])):134===c?(w=1-lr(e,l,p),x=1-lr(s,p,f),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Na[c]),N.push(Ca[c])):9===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),v=lr(s,f,p),I=1-lr(e,h,f),N.push(Ia[c]),N.push(Na[c])):161===c?(E=lr(s,p,l),w=lr(e,p,l),v=1-lr(e,p,f),I=lr(s,f,h),N.push(Ia[c]),N.push(Na[c])):37===c?(w=lr(s,p,l),I=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l),N.push(Na[c]),N.push(Ma[c])):133===c?(w=1-lr(e,l,p),I=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h),N.push(Na[c]),N.push(Ma[c])):148===c?(x=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),m=1-lr(s,l,h),N.push(Ca[c]),N.push(La[c])):22===c?(x=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),m=lr(e,h,l),N.push(Ca[c]),N.push(La[c])):82===c?(E=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),b=1-lr(s,h,f),N.push(Ia[c]),N.push(Sa[c])):88===c?(E=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),b=lr(e,f,h),N.push(Ia[c]),N.push(Sa[c])):73===c?(E=1-lr(e,l,p),w=1-lr(s,l,p),v=lr(s,f,p),_=1-lr(e,l,h),N.push(Ia[c]),N.push(Na[c])):97===c?(E=lr(s,p,l),w=lr(e,p,l),v=1-lr(e,p,f),_=lr(s,h,l),N.push(Ia[c]),N.push(Na[c])):145===c?(E=lr(e,p,l),v=1-lr(e,p,f),I=lr(s,f,h),m=1-lr(s,l,h),N.push(Ia[c]),N.push(Ma[c])):25===c?(E=1-lr(s,l,p),v=lr(s,f,p),I=1-lr(e,h,f),m=lr(e,h,l),N.push(Ia[c]),N.push(Ma[c])):70===c?(w=1-lr(e,l,p),x=1-lr(s,p,f),b=1-lr(s,h,f),_=1-lr(e,l,h),N.push(Na[c]),N.push(Ca[c])):100===c?(w=lr(s,p,l),x=lr(e,f,p),b=lr(e,f,h),_=lr(s,h,l),N.push(Na[c]),N.push(Ca[c])):34===c?(0===d?(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)):(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)),N.push(Ia[c]),N.push(Na[c]),N.push(Ma[c]),N.push(La[c])):35===c?(4===d?(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)):(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)),N.push(Ia[c]),N.push(Na[c]),N.push(Sa[c]),N.push(La[c])):136===c?(0===d?(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)):(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)),N.push(Ia[c]),N.push(Na[c]),N.push(Ma[c]),N.push(La[c])):153===c?(0===d?(E=lr(e,p,l),v=1-lr(e,p,f),I=1-lr(e,h,f),m=lr(e,h,l)):(E=1-lr(s,l,p),v=lr(s,f,p),I=lr(s,f,h),m=1-lr(s,l,h)),N.push(Ia[c]),N.push(Sa[c])):102===c?(0===d?(w=1-lr(e,l,p),x=lr(e,f,p),b=lr(e,f,h),_=1-lr(e,l,h)):(w=lr(s,p,l),x=1-lr(s,p,f),b=1-lr(s,h,f),_=lr(s,h,l)),N.push(Na[c]),N.push(La[c])):155===c?(4===d?(E=lr(e,p,l),v=1-lr(e,p,f),I=1-lr(e,h,f),m=lr(e,h,l)):(E=1-lr(s,l,p),v=lr(s,f,p),I=lr(s,f,h),m=1-lr(s,l,h)),N.push(Ia[c]),N.push(Ma[c])):103===c?(4===d?(w=1-lr(e,l,p),x=lr(e,f,p),b=lr(e,f,h),_=1-lr(e,l,h)):(w=lr(s,p,l),x=1-lr(s,p,f),b=1-lr(s,h,f),_=lr(s,h,l)),N.push(Na[c]),N.push(Ca[c])):152===c?(0===d?(E=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),m=lr(e,h,l)):(E=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),m=1-lr(s,l,h)),N.push(Ia[c]),N.push(Ca[c]),N.push(Sa[c])):156===c?(4===d?(E=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),m=lr(e,h,l)):(E=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),m=1-lr(s,l,h)),N.push(Ia[c]),N.push(Sa[c]),N.push(La[c])):137===c?(0===d?(E=lr(s,p,l),w=lr(e,p,l),v=1-lr(e,p,f),I=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)):(E=1-lr(e,l,p),w=1-lr(s,l,p),v=lr(s,f,p),I=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)),N.push(Ia[c]),N.push(Na[c]),N.push(Sa[c])):139===c?(4===d?(E=lr(s,p,l),w=lr(e,p,l),v=1-lr(e,p,f),I=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)):(E=1-lr(e,l,p),w=1-lr(s,l,p),v=lr(s,f,p),I=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)),N.push(Ia[c]),N.push(Na[c]),N.push(Ma[c])):98===c?(0===d?(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),b=lr(e,f,h),_=1-lr(e,l,h)):(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),b=1-lr(s,h,f),_=lr(s,h,l)),N.push(Ia[c]),N.push(Na[c]),N.push(La[c])):99===c?(4===d?(E=1-lr(e,l,p),w=1-lr(s,l,p),x=lr(s,f,p),v=lr(e,f,p),b=lr(e,f,h),_=1-lr(e,l,h)):(E=lr(s,p,l),w=lr(e,p,l),x=1-lr(e,p,f),v=1-lr(s,p,f),b=1-lr(s,h,f),_=lr(s,h,l)),N.push(Ia[c]),N.push(Na[c]),N.push(Sa[c])):38===c?(0===d?(w=1-lr(e,l,p),x=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)):(w=lr(s,p,l),x=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)),N.push(Na[c]),N.push(Ma[c]),N.push(La[c])):39===c?(4===d?(w=1-lr(e,l,p),x=lr(e,f,p),I=lr(e,f,h),b=lr(s,f,h),_=1-lr(s,l,h),m=1-lr(e,l,h)):(w=lr(s,p,l),x=1-lr(s,p,f),I=1-lr(s,h,f),b=1-lr(e,h,f),_=lr(e,h,l),m=lr(s,h,l)),N.push(Na[c]),N.push(Ca[c]),N.push(La[c])):85===c&&(E=1,w=0,x=1,v=0,I=0,b=1,_=0,m=1),(_<0||_>1||m<0||m>1||E<0||E>1||x<0||x>1||I<0||I>1||b<0||b>1)&&console.log(\"MarchingSquaresJS-isoBands: \"+c+\" \"+g+\" \"+h+\",\"+l+\",\"+p+\",\"+f+\" \"+d+\" \"+_+\" \"+m+\" \"+E+\" \"+w+\" \"+x+\" \"+v+\" \"+I+\" \"+b),o.cells[a][u]={cval:c,cval_real:g,flipped:d,topleft:_,topright:m,righttop:E,rightbottom:w,bottomright:x,bottomleft:v,leftbottom:I,lefttop:b,edges:N}}}}}return o}(t,e,n);return zs.polygons?(zs.verbose&&console.log(\"MarchingSquaresJS-isoBands: returning single polygons for each grid cell\"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,r){t.forEach(function(t,i){if(void 0!==t){var o=Ra[t.cval](t);\"object\"==typeof o&&pr(o)?\"object\"==typeof o[0]&&pr(o[0])?\"object\"==typeof o[0][0]&&pr(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=o):console.log(\"MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates\"):console.log(\"MarchingSquaresJS-isoBands: bandcell polygon with null coordinates\")}})}),e}(c)):(zs.verbose&&console.log(\"MarchingSquaresJS-isoBands: returning polygon paths for entire data grid\"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=t.cells[o][s],u=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Xs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Us?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Us?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Ys?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Xs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Us?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Us?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Ys?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Us?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Ys?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Ys?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&js?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Us?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Ys?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Ys?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&js?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Us?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&js?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Ys?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&js?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&js?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Xs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&js?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Xs?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log(\"MarchingSquaresJS-isoBands: edge index out of range!\"),console.log(t)}}return null}(a),c=null,h=s,l=o;null!==u&&i.push([u.p[0]+h,u.p[1]+l]);do{if(null===(c=function(t,e,n,r){var i,o,s,a,u,c=t.cval;switch(e){case-1:switch(r){case 0:i=Na[c],s=ea[c],a=na[c],u=ra[c];break;default:i=Ia[c],s=Qs[c],a=$s[c],u=ta[c]}break;case 1:switch(r){case 0:i=Ma[c],s=fa[c],a=ga[c],u=da[c];break;default:i=La[c],s=ha[c],a=la[c],u=pa[c]}break;default:switch(n){case-1:switch(r){case 0:i=Pa[c],s=Vs[c],a=Hs[c],u=Ws[c];break;default:i=Oa[c],s=Js[c],a=Zs[c],u=Ks[c]}break;case 1:switch(r){case 0:i=Sa[c],s=ia[c],a=oa[c],u=sa[c];break;default:i=Ca[c],s=aa[c],a=ua[c],u=ca[c]}}}{if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;!function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o)}switch(c=t.cval_real,i){case 0:c&Xs?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:c&Us?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:c&Us?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:c&Ys?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:c&Xs?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:c&Us?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:c&Us?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:c&Ys?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:c&Us?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:c&Ys?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:c&Ys?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:c&js?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:c&Us?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:c&Ys?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:c&Ys?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:c&js?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:c&Us?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:c&js?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:c&Ys?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:c&js?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:c&js?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:c&Xs?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:c&js?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:c&Xs?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log(\"MarchingSquaresJS-isoBands: edge index out of range!\"),console.log(t),null}void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log(\"MarchingSquaresJS-isoBands: undefined value!\"),console.log(t),console.log(e+\" \"+n+\" \"+s+\" \"+a+\" \"+u));return{p:[e,n],x:s,y:a,o:u}}(t.cells[l][h],u.x,u.y,u.o)))break;if(i.push([c.p[0]+h,c.p[1]+l]),h+=c.x,l+=c.y,u=c,l<0||l>=n||h<0||h>=r||void 0===t.cells[l][h]){h-=c.x,l-=c.y;var p=function(t,e,n,r,i,o){var s=t.cells[n][e],a=s.cval_real,u=e+r,c=n+i,h=[],l=!1;for(;!l;){if(void 0===t.cells[c]||void 0===t.cells[c][u])if(c-=i,u-=r,s=t.cells[c][u],a=s.cval_real,-1===i)if(0===o)if(a&Ys)h.push([u,c]),r=-1,i=0,o=0;else{if(!(a&Us)){h.push([u+s.bottomright,c]),r=0,i=1,o=1,l=!0;break}h.push([u+1,c]),r=1,i=0,o=0}else{if(!(a&Ys)){if(a&Us){h.push([u+s.bottomright,c]),r=0,i=1,o=1,l=!0;break}h.push([u+s.bottomleft,c]),r=0,i=1,o=0,l=!0;break}h.push([u,c]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&Xs)){if(a&js){h.push([u+s.topleft,c+1]),r=0,i=-1,o=0,l=!0;break}h.push([u+s.topright,c+1]),r=0,i=-1,o=1,l=!0;break}h.push([u+1,c+1]),r=1,i=0,o=1}else h.push([u+1,c+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&js)){if(a&Ys){h.push([u,c+s.leftbottom]),r=1,i=0,o=0,l=!0;break}h.push([u,c+s.lefttop]),r=1,i=0,o=1,l=!0;break}h.push([u,c+1]),r=0,i=1,o=0}else{if(!(a&js)){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}h.push([u,c+1]),r=0,i=1,o=0}else{if(1!==r){console.log(\"MarchingSquaresJS-isoBands: we came from nowhere!\");break}if(0===o){if(!(a&Us)){h.push([u+1,c+s.rightbottom]),r=-1,i=0,o=0,l=!0;break}h.push([u+1,c]),r=0,i=-1,o=1}else{if(!(a&Us)){if(a&Xs){h.push([u+1,c+s.righttop]),r=-1,i=0,o=1;break}h.push([u+1,c+s.rightbottom]),r=-1,i=0,o=0,l=!0;break}h.push([u+1,c]),r=0,i=-1,o=1}}else if(s=t.cells[c][u],a=s.cval_real,-1===r)if(0===o)if(void 0!==t.cells[c-1]&&void 0!==t.cells[c-1][u])r=0,i=-1,o=1;else{if(!(a&Ys)){h.push([u+s.bottomright,c]),r=0,i=1,o=1,l=!0;break}h.push([u,c])}else{if(!(a&js)){console.log(\"MarchingSquaresJS-isoBands: found entry from top at \"+u+\",\"+c);break}console.log(\"MarchingSquaresJS-isoBands: proceeding in x-direction!\")}else if(1===r){if(0===o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[c+1]&&void 0!==t.cells[c+1][u])r=0,i=1,o=0;else{if(!(a&Xs)){h.push([u+s.topleft,c+1]),r=0,i=-1,o=0,l=!0;break}h.push([u+1,c+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[c][u+1])r=1,i=0,o=1;else{if(!(a&Us)){h.push([u+1,c+s.righttop]),r=-1,i=0,o=1,l=!0;break}h.push([u+1,c]),r=0,i=-1,o=1}}else{if(1!==i){console.log(\"MarchingSquaresJS-isoBands: where did we came from???\");break}if(0!==o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[c][u-1])r=-1,i=0,o=0;else{if(!(a&js)){h.push([u,c+s.leftbottom]),r=1,i=0,o=0,l=!0;break}h.push([u,c+1]),r=0,i=1,o=0}}if(u+=r,c+=i,u===e&&c===n)break}return{path:h,i:u,j:c,x:r,y:i,o:o}}(t,h,l,c.x,c.y,c.o);if(null===p)break;p.path.forEach(function(t){i.push(t)}),h=p.i,l=p.j,u=p}}while(void 0!==t.cells[l][h]&&t.cells[l][h].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(c)),\"function\"==typeof zs.successCallback&&zs.successCallback(u),u}function lr(t,e,n){return(t-e)/(n-e)}function pr(t){return t.constructor.toString().indexOf(\"Array\")>-1}function fr(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.pivot,i=n.mutate;if(!t)throw new Error(\"geojson is required\");if(void 0===e||null===e||isNaN(e))throw new Error(\"angle is required\");return 0===e?t:(r||(r=ye(t)),!1!==i&&void 0!==i||(t=Gt(t)),S(t,function(t){var n=sn(r,t)+e,i=un(r,t),o=U(nr(r,i,n));t[0]=o[0],t[1]=o[1]}),t)}function gr(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.origin,i=n.mutate;if(!t)throw new Error(\"geojson required\");if(\"number\"!=typeof e||0===e)throw new Error(\"invalid factor\");var o=Array.isArray(r)||\"object\"==typeof r;return!0!==i&&(t=Gt(t)),\"FeatureCollection\"!==t.type||o?dr(t,e,r):(O(t,function(n,i){t.features[i]=dr(n,e,r)}),t)}function dr(t,e,n){var i=\"Point\"===K(t);return n=function(t,e){void 0!==e&&null!==e||(e=\"centroid\");if(Array.isArray(e)||\"object\"==typeof e)return X(e);var n=t.bbox?t.bbox:j(t),i=n[0],o=n[1],s=n[2],a=n[3];switch(e){case\"sw\":case\"southwest\":case\"westsouth\":case\"bottomleft\":return r([i,o]);case\"se\":case\"southeast\":case\"eastsouth\":case\"bottomright\":return r([s,o]);case\"nw\":case\"northwest\":case\"westnorth\":case\"topleft\":return r([i,a]);case\"ne\":case\"northeast\":case\"eastnorth\":case\"topright\":return r([s,a]);case\"center\":return de(t);case void 0:case null:case\"centroid\":return ye(t);default:throw new Error(\"invalid origin\")}}(t,n),1===e||i?t:(S(t,function(t){var r=un(n,t),i=sn(n,t),o=U(nr(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t)}function yr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function _r(t,e){return t[0]*e[1]-e[0]*t[1]}function mr(t,e){return!function(t,e){return 0===_r(yr(t),yr(e))}(t,e)&&function(t,e){var n=t[0],r=yr(t),i=e[0],o=yr(e),s=_r(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(_r(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/s,r))}(t,e)}function vr(t,e,n){var r=[],i=_(e,n),o=U(t),s=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r,s=t[1]+n*(t[0]-e[0])/r,a=e[1]+n*(t[0]-e[0])/r;return[[i,s],[o,a]]}(t,o[e+1],i);if(r.push(n),e>0){var a=r[e-1],u=mr(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}}),a(s,t.properties)}function xr(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(r*s-o*i)}function Er(t,e){return e.geometry.coordinates[0].every(function(e){return Pt(r(e),t)})}function wr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];if(r*s-i*o!=0)return!1;return Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function br(t,e){return nn(e,kn(t)).features.length>0}function Ir(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function Nr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Cr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),Lr(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function Sr(t,e){return nn(t,kn(e)).features.length>0}function Mr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,s=0;s<o&&n&&i;)Pt(r(t.coordinates[0][s]),e)?n=!0:i=!0,s++;return i&&i}function Lr(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Pr(t){return t.coordinates.map(function(e){return{type:t.type.replace(\"Multi\",\"\"),coordinates:e}})}function Or(t,e){return t.hasOwnProperty(\"coordinates\")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Rr(t,e){return ka(t,e,{strict:!0})}function Tr(t,e){if(!t)throw new Error(\"feature1 is required\");if(!e)throw new Error(\"feature2 is required\");var n=K(t);if(n!==K(e))throw new Error(\"features must be of the same type\");if(\"Point\"===n)throw new Error(\"Point geometry not supported\");if(new ja({precision:6}).compare(t,e))return!1;var r=0;switch(n){case\"MultiPoint\":var i=T(t),o=T(e);i.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case\"LineString\":case\"MultiLineString\":G(t,function(t){G(e,function(e){$n(t,e).features.length&&r++})});break;case\"Polygon\":case\"MultiPolygon\":G(t,function(t){G(e,function(e){nn(t,e).features.length&&r++})})}return r>0}function Ar(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Dr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error(\"Invalid GeoJSON object for \"+e)}function Fr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function qr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Gr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Gr(t,e,n){this.x=t,this.y=e,this.weight=n}function Br(t){this.content=[],this.scoreFunction=t}function kr(t){return t[0]}function zr(t){return t[1]}function jr(){this._=null}function Xr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ur(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Vr(t){for(;t.L;)t=t.L;return t}function Hr(t,e,n,r){var i=[null,null],o=uu.push(i)-1;return i.left=t,i.right=e,n&&Jr(i,t,e,n),r&&Jr(i,e,t,r),su[t.index].halfedges.push(o),su[e.index].halfedges.push(o),i}function Wr(t,e,n){var r=[e,n];return r.left=t,r}function Jr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Zr(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],c=s[1],h=0,l=1,p=a[0]-u,f=a[1]-c;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>h&&(h=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<l&&(l=o)}if(o=n-c,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>h&&(h=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<l&&(l=o)}return!(h>0||l<1)||(h>0&&(t[0]=[u+h*p,c+h*f]),l<1&&(t[1]=[u+l*p,c+l*f]),!0)}}}}}function Kr(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],c=t.left,h=t.right,l=c[0],p=c[1],f=h[0],g=h[1],d=(l+f)/2,y=(p+g)/2;if(g===p){if(d<e||d>=r)return;if(l>f){if(u){if(u[1]>=i)return}else u=[d,n];o=[d,i]}else{if(u){if(u[1]<n)return}else u=[d,i];o=[d,n]}}else if(s=(l-f)/(g-p),a=y-s*d,s<-1||s>1)if(l>f){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(p<g){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Qr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $r(t,e){return e[+(e.left!==t.site)]}function ti(t,e){return e[+(e.left===t.site)]}function ei(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,c=r[1]-a,h=o[0]-s,l=o[1]-a,p=2*(u*l-c*h);if(!(p>=-pu)){var f=u*u+c*c,g=h*h+l*l,d=(l*f-c*g)/p,y=(u*g-h*f)/p,_=cu.pop()||new function(){Xr(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=i,_.x=d+s,_.y=(_.cy=y+a)+Math.sqrt(d*d+y*y),t.circle=_;for(var m=null,v=au._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){m=v.P;break}v=v.L}else{if(!v.R){m=v;break}v=v.R}au.insert(m,_),m||(iu=_)}}}}function ni(t){var e=t.circle;e&&(e.P||(iu=e.N),au.remove(e),cu.push(e),Xr(e),t.circle=null)}function ri(t){var e=hu.pop()||new function(){Xr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function ii(t){ni(t),ou.remove(t),hu.push(t),Xr(t)}function oi(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];ii(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<lu&&Math.abs(r-u.circle.cy)<lu;)o=u.P,a.unshift(u),ii(u),u=o;a.unshift(u),ni(u);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<lu&&Math.abs(r-c.circle.cy)<lu;)s=c.N,a.push(c),ii(c),c=s;a.push(c),ni(c);var h,l=a.length;for(h=1;h<l;++h)c=a[h],u=a[h-1],Jr(c.edge,u.site,c.site,i);u=a[0],(c=a[l-1]).edge=Hr(u.site,c.site,null,i),ei(u),ei(c)}function si(t){for(var e,n,r,i,o=t[0],s=t[1],a=ou._;a;)if((r=ai(a,s)-o)>lu)a=a.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return ai(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(a,s))>lu)){r>-lu?(e=a.P,n=a):i>-lu?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){su[t.index]={site:t,halfedges:[]}}(t);var u=ri(t);if(ou.insert(e,u),e||n){if(e===n)return ni(e),n=ri(e.site),ou.insert(u,n),u.edge=n.edge=Hr(e.site,u.site),ei(e),void ei(n);if(n){ni(e),ni(n);var c=e.site,h=c[0],l=c[1],p=t[0]-h,f=t[1]-l,g=n.site,d=g[0]-h,y=g[1]-l,_=2*(p*y-f*d),m=p*p+f*f,v=d*d+y*y,x=[(y*m-f*v)/_+h,(p*v-d*m)/_+l];Jr(n.edge,c,g,x),u.edge=Hr(c,t,null,x),n.edge=Hr(t,g,null,x),ei(e),ei(n)}else u.edge=Hr(e.site,u.site)}}function ai(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],c=u-e;if(!c)return a;var h=a-r,l=1/o-1/c,p=h/c;return l?(-p+Math.sqrt(p*p-2*l*(h*h/(-2*c)-u+c/2+i-o/2)))/l+r:(r+a)/2}function ui(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ci(t,e){return e[1]-t[1]||e[0]-t[0]}function hi(t,e){var n,r,i,o=t.sort(ci).pop();for(uu=[],su=new Array(t.length),ou=new jr,au=new jr;;)if(i=iu,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(si(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;oi(i.arc)}if(function(){for(var t,e,n,r,i=0,o=su.length;i<o;++i)if((t=su[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Qr(t,uu[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=uu.length;o--;)Kr(i=uu[o],t,e,n,r)&&Zr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>lu||Math.abs(i[0][1]-i[1][1])>lu)||delete uu[o]}(s,a,u,c),function(t,e,n,r){var i,o,s,a,u,c,h,l,p,f,g,d,y=su.length,_=!0;for(i=0;i<y;++i)if(o=su[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)uu[u[a]]||u.splice(a,1);for(a=0,c=u.length;a<c;)g=(f=ti(o,uu[u[a]]))[0],d=f[1],l=(h=$r(o,uu[u[++a%c]]))[0],p=h[1],(Math.abs(g-l)>lu||Math.abs(d-p)>lu)&&(u.splice(a,0,uu.push(Wr(s,f,Math.abs(g-t)<lu&&r-d>lu?[t,Math.abs(l-t)<lu?p:r]:Math.abs(d-r)<lu&&n-g>lu?[Math.abs(p-r)<lu?l:n,r]:Math.abs(g-n)<lu&&d-e>lu?[n,Math.abs(l-n)<lu?p:e]:Math.abs(d-e)<lu&&g-t>lu?[Math.abs(p-e)<lu?l:t,e]:null))-1),++c);c&&(_=!1)}if(_){var m,v,x,E=1/0;for(i=0,_=null;i<y;++i)(o=su[i])&&(x=(m=(s=o.site)[0]-t)*m+(v=s[1]-e)*v)<E&&(E=x,_=o);if(_){var w=[t,e],b=[t,r],I=[n,r],N=[n,e];_.halfedges.push(uu.push(Wr(s=_.site,w,b))-1,uu.push(Wr(s,b,I))-1,uu.push(Wr(s,I,N))-1,uu.push(Wr(s,N,w))-1)}}for(i=0;i<y;++i)(o=su[i])&&(o.halfedges.length||delete su[i])}(s,a,u,c)}this.edges=uu,this.cells=su,ou=au=uu=su=null}function li(t){return(t=t.slice()).push(t[0]),o([t])}function pi(t,e,n,r){var i=(r=r||{}).steps||64,s=r.units||\"kilometers\",a=r.angle||0,u=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error(\"center is required\");if(!e)throw new Error(\"xSemiAxis is required\");if(!n)throw new Error(\"ySemiAxis is required\");if(!I(r))throw new Error(\"options must be an object\");if(!b(i))throw new Error(\"steps must be a number\");if(!b(a))throw new Error(\"angle must be a number\");var h=X(t);if(\"degrees\"===s)var l=x(a);else e=nr(t,e,90,{units:s}),n=nr(t,n,0,{units:s}),e=X(e)[0]-h[0],n=X(n)[1]-h[1];for(var p=[],f=0;f<i;f+=1){var g=-360*f/i,d=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(fi(g),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(fi(g),2));if(g<-90&&g>=-270&&(d=-d),g<-180&&g>=-360&&(y=-y),\"degrees\"===s){var _=d*Math.cos(l)+y*Math.sin(l),m=y*Math.cos(l)-d*Math.sin(l);d=_,y=m}p.push([d+h[0],y+h[1]])}return p.push(p[0]),\"degrees\"===s?o([p],c):fr(o([p],c),a,{pivot:u})}function fi(t){var e=t*Math.PI/180;return Math.tan(e)}function gi(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.properties,i=e.weight;if(!t)throw new Error(\"geojson is required\");var o=0,s=0,a=0;return A(t,function(t,e,n){var r=n[i];if(r=void 0===r||null===r?1:r,!b(r))throw new Error(\"weight value must be a number for feature index \"+e);(r=Number(r))>0&&S(t,function(t){o+=t[0]*r,s+=t[1]*r,a+=r})}),r([o/a,s/a],n)}function di(t,e,n,i){var o=n.properties.tolerance||.001,s=0,a=0,u=0,c=0;if(O(n,function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(r=Number(r),!b(r))throw new Error(\"weight value must be a number\");if(r>0){c+=1;var i=r*qt(e,t);0===i&&(i=1);var o=r/i;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,u+=o}}),c<1)throw new Error(\"no features to measure\");var h=s/u,l=a/u;return 1===c||0===i||Math.abs(h-e[0])<o&&Math.abs(l-e[1])<o?r([h,l],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([h,l]),di([h,l],t,n,i-1))}function yi(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function _i(t){if(I(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error(\"bbox is invalid\");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*Ei(),180*Ei()]}function mi(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(_i(n)));return c(i)}function vi(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;void 0!==t&&null!==t||(t=1),b(r)||(r=10),b(i)||(i=10);for(var s=[],a=0;a<t;a++){var u=[],h=Array.apply(null,new Array(r+1)).map(Math.random);h.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),h.forEach(function(t){t=2*t*Math.PI/h[h.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(_i(n))),s.push(o([u]))}return c(s)}function xi(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;void 0!==t&&null!==t||(t=1),(!b(r)||r<2)&&(r=10),b(i)||(i=1e-4),b(o)||(o=Math.PI/8);for(var s=[],u=0;u<t;u++){for(var h=[_i(n)],l=0;l<r-1;l++){var p=(0===l?2*Math.random()*Math.PI:Math.tan((h[l][1]-h[l-1][1])/(h[l][0]-h[l-1][0])))+(Math.random()-.5)*o*2,f=Math.random()*i;h.push([h[l][0]+f*Math.cos(p),h[l][1]+f*Math.sin(p)])}s.push(a(h))}return c(s)}function Ei(){return Math.random()-.5}function wi(t,e){if(!t)throw new Error(\"geojson is required\");if(\"FeatureCollection\"!==t.type)throw new Error(\"geojson must be a FeatureCollection\");if(void 0===e||null===e)throw new Error(\"filter is required\");var n=[];return O(t,function(t){Ci(t.properties,e)&&n.push(t)}),c(n)}function bi(t,e,n){if(!t)throw new Error(\"geojson is required\");if(\"FeatureCollection\"!==t.type)throw new Error(\"geojson must be a FeatureCollection\");if(void 0===e||null===e)throw new Error(\"property is required\");for(var r=Ni(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],h=0;h<a.length;h++)u.push(t.features[a[h]]);n(c(u),s,o)}}function Ii(t,e,n,r){var i=r;return bi(t,e,function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)}),i}function Ni(t,e){var n={};return O(t,function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}}),n}function Ci(t,e){if(void 0===t)return!1;var n=typeof e;if(\"number\"===n||\"string\"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!Ci(t,e[r]))return!1;return!0}return Si(t,e)}function Si(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Mi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function Li(){}function Pi(t){this.message=t||\"\"}function Oi(t){this.message=t||\"\"}function Ri(){}function Ti(t){return null===t?Ac:t.color}function Ai(t){return null===t?null:t.parent}function Di(t,e){null!==t&&(t.color=e)}function Fi(t){return null===t?null:t.left}function qi(t){return null===t?null:t.right}function Gi(){this.root_=null,this.size_=0}function Bi(){}function ki(){this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}function zi(){}function ji(t){this.message=t||\"\"}function Xi(){this.array_=[]}function Ui(t){switch(t.type){case\"Polygon\":return mn(t)>1?t:null;case\"MultiPolygon\":var e=[];if(F(t,function(t){mn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:\"MultiPolygon\",coordinates:e}}}function Yi(){this.reset()}function Vi(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Hi(t){return t>1?kf:t<-1?-kf:Math.asin(t)}function Wi(){}function Ji(t,e){t&&eg.hasOwnProperty(t.type)&&eg[t.type](t,e)}function Zi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ki(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Zi(t[n],e,1);e.polygonEnd()}function Qi(t){return[Hf(t[1],t[0]),Hi(t[2])]}function $i(t){var e=t[0],n=t[1],r=Wf(n);return[r*Wf(e),r*Kf(e),Kf(n)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function eo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function no(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function io(t){var e=Qf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function oo(t,e){return[t>Bf?t-jf:t<-Bf?t+jf:t,e]}function so(t,e,n){return(t%=jf)?e||n?rg(uo(t),co(e,n)):uo(t):e||n?co(e,n):oo}function ao(t){return function(e,n){return e+=t,[e>Bf?e-jf:e<-Bf?e+jf:e,n]}}function uo(t){var e=ao(t);return e.invert=ao(-t),e}function co(t,e){function n(t,e){var n=Wf(e),a=Wf(t)*n,u=Kf(t)*n,c=Kf(e),h=c*r+a*i;return[Hf(u*o-h*s,a*r-c*i),Hi(h*o+u*s)]}var r=Wf(t),i=Kf(t),o=Wf(e),s=Kf(e);return n.invert=function(t,e){var n=Wf(e),a=Wf(t)*n,u=Kf(t)*n,c=Kf(e),h=c*o-u*s;return[Hf(u*o+c*s,a*r+h*i),Hi(h*r-a*i)]},n}function ho(t,e){(e=$i(e))[0]-=t,io(e);var n=function(t){return t>1?0:t<-1?Bf:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+jf-Gf)%jf}function lo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function po(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function fo(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,c){var h=0,l=0;if(null==i||(h=s(i,a))!==(l=s(o,a))||u(i,o)<0^a>0)do{c.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+a+4)%4)!==l);else c.point(o[0],o[1])}function s(r,i){return Yf(r[0]-t)<Gf?i>0?0:3:Yf(r[0]-n)<Gf?i>0?2:1:Yf(r[1]-e)<Gf?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){i(t,e)&&E.point(t,e)}function c(o,s){var a=i(o,s);if(l&&p.push([o,s]),v)f=o,g=s,d=a,v=!1,a&&(E.lineStart(),E.point(o,s));else if(a&&m)E.point(o,s);else{var u=[y=Math.max(pg,Math.min(lg,y)),_=Math.max(pg,Math.min(lg,_))],c=[o=Math.max(pg,Math.min(lg,o)),s=Math.max(pg,Math.min(lg,s))];sg(u,c,t,e,n,r)?(m||(E.lineStart(),E.point(u[0],u[1])),E.point(c[0],c[1]),a||E.lineEnd(),x=!1):a&&(E.lineStart(),E.point(o,s),x=!1)}y=o,_=s,m=a}var h,l,p,f,g,d,y,_,m,v,x,E=s,w=og(),b={point:u,lineStart:function(){b.point=c,l&&l.push(p=[]),v=!0,m=!1,y=_=NaN},lineEnd:function(){h&&(c(f,g),d&&m&&w.rejoin(),h.push(w.result())),b.point=u,m&&E.lineEnd()},polygonStart:function(){E=w,h=[],l=[],x=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,s,a=l[n],u=1,c=a.length,h=a[0],p=h[0],f=h[1];u<c;++u)o=p,s=f,p=(h=a[u])[0],f=h[1],s<=r?f>r&&(p-o)*(r-s)>(f-s)*(t-o)&&++e:f<=r&&(p-o)*(r-s)<(f-s)*(t-o)&&--e;return e}(),n=x&&e,i=(h=hg(h)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&ug(h,a,e,o,s),s.polygonEnd()),E=s,h=l=p=null}};return b}}function go(t){return t.length>1}function yo(t,e){return((t=t.x)[0]<0?t[1]-kf-Gf:kf-t[1])-((e=e.x)[0]<0?e[1]-kf-Gf:kf-e[1])}function _o(t){return function(e){var n=new mo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mo(){}function vo(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),ng(n,t.stream(vg));var s=vg.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,c])}function xo(t){return function(t){function e(t){return t=c(t[0]*Uf,t[1]*Uf),[t[0]*d+s,a-t[1]*d]}function n(t,e){return t=o(t,e),[t[0]*d+s,a-t[1]*d]}function r(){c=rg(u=so(x,E,w),o);var t=o(m,v);return s=y-t[0]*d,a=_+t[1]*d,i()}function i(){return f=g=null,e}var o,s,a,u,c,h,l,p,f,g,d=150,y=480,_=250,m=0,v=0,x=0,E=0,w=0,b=null,I=Eg,N=null,C=gg,S=.5,M=Ng(n,S);e.stream=function(t){return f&&g===t?f:f=Cg(I(u,M(C(g=t))))},e.clipAngle=function(t){return arguments.length?(I=+t?wg(b=t*Uf,6*Uf):(b=null,Eg),i()):b*Xf},e.clipExtent=function(t){return arguments.length?(C=null==t?(N=h=l=p=null,gg):fo(N=+t[0][0],h=+t[0][1],l=+t[1][0],p=+t[1][1]),i()):null==N?null:[[N,h],[l,p]]},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(y=+t[0],_=+t[1],r()):[y,_]},e.center=function(t){return arguments.length?(m=t[0]%360*Uf,v=t[1]%360*Uf,r()):[m*Xf,v*Xf]},e.rotate=function(t){return arguments.length?(x=t[0]%360*Uf,E=t[1]%360*Uf,w=t.length>2?t[2]%360*Uf:0,r()):[x*Xf,E*Xf,w*Xf]},e.precision=function(t){return arguments.length?(M=Ng(n,S=t*t),i()):Qf(S)},e.fitExtent=function(t,n){return vo(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return vo(t,[[0,0],e],n)}(e,t,n)};return function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=c.invert((t[0]-s)/d,(a-t[1])/d))&&[t[0]*Xf,t[1]*Xf]},r()}}(function(){return t})()}function Eo(t,e){return[t,Zf($f((kf+e)/2))]}function wo(t,e){return[Zf($f((kf+e)/2)),-t]}function bo(t,n,r,i){var o=t.properties||{},s=\"Feature\"===t.type?t.geometry:t;if(\"GeometryCollection\"===s.type){var a=[];return A(t,function(t){var e=bo(t,n,r,i);e&&a.push(e)}),c(a)}var u,h=j(t),l=h[1]>50&&h[3]>50;u=l?{type:s.type,coordinates:No(s.coordinates,So(s))}:cn(s);var p=(new bh).read(u),f=d(y(n,r),\"meters\"),g=gp.bufferOp(p,f);if(g=(new Ih).write(g),!Io(g.coordinates)){var _;return(_=l?{type:g.type,coordinates:Co(g.coordinates,So(s))}:hn(g)).geometry?_:e(_,o)}}function Io(t){return Array.isArray(t[0])?Io(t[0]):isNaN(t[0])}function No(t,e){return\"object\"!=typeof t[0]?e(t):t.map(function(t){return No(t,e)})}function Co(t,e){return\"object\"!=typeof t[0]?e.invert(t):t.map(function(t){return Co(t,e)})}function So(t){var e=de(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return Sg().center(e).rotate(n).scale(Fo)}function Mo(){for(var t=new bh,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=Df.union(e,t.read(JSON.stringify(arguments[n].geometry)));return e=(new Ih).write(e),{type:\"Feature\",geometry:e,properties:arguments[0].properties}}function Lo(t,n){var r=J(t),i=J(n);if(te(Pn(i,{precision:4})).coordinates[0].length<4)return null;if(te(Pn(r,{precision:4})).coordinates[0].length<4)return null;var o=new bh,s=o.read(Pn(r)),a=o.read(Pn(i)),u=Cf.intersection(s,a);if(u.isEmpty())return null;return e((new Ih).write(u))}function Po(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error(\"Get closest expects an array as second argument\");return e.forEach(function(e,o){var s=n(e,t);s>=0&&(void 0===i||s<i)&&(i=s,r=o)}),r}(t,e,function(t,e){return t-e})}function Oo(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.properties||{},i=n.triangles,s=n.mask;if(null===e||void 0===e)throw new Error(\"cellSide is required\");if(!b(e))throw new Error(\"cellSide is invalid\");if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be array\");if(4!==t.length)throw new Error(\"bbox must contain 4 numbers\");if(s&&-1===[\"Polygon\",\"MultiPolygon\"].indexOf(K(s)))throw new Error(\"options.mask must be a (Multi)Polygon\");var a=t[0],u=t[1],h=t[2],l=t[3],p=(u+l)/2,f=(a+h)/2,g=2*e/qt([a,p],[h,p],n)*(h-a),d=2*e/qt([f,u],[f,l],n)*(l-u),y=g/2,_=2*y,m=Math.sqrt(3)/2*d,v=h-a,x=l-u,E=.75*_,w=m,N=(v-_)/(_-y/2),C=Math.floor(N),S=(C*E-y/2-v)/2-y/2+E/2,M=Math.floor((x-m)/m),L=(x-M*m)/2,P=M*m-x>m/2;P&&(L-=m/4);for(var O=[],R=[],T=0;T<6;T++){var A=2*Math.PI/6*T;O.push(Math.cos(A)),R.push(Math.sin(A))}for(var D=[],F=0;F<=C;F++)for(var q=0;q<=M;q++){var G=F%2==1;if((0!==q||!G)&&(0!==q||!P)){var B=F*E+a-S,k=q*w+u+L;if(G&&(k-=m/2),!0===i)(function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var c=[];c.push(t),c.push([t[0]+e*i[u],t[1]+n*s[u]]),c.push([t[0]+e*i[(u+1)%6],t[1]+n*s[(u+1)%6]]),c.push(t),a.push(o([c],r))}return a})([B,k],g/2,d/2,r,O,R).forEach(function(t){s?Lo(s,t)&&D.push(t):D.push(t)});else{var z=function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var c=t[0]+e*i[u],h=t[1]+n*s[u];a.push([c,h])}return a.push(a[0].slice()),o([a],r)}([B,k],g/2,d/2,r,O,R);s?Lo(s,z)&&D.push(z):D.push(z)}}}return c(D)}function Ro(t){if(t.features.length<=1)return t;var e=function(t){var e=Vo(),n=[];return F(t,function(t,e){var r=j(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return F(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},To),r[i]=!0;;){var o=j(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map(function(t){return r[t.index]=!0,e.remove({index:t.index},To),t.geojson});a.push(t),t=Mo.apply(this,a)}if(0===s.length)break}n.push(t)}),c(n)}function To(t,e){return t.index===e.index}function Ao(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.properties,i=n.mask,s=[];if(null===e||void 0===e)throw new Error(\"cellSide is required\");if(!b(e))throw new Error(\"cellSide is invalid\");if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be array\");if(4!==t.length)throw new Error(\"bbox must contain 4 numbers\");if(i&&-1===[\"Polygon\",\"MultiPolygon\"].indexOf(K(i)))throw new Error(\"options.mask must be a (Multi)Polygon\");for(var a=t[0],u=t[1],h=t[2],l=t[3],p=e/qt([a,u],[h,u],n)*(h-a),f=e/qt([a,u],[a,l],n)*(l-u),g=h-a,d=l-u,y=Math.floor(g/p),_=Math.floor(d/f),m=(d-_*f)/2,v=a+(g-y*p)/2,x=0;x<y;x++){for(var E=u+m,w=0;w<_;w++){var N=o([[[v,E],[v,E+f],[v+p,E+f],[v+p,E],[v,E]]],r);i?Lo(i,N)&&s.push(N):s.push(N),E+=f}v+=p}return c(s)}function Do(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.properties,i=n.mask,s=[];if(null===e||void 0===e)throw new Error(\"cellSide is required\");if(!b(e))throw new Error(\"cellSide is invalid\");if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be array\");if(4!==t.length)throw new Error(\"bbox must contain 4 numbers\");if(i&&-1===[\"Polygon\",\"MultiPolygon\"].indexOf(K(i)))throw new Error(\"options.mask must be a (Multi)Polygon\");for(var a=e/qt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/qt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),h=0,l=t[0];l<=t[2];){for(var p=0,f=t[1];f<=t[3];){var g=null,d=null;h%2==0&&p%2==0?(g=o([[[l,f],[l,f+u],[l+a,f],[l,f]]],r),d=o([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]],r)):h%2==0&&p%2==1?(g=o([[[l,f],[l+a,f+u],[l+a,f],[l,f]]],r),d=o([[[l,f],[l,f+u],[l+a,f+u],[l,f]]],r)):p%2==0&&h%2==1?(g=o([[[l,f],[l,f+u],[l+a,f+u],[l,f]]],r),d=o([[[l,f],[l+a,f+u],[l+a,f],[l,f]]],r)):p%2==1&&h%2==1&&(g=o([[[l,f],[l,f+u],[l+a,f],[l,f]]],r),d=o([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]],r)),i?(Lo(i,g)&&s.push(g),Lo(i,d)&&s.push(d)):(s.push(g),s.push(d)),f+=u,p++}h++,l+=a}return c(s)}var Fo=6371008.8,qo={meters:Fo,metres:Fo,millimeters:1e3*Fo,millimetres:1e3*Fo,centimeters:100*Fo,centimetres:100*Fo,kilometers:Fo/1e3,kilometres:Fo/1e3,miles:Fo/1609.344,nauticalmiles:Fo/1852,inches:39.37*Fo,yards:Fo/1.0936,feet:3.28084*Fo,radians:1,degrees:Fo/111325},Go={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Fo,degrees:1/111325},Bo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006},ko=Object.freeze({earthRadius:Fo,factors:qo,unitsFactors:Go,areaFactors:Bo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:s,lineString:a,lineStrings:u,featureCollection:c,multiLineString:h,multiPoint:l,multiPolygon:p,geometryCollection:f,round:g,radiansToLength:d,lengthToRadians:y,lengthToDegrees:_,bearingToAzimuth:m,radiansToDegrees:v,degreesToRadians:x,convertLength:E,convertArea:w,isNumber:b,isObject:I,validateBBox:N,validateId:C,radians2degrees:function(){throw new Error(\"method has been renamed to `radiansToDegrees`\")},degrees2radians:function(){throw new Error(\"method has been renamed to `degreesToRadians`\")},distanceToDegrees:function(){throw new Error(\"method has been renamed to `lengthToDegrees`\")},distanceToRadians:function(){throw new Error(\"method has been renamed to `lengthToRadians`\")},radiansToDistance:function(){throw new Error(\"method has been renamed to `radiansToLength`\")},bearingToAngle:function(){throw new Error(\"method has been renamed to `bearingToAzimuth`\")},convertDistance:function(){throw new Error(\"method has been renamed to `convertLength`\")}}),zo=Object.freeze({coordEach:S,coordReduce:M,propEach:L,propReduce:P,featureEach:O,featureReduce:R,coordAll:T,geomEach:A,geomReduce:D,flattenEach:F,flattenReduce:q,segmentEach:G,segmentReduce:B,lineEach:k,lineReduce:z}),jo=Object.freeze({getCoord:X,getCoords:U,containsNumber:Y,geojsonType:V,featureOf:H,collectionOf:W,getGeom:J,getGeomType:Z,getType:K}),Xo={successCallback:null,verbose:!1},Uo={},Yo=it,Vo=st;st.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!dt(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],dt(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):gt(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!dt(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],s=e.leaf?n(o):o,dt(t,s)){if(e.leaf||gt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=yt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!gt(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ht,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=yt(t.slice(e,n+1)),at(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=yt([])).leaf=!1,i.height=r;var a,u,c,h,l=Math.ceil(o/s),p=l*Math.ceil(Math.sqrt(s));for(_t(t,e,n,p,this.compareMinX),a=e;a<=n;a+=p)for(_t(t,a,c=Math.min(a+p-1,n),l,this.compareMinY),u=a;u<=c;u+=l)h=Math.min(u+l-1,c),i.children.push(this._build(t,u,h,r-1));return at(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,c,h,l;r.push(e),!e.leaf&&r.length-1!==n;){for(h=l=1/0,i=0,o=e.children.length;i<o;i++)u=pt(s=e.children[i]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<l?(l=c,h=u<h?u:h,a=s):c===l&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),ct(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=yt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,at(n,this.toBBox),at(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=yt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,at(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,c,h;for(u=c=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ut(t,0,r,this.toBBox),o=ut(t,r,n,this.toBBox)),a=pt(i)+pt(o),s<u?(u=s,h=r,c=a<c?a:c):s===u&&a<c&&(c=a,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ht,i=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=ut(t,0,e,s),u=ut(t,n-e,n,s),c=ft(a)+ft(u);for(i=e;i<n-e;i++)o=t.children[i],ct(a,t.leaf?s(o):o),c+=ft(a);for(i=n-e-1;i>=e;i--)o=t.children[i],ct(u,t.leaf?s(o):o),c+=ft(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)ct(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():at(t[n],this.toBBox)},_initFormat:function(t){var e=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",e.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",e.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}};var Ho=function(t,e,n){var r=t*e,i=Wo*t,o=i-(i-t),s=t-o,a=Wo*e,u=a-(a-e),c=e-u,h=s*c-(r-o*u-s*u-o*c);return n?(n[0]=h,n[1]=r,n):[h,r]},Wo=+(Math.pow(2,27)+1),Jo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=n+r,a=new Array(s),u=0,c=0,h=0,l=Math.abs,p=t[c],f=l(p),g=e[h],d=l(g);f<d?(o=p,(c+=1)<n&&(f=l(p=t[c]))):(o=g,(h+=1)<r&&(d=l(g=e[h]))),c<n&&f<d||h>=r?(i=p,(c+=1)<n&&(f=l(p=t[c]))):(i=g,(h+=1)<r&&(d=l(g=e[h])));for(var y,_,m=i+o,v=m-i,x=o-v,E=x,w=m;c<n&&h<r;)f<d?(i=p,(c+=1)<n&&(f=l(p=t[c]))):(i=g,(h+=1)<r&&(d=l(g=e[h]))),(x=(o=E)-(v=(m=i+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y;for(;c<n;)(x=(o=E)-(v=(m=(i=p)+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y,(c+=1)<n&&(p=t[c]);for(;h<r;)(x=(o=E)-(v=(m=(i=g)+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y,(h+=1)<r&&(g=e[h]);return E&&(a[u++]=E),w&&(a[u++]=w),u||(a[u++]=0),a.length=u,a},Zo=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},Ko=function(t,e){var n=t.length;if(1===n){var r=Ho(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Ho(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){Ho(t[u],e,s);var c=o[1];Zo(c,s[0],o),o[0]&&(i[a++]=o[0]);var h=s[1],l=o[1],p=h+l,f=l-(p-h);o[1]=p,f&&(i[a++]=f)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Qo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=n+r,a=new Array(s),u=0,c=0,h=0,l=Math.abs,p=t[c],f=l(p),g=-e[h],d=l(g);f<d?(o=p,(c+=1)<n&&(f=l(p=t[c]))):(o=g,(h+=1)<r&&(d=l(g=-e[h]))),c<n&&f<d||h>=r?(i=p,(c+=1)<n&&(f=l(p=t[c]))):(i=g,(h+=1)<r&&(d=l(g=-e[h])));for(var y,_,m=i+o,v=m-i,x=o-v,E=x,w=m;c<n&&h<r;)f<d?(i=p,(c+=1)<n&&(f=l(p=t[c]))):(i=g,(h+=1)<r&&(d=l(g=-e[h]))),(x=(o=E)-(v=(m=i+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y;for(;c<n;)(x=(o=E)-(v=(m=(i=p)+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y,(c+=1)<n&&(p=t[c]);for(;h<r;)(x=(o=E)-(v=(m=(i=g)+o)-i))&&(a[u++]=x),E=w-((y=w+m)-(_=y-w))+(m-_),w=y,(h+=1)<r&&(g=-e[h]);return E&&(a[u++]=E),w&&(a[u++]=w),u||(a[u++]=0),a.length=u,a},$o=mt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){return 1&t?\"-\":\"\"}function r(t){if(1===t.length)return t[0];if(2===t.length)return[\"sum(\",t[0],\",\",t[1],\")\"].join(\"\");var e=t.length>>1;return[\"sum(\",r(t.slice(0,e)),\",\",r(t.slice(e)),\")\"].join(\"\")}function i(t){if(2===t.length)return[[\"sum(prod(\",t[0][0],\",\",t[1][1],\"),prod(-\",t[0][1],\",\",t[1][0],\"))\"].join(\"\")];for(var o=[],s=0;s<t.length;++s)o.push([\"scale(\",r(i(e(t,s))),\",\",n(s),t[0][s],\")\"].join(\"\"));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=[\"m\",r,\"[\",t-n-1,\"]\"].join(\"\")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(s,u))):o.push.apply(o,i(e(s,u))),a.push(\"m\"+u);var c=r(n),h=r(o),l=\"orientation\"+t+\"Exact\",p=[\"function \",l,\"(\",a.join(),\"){var p=\",c,\",n=\",h,\",d=sub(p,n);return d[d.length-1];};return \",l].join(\"\");return new Function(\"sum\",\"prod\",\"scale\",\"sub\",p)(Jo,Ho,Ko,Qo)}var s=5,a=o(3),u=o(4),c=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var u=3.3306690738754716e-16*r;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],a=t[1]-r[1],c=e[1]-r[1],h=n[1]-r[1],l=t[2]-r[2],p=e[2]-r[2],f=n[2]-r[2],g=o*h,d=s*c,y=s*a,_=i*h,m=i*c,v=o*a,x=l*(g-d)+p*(y-_)+f*(m-v),E=7.771561172376103e-16*((Math.abs(g)+Math.abs(d))*Math.abs(l)+(Math.abs(y)+Math.abs(_))*Math.abs(p)+(Math.abs(m)+Math.abs(v))*Math.abs(f));return x>E||-x>E?x:u(t,e,n,r)}];!function(){for(;c.length<=s;)c.push(o(c.length));for(var e=[],n=[\"slow\"],r=0;r<=s;++r)e.push(\"a\"+r),n.push(\"o\"+r);var i=[\"function getOrientation(\",e.join(),\"){switch(arguments.length){case 0:case 1:return 0;\"];for(r=2;r<=s;++r)i.push(\"case \",r,\":return o\",r,\"(\",e.slice(0,r).join(),\");\");i.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\"),n.push(i.join(\"\"));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=c[t.length];return e||(e=c[t.length]=o(t.length)),e.apply(void 0,t)}].concat(c)),r=0;r<=s;++r)t.exports[r]=c[r]}()}),ts=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort(function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]});var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],c=o.length;c>1&&es(t[o[c-2]],t[o[c-1]],u)<=0;)c-=1,o.pop();for(o.push(a),c=s.length;c>1&&es(t[s[c-2]],t[s[c-1]],u)>=0;)c-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var h=0,l=(r=0,o.length);r<l;++r)n[h++]=o[r];for(var p=s.length-2;p>0;--p)n[h++]=s[p];return n},es=$o[3],ns=vt,rs=vt;vt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},ns.default=rs;var is=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],c=e[s][0],h=e[s][1];u>r!=h>r&&n<(c-a)*(r-u)/(h-u)+a&&(i=!i)}return i},os=$o[3],ss=xt,as=xt;ss.default=as;var us=function(t){return t},cs=function(t){if(null==t)return us;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,c=t.length,h=new Array(c);for(h[0]=(e+=t[0])*r+o,h[1]=(n+=t[1])*i+s;u<c;)h[u]=t[u],++u;return h}},hs=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},ls=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},i={},o={},s=[],a=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)}),e.forEach(function(e){var n,r,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var c=r===n?n:n.concat(r);i[c.start=n.start]=o[c.end=r.end]=c}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,r=o[a]){delete o[r.end];var h=r===n?n:r.concat(n);i[h.start=r.start]=o[h.end=n.end]=h}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=a]=o[n.end=u]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s},ps=function(t){return Xt(t,Ut.apply(this,arguments))},fs=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,c=0;c<t;++c)s[c]=i;return{set:function(r,o){for(var c=e(r)&u,h=s[c],l=0;h!=i;){if(n(h,r))return a[c]=o;if(++l>=t)throw new Error(\"full hashmap\");h=s[c=c+1&u]}return s[c]=r,a[c]=o,o},maybeSet:function(r,o){for(var c=e(r)&u,h=s[c],l=0;h!=i;){if(n(h,r))return a[c];if(++l>=t)throw new Error(\"full hashmap\");h=s[c=c+1&u]}return s[c]=r,a[c]=o,o},get:function(r,o){for(var c=e(r)&u,h=s[c],l=0;h!=i;){if(n(h,r))return a[c];if(++l>=t)break;h=s[c=c+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}}},gs=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ds=new ArrayBuffer(16),ys=new Float64Array(ds),_s=new Uint32Array(ds),ms=function(t){ys[0]=t[0],ys[1]=t[1];var e=_s[0]^_s[1];return 2147483647&(e=e<<5^e>>7^_s[2]^_s[3])},vs=function(t){function e(t,e,n,r){if(p[n]!==t){p[n]=t;var i=f[n];if(i>=0){var o=g[n];i===e&&o===r||i===r&&o===e||(++y,d[n]=1)}else f[n]=e,g[n]=r}}function n(t){return ms(u[t])}function r(t,e){return gs(u[t],u[e])}var i,o,s,a,u=t.coordinates,c=t.lines,h=t.rings,l=function(){for(var t=fs(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),p=new Int32Array(u.length),f=new Int32Array(u.length),g=new Int32Array(u.length),d=new Int8Array(u.length),y=0;for(i=0,o=u.length;i<o;++i)p[i]=f[i]=g[i]=-1;for(i=0,o=c.length;i<o;++i){var _=c[i],m=_[0],v=_[1];for(s=l[m],a=l[++m],++y,d[s]=1;++m<=v;)e(i,s,s=a,a=l[m]);++y,d[a]=1}for(i=0,o=u.length;i<o;++i)p[i]=-1;for(i=0,o=h.length;i<o;++i){var x=h[i],E=x[0]+1,w=x[1];for(e(i,l[w-1],s=l[E-1],a=l[E]);++E<=w;)e(i,s,s=a,a=l[E])}p=f=g=null;var b,I=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(r){for(var a=e(r)&s,u=o[a],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)throw new Error(\"full hashset\");u=o[a=a+1&s]}return o[a]=r,!0},has:function(r){for(var a=e(r)&s,u=o[a],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*y,ms,gs);for(i=0,o=u.length;i<o;++i)d[b=l[i]]&&I.add(u[b]);return I},xs=function(t){var e,n,r,i=vs(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],c=u[0],h=u[1];++c<h;)i.has(o[c])&&(e={0:c,1:u[1]},u[1]=c,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var l=a[n],p=l[0],f=p,g=l[1],d=i.has(o[p]);++f<g;)i.has(o[f])&&(d?(e={0:f,1:l[1]},l[1]=f,l=l.next=e):(!function(t,e,n,r){Yt(t,e,n),Yt(t,e,e+r),Yt(t,e+r,n)}(o,p,g,g-f),o[g]=o[p],d=!0,f=p));return t},Es=function(t){function e(t){var e,n,r,i,o,s,a,u;if(r=f.get(e=c[t[0]]))for(a=0,u=r.length;a<u;++a)if(i=r[a],function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,++r)if(!gs(c[n],c[r]))return!1;return!0}(i,t))return t[0]=i[0],void(t[1]=i[1]);if(o=f.get(n=c[t[1]]))for(a=0,u=o.length;a<u;++a)if(s=o[a],function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!gs(c[n],c[o]))return!1;return!0}(s,t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),g.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var s=i(t),a=i(e),u=0;u<o;++u)if(!gs(c[n+(u+s)%o],c[r+(u+a)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],s=e[1],a=o-n;if(a!==s-r)return!1;for(var u=i(t),h=a-i(e),l=0;l<a;++l)if(!gs(c[n+(l+u)%a],c[s-(l+h)%a]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=c[r];++r<n;){var s=c[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}var o,s,a,u,c=t.coordinates,h=t.lines,l=t.rings,p=h.length+l.length;for(delete t.lines,delete t.rings,a=0,u=h.length;a<u;++a)for(o=h[a];o=o.next;)++p;for(a=0,u=l.length;a<u;++a)for(s=l[a];s=s.next;)++p;var f=fs(2*p*1.4,ms,gs),g=t.arcs=[];for(a=0,u=h.length;a<u;++a){o=h[a];do{e(o)}while(o=o.next)}for(a=0,u=l.length;a<u;++a)if((s=l[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,u;if(o=f.get(e=c[t[0]]))for(a=0,u=o.length;a<u;++a){if(s=o[a],n(s,t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=f.get(e=c[t[0]+i(t)]))for(a=0,u=o.length;a<u;++a){if(s=o[a],n(s,t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):f.set(e,[t]),g.push(t)}(s);return t},ws=function(t,e){function n(t){t&&h.hasOwnProperty(t.type)&&h[t.type](t)}function r(t){var e=[];do{var n=c.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,s=1/0,a=-1/0,u=-1/0,c={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var h in t)e(t[h]);return a>=o&&u>=s?[o,s,a,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Vt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-c)*f),Math.round((t[1]-h)*g)]}function i(t,e){for(var n,r,i,o,s,a=-1,u=0,l=t.length,p=new Array(l);++a<l;)n=t[a],o=Math.round((n[0]-c)*f),s=Math.round((n[1]-h)*g),o===r&&s===i||(p[u++]=[r=o,i=s]);for(p.length=u;u<e;)u=p.push([p[0][0],p[0][1]]);return p}function o(t){return i(t,2)}function s(t){return i(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&d.hasOwnProperty(t.type)&&d[t.type](t)}var c=e[0],h=e[1],l=e[2],p=e[3],f=l-c?(n-1)/(l-c):1,g=p-h?(n-1)/(p-h):1,d={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var y in t)u(t[y]);return{scale:[1/f,1/g],translate:[c,h]}}(t,o,e),a=Es(xs(function(t){function e(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function i(t){return t.map(r)}var o=-1,s=[],a=[],u=[],c={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var h in t)e(t[h]);return{type:\"Topology\",coordinates:u,lines:s,rings:a,objects:t}}(t))),u=a.coordinates,c=fs(1.4*a.arcs.length,Jt,Zt);t=a.objects,a.bbox=o,a.arcs=a.arcs.map(function(t,e){return c.set(t,e),u.slice(t[0],t[1]+1)}),delete a.coordinates,u=null;var h={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var l in t)n(t[l]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,c=o[0],h=c[0],l=c[1];++s<u;)r=(c=o[s])[0],i=c[1],r===h&&i===l||(o[a++]=[r-h,i-l],h=r,l=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},bs=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};bs.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},bs.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},bs.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Is=ve,Ns=ve;ve.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(Ae(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var c=e[a]*n,h=a<u-1?e[a+1]*n:t.length;s-=Math.abs(Ae(t,c,h,n))}var l=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,f=r[a+1]*n,g=r[a+2]*n;l+=Math.abs((t[p]-t[g])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[g+1]-t[p+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},ve.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},Is.default=Ns,ke.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Je(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],Je(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):We(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Je(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],s=e.leaf?n(o):o,Je(t,s)){if(e.leaf||We(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Ze([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!We(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Ue,compareMinY:Ye,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=Ze(t.slice(e,n+1)),ze(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=Ze([])).leaf=!1,i.height=r;var a,u,c,h,l=Math.ceil(o/s),p=l*Math.ceil(Math.sqrt(s));for(Ke(t,e,n,p,this.compareMinX),a=e;a<=n;a+=p)for(Ke(t,a,c=Math.min(a+p-1,n),l,this.compareMinY),u=a;u<=c;u+=l)h=Math.min(u+l-1,c),i.children.push(this._build(t,u,h,r-1));return ze(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,c,h,l;r.push(e),!e.leaf&&r.length-1!==n;){for(h=l=1/0,i=0,o=e.children.length;i<o;i++)u=Ve(s=e.children[i]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<l?(l=c,h=u<h?u:h,a=s):c===l&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),Xe(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=Ze(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ze(n,this.toBBox),ze(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Ze([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ze(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,c,h;for(u=c=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=je(t,0,r,this.toBBox),o=je(t,r,n,this.toBBox)),a=Ve(i)+Ve(o),s<u?(u=s,h=r,c=a<c?a:c):s===u&&a<c&&(c=a,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ue,i=t.leaf?this.compareMinY:Ye;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=je(t,0,e,s),u=je(t,n-e,n,s),c=He(a)+He(u);for(i=e;i<n-e;i++)o=t.children[i],Xe(a,t.leaf?s(o):o),c+=He(a);for(i=n-e-1;i>=e;i--)o=t.children[i],Xe(u,t.leaf?s(o):o),c+=He(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Xe(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ze(t[n],this.toBBox)},_initFormat:function(t){var e=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",e.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",e.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}};var Cs=Object.freeze({toMercator:cn,toWgs84:hn}),Ss=6378137,Ms=function(t,e,n){function r(t,n,r,i){var u=o[t][n],c=o[t][n+1],h=o[r][i],l=o[r][i+1],p=function(t,e,n,r){if(On(t,n)||On(t,r)||On(e,n)||On(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],c=n[1],h=r[0],l=r[1],p=(i-s)*(c-l)-(o-a)*(u-h);return 0===p?null:[((i*a-o*s)*(u-h)-(i-s)*(u*l-c*h))/p,((i*a-o*s)*(c-l)-(o-a)*(u*l-c*h))/p]}(u,c,h,l);if(null!==p){var f,g;if(f=c[0]!==u[0]?(p[0]-u[0])/(c[0]-u[0]):(p[1]-u[1])/(c[1]-u[1]),g=l[0]!==h[0]?(p[0]-h[0])/(l[0]-h[0]):(p[1]-h[1])/(l[1]-h[1]),!(f>=1||f<=0||g>=1||g<=0)){var d=p,y=!a[d];y&&(a[d]=!0),e?s.push(e(p,t,n,u,c,f,r,i,h,l,g,y)):s.push(p)}}}function i(t,e){var n,r,i,s,a=o[t][e],u=o[t][e+1];return a[0]<u[0]?(n=a[0],r=u[0]):(n=u[0],r=a[0]),a[1]<u[1]?(i=a[1],s=u[1]):(i=u[1],s=a[1]),{minX:n,minY:i,maxX:r,maxY:s,ring:t,edge:e}}if(\"Polygon\"!==t.geometry.type)throw new Error(\"The input feature must be a Polygon\");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var u=[],c=0;c<o.length;c++)for(var h=0;h<o[c].length-1;h++)u.push(i(c,h));var l=Vo();l.load(u)}for(var p=0;p<o.length;p++)for(var f=0;f<o[p].length-1;f++)if(n){l.search(i(p,f)).forEach(function(t){var e=t.ring,n=t.edge;r(p,f,e,n)})}else for(var g=0;g<o.length;g++)for(var d=0;d<o[g].length-1;d++)r(p,f,g,d);return e||(s={type:\"Feature\",geometry:{type:\"MultiPoint\",coordinates:s}}),s},Ls=function(t){function e(){for(var t=[],e=0;e<g.features.length;e++)-1==g.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<g.features.length;r++)t[e]!=r&&Pt(g.features[t[e]].geometry.coordinates[0][0],g.features[r],{ignoreBoundary:!0})&&mn(g.features[r])<1/0&&(n=r);g.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<g.features.length;t++)if(-1==g.features[t].properties.parent){var e=g.features[t].properties.winding;g.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<g.features.length;n++)if(g.features[n].properties.parent==t){var i=e+g.features[n].properties.winding;g.features[n].properties.netWinding=i,r(n,i)}}if(\"Feature\"!=t.type)throw new Error(\"The input must a geojson object of type Feature\");if(void 0===t.geometry||null==t.geometry)throw new Error(\"The input must a geojson object with a non-empty geometry\");if(\"Polygon\"!=t.geometry.type)throw new Error(\"The input must be a geojson Polygon\");for(var i=t.geometry.coordinates.length,s=[],a=0;a<i;a++){var u=t.geometry.coordinates[a];Tn(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(s))throw new Error(\"The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)\");var h=s.length,l=Ms(t,function(t,e,n,r,i,o,s,a,u,c,h,l){return[t,e,n,r,i,o,s,a,u,c,h,l]}),p=l.length;if(0==p){var f=[];for(a=0;a<i;a++)f.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Rn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[a])}));var g=c(f);return e(),n(),g}var d=[],y=[];for(a=0;a<i;a++){d.push([]);for(var _=0;_<t.geometry.coordinates[a].length-1;_++)d[a].push([new Ps(t.geometry.coordinates[a][(_+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,_],[a,(_+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),y.push(new Os(t.geometry.coordinates[a][_],[a,(_-1).modulo(t.geometry.coordinates[a].length-1)],[a,_],void 0,void 0,!1,!0))}for(a=0;a<p;a++)d[l[a][1]][l[a][2]].push(new Ps(l[a][0],l[a][5],[l[a][1],l[a][2]],[l[a][6],l[a][7]],void 0)),l[a][11]&&y.push(new Os(l[a][0],[l[a][1],l[a][2]],[l[a][6],l[a][7]],void 0,void 0,!0,!0));var m=y.length;for(a=0;a<d.length;a++)for(_=0;_<d[a].length;_++)d[a][_].sort(function(t,e){return t.param<e.param?-1:1});var v=[];for(a=0;a<m;a++)v.push({minX:y[a].coord[0],minY:y[a].coord[1],maxX:y[a].coord[0],maxY:y[a].coord[1],index:a});var x=Vo();x.load(v);for(a=0;a<d.length;a++)for(_=0;_<d[a].length;_++)for(var E=0;E<d[a][_].length;E++){b=E==d[a][_].length-1?d[a][(_+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:d[a][_][E+1].coord;var w=x.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];d[a][_][E].nxtIsectAlongEdgeIn=w.index}for(a=0;a<d.length;a++)for(_=0;_<d[a].length;_++)for(E=0;E<d[a][_].length;E++){var b=d[a][_][E].coord,I=(w=x.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;I<h?y[I].nxtIsectAlongRingAndEdge2=d[a][_][E].nxtIsectAlongEdgeIn:Tn(y[I].ringAndEdge1,d[a][_][E].ringAndEdgeIn)?y[I].nxtIsectAlongRingAndEdge1=d[a][_][E].nxtIsectAlongEdgeIn:y[I].nxtIsectAlongRingAndEdge2=d[a][_][E].nxtIsectAlongEdgeIn}var N=[];for(a=0,_=0;_<i;_++){var C=a;for(E=0;E<t.geometry.coordinates[_].length-1;E++)y[a].coord[0]<y[C].coord[0]&&(C=a),a++;var S=y[C].nxtIsectAlongRingAndEdge2;for(E=0;E<y.length;E++)if(y[E].nxtIsectAlongRingAndEdge1==C||y[E].nxtIsectAlongRingAndEdge2==C){var M=E;break}var L=Rn([y[M].coord,y[C].coord,y[S].coord],!0)?1:-1;N.push({isect:C,parent:-1,winding:L})}N.sort(function(t,e){return y[t.isect].coord>y[e.isect].coord?-1:1});for(f=[];N.length>0;){var P=N.pop(),O=P.isect,R=P.parent,T=P.winding,A=f.length,D=[y[O].coord],F=O;if(y[O].ringAndEdge1Walkable)var q=y[O].ringAndEdge1,G=y[O].nxtIsectAlongRingAndEdge1;else q=y[O].ringAndEdge2,G=y[O].nxtIsectAlongRingAndEdge2;for(;!Tn(y[O].coord,y[G].coord);){D.push(y[G].coord);var B=void 0;for(a=0;a<N.length;a++)if(N[a].isect==G){B=a;break}if(void 0!=B&&N.splice(B,1),Tn(q,y[G].ringAndEdge1)){if(q=y[G].ringAndEdge2,y[G].ringAndEdge2Walkable=!1,y[G].ringAndEdge1Walkable){var k={isect:G};Rn([y[F].coord,y[G].coord,y[y[G].nxtIsectAlongRingAndEdge2].coord],1==T)?(k.parent=R,k.winding=-T):(k.parent=A,k.winding=T),N.push(k)}F=G,G=y[G].nxtIsectAlongRingAndEdge2}else{if(q=y[G].ringAndEdge1,y[G].ringAndEdge1Walkable=!1,y[G].ringAndEdge2Walkable){k={isect:G};Rn([y[F].coord,y[G].coord,y[y[G].nxtIsectAlongRingAndEdge1].coord],1==T)?(k.parent=R,k.winding=-T):(k.parent=A,k.winding=T),N.push(k)}F=G,G=y[G].nxtIsectAlongRingAndEdge1}}D.push(y[G].coord),f.push(o([D],{index:A,parent:R,winding:T,netWinding:void 0}))}g=c(f);return e(),n(),g},Ps=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Os=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var Rs=Math.PI/180,Ts=180/Math.PI,As=function(t,e){this.lon=t,this.lat=e,this.x=Rs*t,this.y=Rs*e};As.prototype.view=function(){return String(this.lon).slice(0,4)+\",\"+String(this.lat).slice(0,4)},As.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new As(e,t)};var Ds=function(){this.coords=[],this.length=0};Ds.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Fs=function(t){this.properties=t||{},this.geometries=[]};Fs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:\"LineString\",coordinates:null},type:\"Feature\",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:\"LineString\",coordinates:this.geometries[0].coords},type:\"Feature\",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:\"MultiLineString\",coordinates:t},type:\"Feature\",properties:this.properties}},Fs.prototype.wkt=function(){for(var t=\"\",e=\"LINESTRING(\",n=function(t){e+=t[0]+\" \"+t[1]+\",\"},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return\"LINESTRING(empty)\";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+\")\"}return t};var qs=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error(\"GreatCircle constructor expects two args: start and end objects with x and y properties\");if(!e||void 0===e.x||void 0===e.y)throw new Error(\"GreatCircle constructor expects two args: start and end objects with x and y properties\");this.start=new As(t.x,t.y),this.end=new As(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error(\"it appears \"+t.view()+\" and \"+e.view()+\" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite\");if(isNaN(this.g))throw new Error(\"could not calculate great circle between \"+t+\" and \"+e)};qs.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=Ts*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Ts*Math.atan2(i,r),s]},qs.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,c=e&&e.offset?e.offset:10,h=180-c,l=-180+c,p=360-c,f=1;f<n.length;++f){var g=n[f-1][0],d=n[f][0],y=Math.abs(d-g);y>p&&(d>h&&g<l||g>h&&d<l)?a=!0:y>u&&(u=y)}var _=[];if(a&&u<c){var m=[];_.push(m);for(var v=0;v<n.length;++v){var x=parseFloat(n[v][0]);if(v>0&&Math.abs(x-n[v-1][0])>p){var E=parseFloat(n[v-1][0]),w=parseFloat(n[v-1][1]),b=parseFloat(n[v][0]),I=parseFloat(n[v][1]);if(E>-180&&E<l&&180===b&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<l){m.push([-180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(E>h&&E<180&&-180===b&&v+1<n.length&&n[v-1][0]>h&&n[v-1][0]<180){m.push([180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(E<l&&b>h){var N=E;E=b,b=N;var C=w;w=I,I=C}if(E>h&&b<l&&(b+=360),E<=180&&b>=180&&E<b){var S=(180-E)/(b-E),M=S*I+(1-S)*w;m.push([n[v-1][0]>h?180:-180,M]),(m=[]).push([n[v-1][0]>h?-180:180,M]),_.push(m)}else m=[],_.push(m);m.push([x,n[v][1]])}else m.push([n[v][0],n[v][1]])}}else{var L=[];_.push(L);for(var P=0;P<n.length;++P)L.push([n[P][0],n[P][1]])}for(var O=new Fs(this.properties),R=0;R<_.length;++R){var T=new Ds;O.geometries.push(T);for(var A=_[R],D=0;D<A.length;++D)T.move_to(A[D])}return O};var Gs=Yn;Yn.polyline=Yn,Yn.polygon=function(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Hn(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(Hn(a=t[s],e)&r))!==o&&n.push(Vn(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n};var Bs=Array.prototype.slice,ks={successCallback:null,verbose:!1,polygons:!1},zs={},js=64,Xs=16,Us=4,Ys=1,Vs=[],Hs=[],Ws=[],Js=[],Zs=[],Ks=[],Qs=[],$s=[],ta=[],ea=[],na=[],ra=[],ia=[],oa=[],sa=[],aa=[],ua=[],ca=[],ha=[],la=[],pa=[],fa=[],ga=[],da=[];Qs[85]=ea[85]=-1,$s[85]=na[85]=0,ta[85]=ra[85]=1,ha[85]=fa[85]=1,la[85]=ga[85]=0,pa[85]=da[85]=1,Vs[85]=Js[85]=0,Hs[85]=Zs[85]=-1,Ws[85]=sa[85]=0,aa[85]=ia[85]=0,ua[85]=oa[85]=1,Ks[85]=ca[85]=1,fa[1]=fa[169]=0,ga[1]=ga[169]=-1,da[1]=da[169]=0,ia[1]=ia[169]=-1,oa[1]=oa[169]=0,sa[1]=sa[169]=0,ea[4]=ea[166]=0,na[4]=na[166]=-1,ra[4]=ra[166]=1,aa[4]=aa[166]=1,ua[4]=ua[166]=0,ca[4]=ca[166]=0,Qs[16]=Qs[154]=0,$s[16]=$s[154]=1,ta[16]=ta[154]=1,Js[16]=Js[154]=1,Zs[16]=Zs[154]=0,Ks[16]=Ks[154]=1,ha[64]=ha[106]=0,la[64]=la[106]=1,pa[64]=pa[106]=0,Vs[64]=Vs[106]=-1,Hs[64]=Hs[106]=0,Ws[64]=Ws[106]=1,ha[2]=ha[168]=0,la[2]=la[168]=-1,pa[2]=pa[168]=1,fa[2]=fa[168]=0,ga[2]=ga[168]=-1,da[2]=da[168]=0,ia[2]=ia[168]=-1,oa[2]=oa[168]=0,sa[2]=sa[168]=0,aa[2]=aa[168]=-1,ua[2]=ua[168]=0,ca[2]=ca[168]=1,Qs[8]=Qs[162]=0,$s[8]=$s[162]=-1,ta[8]=ta[162]=0,ea[8]=ea[162]=0,na[8]=na[162]=-1,ra[8]=ra[162]=1,ia[8]=ia[162]=1,oa[8]=oa[162]=0,sa[8]=sa[162]=1,aa[8]=aa[162]=1,ua[8]=ua[162]=0,ca[8]=ca[162]=0,Qs[32]=Qs[138]=0,$s[32]=$s[138]=1,ta[32]=ta[138]=1,ea[32]=ea[138]=0,na[32]=na[138]=1,ra[32]=ra[138]=0,Vs[32]=Vs[138]=1,Hs[32]=Hs[138]=0,Ws[32]=Ws[138]=0,Js[32]=Js[138]=1,Zs[32]=Zs[138]=0,Ks[32]=Ks[138]=1,fa[128]=fa[42]=0,ga[128]=ga[42]=1,da[128]=da[42]=1,ha[128]=ha[42]=0,la[128]=la[42]=1,pa[128]=pa[42]=0,Vs[128]=Vs[42]=-1,Hs[128]=Hs[42]=0,Ws[128]=Ws[42]=1,Js[128]=Js[42]=-1,Zs[128]=Zs[42]=0,Ks[128]=Ks[42]=0,ea[5]=ea[165]=-1,na[5]=na[165]=0,ra[5]=ra[165]=0,fa[5]=fa[165]=1,ga[5]=ga[165]=0,da[5]=da[165]=0,aa[20]=aa[150]=0,ua[20]=ua[150]=1,ca[20]=ca[150]=1,Js[20]=Js[150]=0,Zs[20]=Zs[150]=-1,Ks[20]=Ks[150]=1,Qs[80]=Qs[90]=-1,$s[80]=$s[90]=0,ta[80]=ta[90]=1,ha[80]=ha[90]=1,la[80]=la[90]=0,pa[80]=pa[90]=1,ia[65]=ia[105]=0,oa[65]=oa[105]=1,sa[65]=sa[105]=0,Vs[65]=Vs[105]=0,Hs[65]=Hs[105]=-1,Ws[65]=Ws[105]=0,Qs[160]=Qs[10]=-1,$s[160]=$s[10]=0,ta[160]=ta[10]=1,ea[160]=ea[10]=-1,na[160]=na[10]=0,ra[160]=ra[10]=0,fa[160]=fa[10]=1,ga[160]=ga[10]=0,da[160]=da[10]=0,ha[160]=ha[10]=1,la[160]=la[10]=0,pa[160]=pa[10]=1,aa[130]=aa[40]=0,ua[130]=ua[40]=1,ca[130]=ca[40]=1,ia[130]=ia[40]=0,oa[130]=oa[40]=1,sa[130]=sa[40]=0,Vs[130]=Vs[40]=0,Hs[130]=Hs[40]=-1,Ws[130]=Ws[40]=0,Js[130]=Js[40]=0,Zs[130]=Zs[40]=-1,Ks[130]=Ks[40]=1,ea[37]=ea[133]=0,na[37]=na[133]=1,ra[37]=ra[133]=1,fa[37]=fa[133]=0,ga[37]=ga[133]=1,da[37]=da[133]=0,Vs[37]=Vs[133]=-1,Hs[37]=Hs[133]=0,Ws[37]=Ws[133]=0,Js[37]=Js[133]=1,Zs[37]=Zs[133]=0,Ks[37]=Ks[133]=0,aa[148]=aa[22]=-1,ua[148]=ua[22]=0,ca[148]=ca[22]=0,fa[148]=fa[22]=0,ga[148]=ga[22]=-1,da[148]=da[22]=1,ha[148]=ha[22]=0,la[148]=la[22]=1,pa[148]=pa[22]=1,Js[148]=Js[22]=-1,Zs[148]=Zs[22]=0,Ks[148]=Ks[22]=1,Qs[82]=Qs[88]=0,$s[82]=$s[88]=-1,ta[82]=ta[88]=1,aa[82]=aa[88]=1,ua[82]=ua[88]=0,ca[82]=ca[88]=1,ia[82]=ia[88]=-1,oa[82]=oa[88]=0,sa[82]=sa[88]=1,ha[82]=ha[88]=0,la[82]=la[88]=-1,pa[82]=pa[88]=0,Qs[73]=Qs[97]=0,$s[73]=$s[97]=1,ta[73]=ta[97]=0,ea[73]=ea[97]=0,na[73]=na[97]=-1,ra[73]=ra[97]=0,ia[73]=ia[97]=1,oa[73]=oa[97]=0,sa[73]=sa[97]=0,Vs[73]=Vs[97]=1,Hs[73]=Hs[97]=0,Ws[73]=Ws[97]=1,Qs[145]=Qs[25]=0,$s[145]=$s[25]=-1,ta[145]=ta[25]=0,ia[145]=ia[25]=1,oa[145]=oa[25]=0,sa[145]=sa[25]=1,fa[145]=fa[25]=0,ga[145]=ga[25]=1,da[145]=da[25]=1,Js[145]=Js[25]=-1,Zs[145]=Zs[25]=0,Ks[145]=Ks[25]=0,ea[70]=ea[100]=0,na[70]=na[100]=1,ra[70]=ra[100]=0,aa[70]=aa[100]=-1,ua[70]=ua[100]=0,ca[70]=ca[100]=1,ha[70]=ha[100]=0,la[70]=la[100]=-1,pa[70]=pa[100]=1,Vs[70]=Vs[100]=1,Hs[70]=Hs[100]=0,Ws[70]=Ws[100]=0,ea[101]=ea[69]=0,na[101]=na[69]=1,ra[101]=ra[69]=0,Vs[101]=Vs[69]=1,Hs[101]=Hs[69]=0,Ws[101]=Ws[69]=0,fa[149]=fa[21]=0,ga[149]=ga[21]=1,da[149]=da[21]=1,Js[149]=Js[21]=-1,Zs[149]=Zs[21]=0,Ks[149]=Ks[21]=0,aa[86]=aa[84]=-1,ua[86]=ua[84]=0,ca[86]=ca[84]=1,ha[86]=ha[84]=0,la[86]=la[84]=-1,pa[86]=pa[84]=1,Qs[89]=Qs[81]=0,$s[89]=$s[81]=-1,ta[89]=ta[81]=0,ia[89]=ia[81]=1,oa[89]=oa[81]=0,sa[89]=sa[81]=1,Qs[96]=Qs[74]=0,$s[96]=$s[74]=1,ta[96]=ta[74]=0,ea[96]=ea[74]=-1,na[96]=na[74]=0,ra[96]=ra[74]=1,ha[96]=ha[74]=1,la[96]=la[74]=0,pa[96]=pa[74]=0,Vs[96]=Vs[74]=1,Hs[96]=Hs[74]=0,Ws[96]=Ws[74]=1,Qs[24]=Qs[146]=0,$s[24]=$s[146]=-1,ta[24]=ta[146]=1,aa[24]=aa[146]=1,ua[24]=ua[146]=0,ca[24]=ca[146]=1,ia[24]=ia[146]=0,oa[24]=oa[146]=1,sa[24]=sa[146]=1,Js[24]=Js[146]=0,Zs[24]=Zs[146]=-1,Ks[24]=Ks[146]=0,ea[6]=ea[164]=-1,na[6]=na[164]=0,ra[6]=ra[164]=1,aa[6]=aa[164]=-1,ua[6]=ua[164]=0,ca[6]=ca[164]=0,fa[6]=fa[164]=0,ga[6]=ga[164]=-1,da[6]=da[164]=1,ha[6]=ha[164]=1,la[6]=la[164]=0,pa[6]=pa[164]=0,ia[129]=ia[41]=0,oa[129]=oa[41]=1,sa[129]=sa[41]=1,fa[129]=fa[41]=0,ga[129]=ga[41]=1,da[129]=da[41]=0,Vs[129]=Vs[41]=-1,Hs[129]=Hs[41]=0,Ws[129]=Ws[41]=0,Js[129]=Js[41]=0,Zs[129]=Zs[41]=-1,Ks[129]=Ks[41]=0,aa[66]=aa[104]=0,ua[66]=ua[104]=1,ca[66]=ca[104]=0,ia[66]=ia[104]=-1,oa[66]=oa[104]=0,sa[66]=sa[104]=1,ha[66]=ha[104]=0,la[66]=la[104]=-1,pa[66]=pa[104]=0,Vs[66]=Vs[104]=0,Hs[66]=Hs[104]=-1,Ws[66]=Ws[104]=1,Qs[144]=Qs[26]=-1,$s[144]=$s[26]=0,ta[144]=ta[26]=0,fa[144]=fa[26]=1,ga[144]=ga[26]=0,da[144]=da[26]=1,ha[144]=ha[26]=0,la[144]=la[26]=1,pa[144]=pa[26]=1,Js[144]=Js[26]=-1,Zs[144]=Zs[26]=0,Ks[144]=Ks[26]=1,ea[36]=ea[134]=0,na[36]=na[134]=1,ra[36]=ra[134]=1,aa[36]=aa[134]=0,ua[36]=ua[134]=1,ca[36]=ca[134]=0,Vs[36]=Vs[134]=0,Hs[36]=Hs[134]=-1,Ws[36]=Ws[134]=1,Js[36]=Js[134]=1,Zs[36]=Zs[134]=0,Ks[36]=Ks[134]=0,Qs[9]=Qs[161]=-1,$s[9]=$s[161]=0,ta[9]=ta[161]=0,ea[9]=ea[161]=0,na[9]=na[161]=-1,ra[9]=ra[161]=0,ia[9]=ia[161]=1,oa[9]=oa[161]=0,sa[9]=sa[161]=0,fa[9]=fa[161]=1,ga[9]=ga[161]=0,da[9]=da[161]=1,Qs[136]=0,$s[136]=1,ta[136]=1,ea[136]=0,na[136]=1,ra[136]=0,aa[136]=-1,ua[136]=0,ca[136]=1,ia[136]=-1,oa[136]=0,sa[136]=0,fa[136]=0,ga[136]=-1,da[136]=0,ha[136]=0,la[136]=-1,pa[136]=1,Vs[136]=1,Hs[136]=0,Ws[136]=0,Js[136]=1,Zs[136]=0,Ks[136]=1,Qs[34]=0,$s[34]=-1,ta[34]=0,ea[34]=0,na[34]=-1,ra[34]=1,aa[34]=1,ua[34]=0,ca[34]=0,ia[34]=1,oa[34]=0,sa[34]=1,fa[34]=0,ga[34]=1,da[34]=1,ha[34]=0,la[34]=1,pa[34]=0,Vs[34]=-1,Hs[34]=0,Ws[34]=1,Js[34]=-1,Zs[34]=0,Ks[34]=0,Qs[35]=0,$s[35]=1,ta[35]=1,ea[35]=0,na[35]=-1,ra[35]=1,aa[35]=1,ua[35]=0,ca[35]=0,ia[35]=-1,oa[35]=0,sa[35]=0,fa[35]=0,ga[35]=-1,da[35]=0,ha[35]=0,la[35]=1,pa[35]=0,Vs[35]=-1,Hs[35]=0,Ws[35]=1,Js[35]=1,Zs[35]=0,Ks[35]=1,Qs[153]=0,$s[153]=1,ta[153]=1,ia[153]=-1,oa[153]=0,sa[153]=0,fa[153]=0,ga[153]=-1,da[153]=0,Js[153]=1,Zs[153]=0,Ks[153]=1,ea[102]=0,na[102]=-1,ra[102]=1,aa[102]=1,ua[102]=0,ca[102]=0,ha[102]=0,la[102]=1,pa[102]=0,Vs[102]=-1,Hs[102]=0,Ws[102]=1,Qs[155]=0,$s[155]=-1,ta[155]=0,ia[155]=1,oa[155]=0,sa[155]=1,fa[155]=0,ga[155]=1,da[155]=1,Js[155]=-1,Zs[155]=0,Ks[155]=0,ea[103]=0,na[103]=1,ra[103]=0,aa[103]=-1,ua[103]=0,ca[103]=1,ha[103]=0,la[103]=-1,pa[103]=1,Vs[103]=1,Hs[103]=0,Ws[103]=0,Qs[152]=0,$s[152]=1,ta[152]=1,aa[152]=-1,ua[152]=0,ca[152]=1,ia[152]=-1,oa[152]=0,sa[152]=0,fa[152]=0,ga[152]=-1,da[152]=0,ha[152]=0,la[152]=-1,pa[152]=1,Js[152]=1,Zs[152]=0,Ks[152]=1,Qs[156]=0,$s[156]=-1,ta[156]=1,aa[156]=1,ua[156]=0,ca[156]=1,ia[156]=-1,oa[156]=0,sa[156]=0,fa[156]=0,ga[156]=-1,da[156]=0,ha[156]=0,la[156]=1,pa[156]=1,Js[156]=-1,Zs[156]=0,Ks[156]=1,Qs[137]=0,$s[137]=1,ta[137]=1,ea[137]=0,na[137]=1,ra[137]=0,ia[137]=-1,oa[137]=0,sa[137]=0,fa[137]=0,ga[137]=-1,da[137]=0,Vs[137]=1,Hs[137]=0,Ws[137]=0,Js[137]=1,Zs[137]=0,Ks[137]=1,Qs[139]=0,$s[139]=1,ta[139]=1,ea[139]=0,na[139]=-1,ra[139]=0,ia[139]=1,oa[139]=0,sa[139]=0,fa[139]=0,ga[139]=1,da[139]=0,Vs[139]=-1,Hs[139]=0,Ws[139]=0,Js[139]=1,Zs[139]=0,Ks[139]=1,Qs[98]=0,$s[98]=-1,ta[98]=0,ea[98]=0,na[98]=-1,ra[98]=1,aa[98]=1,ua[98]=0,ca[98]=0,ia[98]=1,oa[98]=0,sa[98]=1,ha[98]=0,la[98]=1,pa[98]=0,Vs[98]=-1,Hs[98]=0,Ws[98]=1,Qs[99]=0,$s[99]=1,ta[99]=0,ea[99]=0,na[99]=-1,ra[99]=1,aa[99]=1,ua[99]=0,ca[99]=0,ia[99]=-1,oa[99]=0,sa[99]=1,ha[99]=0,la[99]=-1,pa[99]=0,Vs[99]=1,Hs[99]=0,Ws[99]=1,ea[38]=0,na[38]=-1,ra[38]=1,aa[38]=1,ua[38]=0,ca[38]=0,fa[38]=0,ga[38]=1,da[38]=1,ha[38]=0,la[38]=1,pa[38]=0,Vs[38]=-1,Hs[38]=0,Ws[38]=1,Js[38]=-1,Zs[38]=0,Ks[38]=0,ea[39]=0,na[39]=1,ra[39]=1,aa[39]=-1,ua[39]=0,ca[39]=0,fa[39]=0,ga[39]=-1,da[39]=1,ha[39]=0,la[39]=1,pa[39]=0,Vs[39]=-1,Hs[39]=0,Ws[39]=1,Js[39]=1,Zs[39]=0,Ks[39]=0;var ya=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},_a=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ma=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},va=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},xa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Ea=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},wa=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},ba=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ia=[],Na=[],Ca=[],Sa=[],Ma=[],La=[],Pa=[],Oa=[];Sa[1]=Ma[1]=18,Sa[169]=Ma[169]=18,Ca[4]=Na[4]=12,Ca[166]=Na[166]=12,Ia[16]=Oa[16]=4,Ia[154]=Oa[154]=4,La[64]=Pa[64]=22,La[106]=Pa[106]=22,Ca[2]=La[2]=17,Sa[2]=Ma[2]=18,Ca[168]=La[168]=17,Sa[168]=Ma[168]=18,Ia[8]=Sa[8]=9,Na[8]=Ca[8]=12,Ia[162]=Sa[162]=9,Na[162]=Ca[162]=12,Ia[32]=Oa[32]=4,Na[32]=Pa[32]=1,Ia[138]=Oa[138]=4,Na[138]=Pa[138]=1,Ma[128]=Oa[128]=21,La[128]=Pa[128]=22,Ma[42]=Oa[42]=21,La[42]=Pa[42]=22,Na[5]=Ma[5]=14,Na[165]=Ma[165]=14,Ca[20]=Oa[20]=6,Ca[150]=Oa[150]=6,Ia[80]=La[80]=11,Ia[90]=La[90]=11,Sa[65]=Pa[65]=3,Sa[105]=Pa[105]=3,Ia[160]=La[160]=11,Na[160]=Ma[160]=14,Ia[10]=La[10]=11,Na[10]=Ma[10]=14,Ca[130]=Oa[130]=6,Sa[130]=Pa[130]=3,Ca[40]=Oa[40]=6,Sa[40]=Pa[40]=3,Na[101]=Pa[101]=1,Na[69]=Pa[69]=1,Ma[149]=Oa[149]=21,Ma[21]=Oa[21]=21,Ca[86]=La[86]=17,Ca[84]=La[84]=17,Ia[89]=Sa[89]=9,Ia[81]=Sa[81]=9,Ia[96]=Pa[96]=0,Na[96]=La[96]=15,Ia[74]=Pa[74]=0,Na[74]=La[74]=15,Ia[24]=Ca[24]=8,Sa[24]=Oa[24]=7,Ia[146]=Ca[146]=8,Sa[146]=Oa[146]=7,Na[6]=La[6]=15,Ca[6]=Ma[6]=16,Na[164]=La[164]=15,Ca[164]=Ma[164]=16,Sa[129]=Oa[129]=7,Ma[129]=Pa[129]=20,Sa[41]=Oa[41]=7,Ma[41]=Pa[41]=20,Ca[66]=Pa[66]=2,Sa[66]=La[66]=19,Ca[104]=Pa[104]=2,Sa[104]=La[104]=19,Ia[144]=Ma[144]=10,La[144]=Oa[144]=23,Ia[26]=Ma[26]=10,La[26]=Oa[26]=23,Na[36]=Oa[36]=5,Ca[36]=Pa[36]=2,Na[134]=Oa[134]=5,Ca[134]=Pa[134]=2,Ia[9]=Ma[9]=10,Na[9]=Sa[9]=13,Ia[161]=Ma[161]=10,Na[161]=Sa[161]=13,Na[37]=Oa[37]=5,Ma[37]=Pa[37]=20,Na[133]=Oa[133]=5,Ma[133]=Pa[133]=20,Ca[148]=Ma[148]=16,La[148]=Oa[148]=23,Ca[22]=Ma[22]=16,La[22]=Oa[22]=23,Ia[82]=Ca[82]=8,Sa[82]=La[82]=19,Ia[88]=Ca[88]=8,Sa[88]=La[88]=19,Ia[73]=Pa[73]=0,Na[73]=Sa[73]=13,Ia[97]=Pa[97]=0,Na[97]=Sa[97]=13,Ia[145]=Sa[145]=9,Ma[145]=Oa[145]=21,Ia[25]=Sa[25]=9,Ma[25]=Oa[25]=21,Na[70]=Pa[70]=1,Ca[70]=La[70]=17,Na[100]=Pa[100]=1,Ca[100]=La[100]=17,Ia[34]=Sa[34]=9,Na[34]=Ca[34]=12,Ma[34]=Oa[34]=21,La[34]=Pa[34]=22,Ia[136]=Oa[136]=4,Na[136]=Pa[136]=1,Ca[136]=La[136]=17,Sa[136]=Ma[136]=18,Ia[35]=Oa[35]=4,Na[35]=Ca[35]=12,Sa[35]=Ma[35]=18,La[35]=Pa[35]=22,Ia[153]=Oa[153]=4,Sa[153]=Ma[153]=18,Na[102]=Ca[102]=12,La[102]=Pa[102]=22,Ia[155]=Sa[155]=9,Ma[155]=Oa[155]=23,Na[103]=Pa[103]=1,Ca[103]=La[103]=17,Ia[152]=Oa[152]=4,Ca[152]=La[152]=17,Sa[152]=Ma[152]=18,Ia[156]=Ca[156]=8,Sa[156]=Ma[156]=18,La[156]=Oa[156]=23,Ia[137]=Oa[137]=4,Na[137]=Pa[137]=1,Sa[137]=Ma[137]=18,Ia[139]=Oa[139]=4,Na[139]=Sa[139]=13,Ma[139]=Pa[139]=20,Ia[98]=Sa[98]=9,Na[98]=Ca[98]=12,La[98]=Pa[98]=22,Ia[99]=Pa[99]=0,Na[99]=Ca[99]=12,Sa[99]=La[99]=19,Na[38]=Ca[38]=12,Ma[38]=Oa[38]=21,La[38]=Pa[38]=22,Na[39]=Oa[39]=5,Ca[39]=Ma[39]=16,La[39]=Pa[39]=22;var Ra=[];Ra[1]=Ra[169]=ya,Ra[4]=Ra[166]=_a,Ra[16]=Ra[154]=ma,Ra[64]=Ra[106]=va,Ra[168]=Ra[2]=xa,Ra[162]=Ra[8]=Ea,Ra[138]=Ra[32]=wa,Ra[42]=Ra[128]=ba,Ra[5]=Ra[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Ra[20]=Ra[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Ra[80]=Ra[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Ra[65]=Ra[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ra[160]=Ra[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Ra[130]=Ra[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Ra[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ra[101]=Ra[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Ra[149]=Ra[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Ra[86]=Ra[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Ra[89]=Ra[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Ra[96]=Ra[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Ra[24]=Ra[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Ra[6]=Ra[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Ra[129]=Ra[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Ra[66]=Ra[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ra[144]=Ra[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ra[36]=Ra[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Ra[9]=Ra[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ra[37]=Ra[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ra[148]=Ra[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ra[82]=Ra[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Ra[73]=Ra[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ra[145]=Ra[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ra[70]=Ra[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ra[34]=function(t){return[ba(t),Ea(t)]},Ra[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ra[136]=function(t){return[wa(t),xa(t)]},Ra[153]=function(t){return[ma(t),ya(t)]},Ra[102]=function(t){return[_a(t),va(t)]},Ra[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ra[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ra[152]=function(t){return[ma(t),xa(t)]},Ra[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ra[137]=function(t){return[wa(t),ya(t)]},Ra[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ra[98]=function(t){return[Ea(t),va(t)]},Ra[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ra[38]=function(t){return[_a(t),ba(t)]},Ra[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Ta=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};Ta.buildId=function(t){return t.join(\",\")},Ta.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},Ta.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},Ta.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},Ta.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=xr(t.coordinates,r.coordinates,i.coordinates);if(o<0)return 1;if(o>0)return-1;return Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},Ta.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},Ta.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},Ta.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var Aa=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Aa.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Aa(this.to,this.from),this.symetric.symetric=this),this.symetric},Aa.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Aa.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},Aa.prototype.toString=function(){return\"Edge { \"+this.from.id+\" -> \"+this.to.id+\" }\"},Aa.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},Aa.prototype.compareTo=function(t){return xr(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var Da=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Fa={length:{configurable:!0}};Da.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},Da.prototype.get=function(t){return this.edges[t]},Fa.length.get=function(){return this.edges.length},Da.prototype.forEach=function(t){this.edges.forEach(t)},Da.prototype.map=function(t){return this.edges.map(t)},Da.prototype.some=function(t){return this.edges.some(t)},Da.prototype.isValid=function(){return!0},Da.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=xr(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},Da.prototype.toMultiPoint=function(){return l(this.edges.map(function(t){return t.from.coordinates}))},Da.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},Da.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=he(this.toPolygon())},Da.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach(function(e){var s=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),i=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(s,o)&&Er(s,o)){var a=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});a&&e.inside(r(a))&&(i&&!Er(n,s)||(i=e))}}),i},Da.prototype.inside=function(t){return Pt(t,this.toPolygon())},Object.defineProperties(Da.prototype,Fa);var qa=function(){this.edges=[],this.nodes={}};qa.fromGeoJson=function(t){!function(t){if(!t)throw new Error(\"No geojson passed\");if(\"FeatureCollection\"!==t.type&&\"GeometryCollection\"!==t.type&&\"MultiLineString\"!==t.type&&\"LineString\"!==t.type&&\"Feature\"!==t.type)throw new Error(\"Invalid input type '\"+t.type+\"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature\")}(t);var e=new qa;return F(t,function(t){H(t,\"LineString\",\"Graph::fromGeoJson\"),M(t,function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n})}),e},qa.prototype.getNode=function(t){var e=Ta.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Ta(t)),n},qa.prototype.addEdge=function(t,e){var n=new Aa(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},qa.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},qa.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},qa.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},qa.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},qa.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,c=void 0;s.label===e&&(u=s),a.label===e&&(c=a),u&&c&&(c&&(r=c),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},qa.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},qa.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},qa.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},qa.prototype._findEdgeRing=function(t){var e=t,n=new Da;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},qa.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},qa.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var Ga=mt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports=\"function\"==typeof Object.keys?Object.keys:n).shim=n}),Ba=(Ga.shim,mt(function(t,e){function n(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function r(t){return t&&\"object\"==typeof t&&\"number\"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,\"callee\")&&!Object.prototype.propertyIsEnumerable.call(t,\"callee\")||!1}var i=\"[object Arguments]\"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r})),ka=(Ba.supported,Ba.unsupported,mt(function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||\"object\"!=typeof t||\"number\"!=typeof t.length)&&(\"function\"==typeof t.copy&&\"function\"==typeof t.slice&&!(t.length>0&&\"number\"!=typeof t[0]))}var r=Array.prototype.slice,i=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||\"object\"!=typeof t&&\"object\"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(Ba(t))return!!Ba(o)&&(t=r.call(t),o=r.call(o),i(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var c=Ga(t),h=Ga(o)}catch(t){return!1}if(c.length!=h.length)return!1;for(c.sort(),h.sort(),a=c.length-1;a>=0;a--)if(c[a]!=h[a])return!1;for(a=c.length-1;a>=0;a--)if(u=c[a],!i(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))}})),za=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Rr};za.prototype.compare=function(t,e){if(t.type!==e.type||!Or(t,e))return!1;switch(t.type){case\"Point\":return this.compareCoord(t.coordinates,e.coordinates);case\"LineString\":return this.compareLine(t.coordinates,e.coordinates,0,!1);case\"Polygon\":return this.comparePolygon(t,e);case\"Feature\":return this.compareFeature(t,e);default:if(0===t.type.indexOf(\"Multi\")){var n=this,r=Pr(t),i=Pr(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},i)}}return!1},za.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},za.prototype.compareLine=function(t,e,n,r){if(!Or(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},za.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},za.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},za.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},r)}return!1},za.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},za.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},za.prototype.removePseudo=function(t){return t};var ja=za,Xa=mt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++){this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n)}return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ua=mt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(h),a=0,u=0;u<h;u++)s[u]=0;for(var c=0;c<n;c++){var h=this.dataset[c].length;if(o===this.assignments[c]){for(u=0;u<h;u++)s[u]+=this.dataset[c][u];a++}}if(a>0){for(u=0;u<h;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ya=mt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting=\"desc\",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];\"desc\"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error(\"Arrays must have the same length\");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Va=mt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Ya;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,\"asc\"),c=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,c,u),this._expandCluster(a,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++){if(this._regionQuery(t,n).length>=this.minPts)return n}},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ha=mt(function(t){t.exports&&(t.exports={DBSCAN:Xa,KMEANS:Ua,OPTICS:Va,PriorityQueue:Ya})}),Wa=(Ha.DBSCAN,Ha.KMEANS,Ha.OPTICS,Ha.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i}),Ja=Wa,Za=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Ka=Wa,Qa=function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join(\"_\"):\"\"+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error(\"Error initializating clusters\");return r},$a=function(t,e){var n=t[0].length?Ja:Za,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];o&&s.join(\"_\");for(r.push(s);r.length<e;){for(var a=[],u=r.length,c=0,h=[],l=0;l<i;l++){for(var p=1/0,f=0;f<u;f++){var g=n(t[l],r[f]);g<=p&&(p=g)}a[l]=p}for(var d=0;d<i;d++)c+=a[d];for(var y=0;y<i;y++)h[y]={i:y,v:t[y],pr:a[y]/c,cs:0};h.sort(function(t,e){return t.pr-e.pr}),h[0].cs=h[0].pr;for(var _=1;_<i;_++)h[_].cs=h[_-1].cs+h[_].pr;for(var m=Math.random(),v=0;v<i-1&&h[v++].cs<m;);r.push(h[v-1].v)}return r},tu=1e4,eu=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,c=r||tu,h=t.length,l=t[0].length,p=l>0,f=[];if(n)i=\"kmrand\"==n?Qa(t,e):\"kmpp\"==n?$a(t,e):n;else for(var g={};i.length<e;){var d=Math.floor(Math.random()*h);g[d]||(g[d]=!0,i.push(t[d]))}do{Ar(e,0,f);for(var y=0;y<h;y++){for(var _=1/0,m=0,v=0;v<e;v++)(a=p?Ka(t[y],i[v]):Math.abs(t[y]-i[v]))<=_&&(_=a,m=v);s[y]=m,f[m]++}for(var x=[],E=(o=[],0);E<e;E++)x[E]=p?Ar(l,0,x[E]):0,o[E]=i[E];if(p){for(var w=0;w<e;w++)i[w]=[];for(var b=0;b<h;b++)for(var I=x[s[b]],N=t[b],C=0;C<l;C++)I[C]+=N[C];u=!0;for(var S=0;S<e;S++){for(var M=i[S],L=x[S],P=o[S],O=f[S],R=0;R<l;R++)M[R]=L[R]/O||0;if(u)for(var T=0;T<l;T++)if(P[T]!=M[T]){u=!1;break}}}else{for(var A=0;A<h;A++)x[s[A]]+=t[A];for(var D=0;D<e;D++)i[D]=x[D]/f[D]||0;u=!0;for(var F=0;F<e;F++)if(o[F]!=i[F]){u=!1;break}}u=u||--c<=0}while(!u);return{it:tu-c,k:e,idxs:s,centroids:i}},nu={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||nu.heuristics.manhattan,o=r.closest||!1,s=new Br(function(t){return t.f}),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return Fr(u);u.closed=!0;for(var c=t.neighbors(u),h=0,l=c.length;h<l;++h){var p=c[h];if(!p.closed&&!p.isWall()){var f=u.g+p.getCost(u),g=p.visited;(!g||f<p.g)&&(p.visited=!0,p.parent=u,p.h=p.h||i(p,n),p.g=f,p.f=p.g+p.h,t.markDirty(p),o&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),g?s.rescoreElement(p):s.push(p))}}}return o?Fr(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};qr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)nu.cleanNode(this.nodes[t])},qr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)nu.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},qr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},qr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},qr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(\" \"))}return i.join(\"\\n\")},Gr.prototype.toString=function(){return\"[\"+this.x+\" \"+this.y+\"]\"},Gr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Gr.prototype.isWall=function(){return 0===this.weight},Br.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var c=this.content[o];this.scoreFunction(c)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var ru=function(t){return function(){return t}};jr.prototype={constructor:jr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Vr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ur(this,n),n=(t=n).U),n.C=!1,r.C=!0,Yr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Yr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ur(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Vr(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ur(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Yr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ur(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Yr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ur(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Yr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var iu,ou,su,au,uu,cu=[],hu=[],lu=1e-6,pu=1e-12;hi.prototype={constructor:hi,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return $r(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,c=e[i[o-1]],h=c.left===a?c.right:c.left;++u<o;)s=h,h=(c=e[i[u]]).left===a?c.right:c.left,s&&h&&r<s.index&&r<h.index&&ui(a,s,h)<0&&t.push([a.data,s.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],c=e-i.site[1],h=u*u+c*c;do{i=o.cells[r=s],s=null,i.halfedges.forEach(function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],c=e-a[1],l=u*u+c*c;l<h&&(h=l,s=a.index)}})}while(null!==s);return o._found=r,null==n||h<=n*n?i.site:null}};var fu=function(){function t(t){return new hi(t.map(function(r,i){var o=[Math.round(e(r,i,t)/lu)*lu,Math.round(n(r,i,t)/lu)*lu];return o.index=i,o.data=r,o}),r)}var e=kr,n=zr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e=\"function\"==typeof n?n:ru(+n),t):e},t.y=function(e){return arguments.length?(n=\"function\"==typeof e?e:ru(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},gu=Object.freeze({randomPosition:_i,randomPoint:mi,randomPolygon:vi,randomLineString:xi}),du=Object.freeze({getCluster:wi,clusterEach:bi,clusterReduce:Ii,createBins:Ni,applyFilter:Ci,propertiesContainsFilter:Si,filterProperties:Mi});\"fill\"in Array.prototype||Object.defineProperty(Array.prototype,\"fill\",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+\" is not an object\");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return\"number\"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var yu=function(){};yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var _u=function(){},mu=function(){},vu={MAX_VALUE:{configurable:!0}};mu.isNaN=function(t){return Number.isNaN(t)},mu.doubleToLongBits=function(t){return t},mu.longBitsToDouble=function(t){return t},mu.isInfinite=function(t){return!Number.isFinite(t)},vu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(mu,vu);var xu=function(){},Eu=function(){},wu=function(){},bu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Iu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};bu.prototype.setOrdinate=function(t,e){switch(t){case bu.X:this.x=e;break;case bu.Y:this.y=e;break;case bu.Z:this.z=e;break;default:throw new _u(\"Invalid ordinate index: \"+t)}},bu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!yu.equalsWithTolerance(this.x,e.x,n)&&!!yu.equalsWithTolerance(this.y,e.y,n)}},bu.prototype.getOrdinate=function(t){switch(t){case bu.X:return this.x;case bu.Y:return this.y;case bu.Z:return this.z}throw new _u(\"Invalid ordinate index: \"+t)},bu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||mu.isNaN(this.z))&&mu.isNaN(t.z)},bu.prototype.equals=function(t){return t instanceof bu&&this.equals2D(t)},bu.prototype.equalInZ=function(t,e){return yu.equalsWithTolerance(this.z,t.z,e)},bu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},bu.prototype.clone=function(){},bu.prototype.copy=function(){return new bu(this)},bu.prototype.toString=function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.z+\")\"},bu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},bu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},bu.prototype.hashCode=function(){var t=17;return t=37*t+bu.hashCode(this.x),t=37*t+bu.hashCode(this.y)},bu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},bu.prototype.interfaces_=function(){return[xu,Eu,Li]},bu.prototype.getClass=function(){return bu},bu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=mu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Iu.DimensionalComparator.get=function(){return Nu},Iu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Iu.NULL_ORDINATE.get=function(){return mu.NaN},Iu.X.get=function(){return 0},Iu.Y.get=function(){return 1},Iu.Z.get=function(){return 2},Object.defineProperties(bu,Iu);var Nu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new _u(\"only 2 or 3 dimensions may be specified\");this._dimensionsToTest=e}};Nu.prototype.compare=function(t,e){var n=t,r=e,i=Nu.compare(n.x,r.x);if(0!==i)return i;var o=Nu.compare(n.y,r.y);if(0!==o)return o;if(this._dimensionsToTest<=2)return 0;return Nu.compare(n.z,r.z)},Nu.prototype.interfaces_=function(){return[wu]},Nu.prototype.getClass=function(){return Nu},Nu.compare=function(t,e){return t<e?-1:t>e?1:mu.isNaN(t)?mu.isNaN(e)?0:-1:mu.isNaN(e)?1:0};var Cu=function(){};Cu.prototype.create=function(){},Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu};var Su=function(){},Mu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su},Su.toLocationSymbol=function(t){switch(t){case Su.EXTERIOR:return\"e\";case Su.BOUNDARY:return\"b\";case Su.INTERIOR:return\"i\";case Su.NONE:return\"-\"}throw new _u(\"Unknown location value: \"+t)},Mu.INTERIOR.get=function(){return 0},Mu.BOUNDARY.get=function(){return 1},Mu.EXTERIOR.get=function(){return 2},Mu.NONE.get=function(){return-1},Object.defineProperties(Su,Mu);var Lu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Pu=function(){},Ou={LOG_10:{configurable:!0}};Pu.prototype.interfaces_=function(){return[]},Pu.prototype.getClass=function(){return Pu},Pu.log10=function(t){var e=Math.log(t);return mu.isInfinite(e)?e:mu.isNaN(e)?e:e/Pu.LOG_10},Pu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},Pu.clamp=function(){if(\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},Pu.wrap=function(t,e){return t<0?e- -t%e:t%e},Pu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},Pu.average=function(t,e){return(t+e)/2},Ou.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Pu,Ou);var Ru=function(t){this.str=t};Ru.prototype.append=function(t){this.str+=t},Ru.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Ru.prototype.toString=function(t){return this.str};var Tu=function(t){this.value=t};Tu.prototype.intValue=function(){return this.value},Tu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Tu.isNaN=function(t){return Number.isNaN(t)};var Au=function(){};Au.isWhitespace=function(t){return t<=32&&t>=0||127===t},Au.toUpperCase=function(t){return t.toUpperCase()};var Du=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if(\"number\"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if(\"string\"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},Fu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Du.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Du.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=Du.magnitude(n._hi),i=Du.TEN.pow(r);(n=n.divide(i)).gt(Du.TEN)?(n=n.divide(Du.TEN),r+=1):n.lt(Du.ONE)&&(n=n.multiply(Du.TEN),r-=1);for(var o=r+1,s=new Ru,a=Du.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(\".\");var c=Math.trunc(n._hi);if(c<0)break;var h=!1,l=0;c>9?(h=!0,l=\"9\"):l=\"0\"+c,s.append(l),n=n.subtract(Du.valueOf(c)).multiply(Du.TEN),h&&n.selfAdd(Du.TEN);var p=!0,f=Du.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(p=!1),!p)break}return e[0]=r,s.toString()},Du.prototype.sqr=function(){return this.multiply(this)},Du.prototype.doubleValue=function(){return this._hi+this._lo},Du.prototype.subtract=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.add(t.negate())}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Du.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Du.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Du.prototype.selfSubtract=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Du.prototype.getSpecialNumberString=function(){return this.isZero()?\"0.0\":this.isNaN()?\"NaN \":null},Du.prototype.min=function(t){return this.le(t)?this:t},Du.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,c=null,h=null,l=null;return u=this._hi/n,c=Du.SPLIT*u,i=c-u,l=Du.SPLIT*n,i=c-i,o=u-i,s=l-n,h=u*n,s=l-s,a=n-s,l=i*s-h+i*a+o*s+o*a,c=(this._hi-h-l+this._lo-u*r)/n,l=u+c,this._hi=l,this._lo=u-l+c,this}},Du.prototype.dump=function(){return\"DD<\"+this._hi+\", \"+this._lo+\">\"},Du.prototype.divide=function(){if(arguments[0]instanceof Du){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;n=(o=this._hi/t._hi)-(e=(s=Du.SPLIT*o)-(e=s-o)),u=e*(r=(u=Du.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi;return new Du(u=o+s,o-u+s)}if(\"number\"==typeof arguments[0]){var c=arguments[0];return mu.isNaN(c)?Du.createNaN():Du.copy(this).selfDivide(c,0)}},Du.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Du.prototype.pow=function(t){if(0===t)return Du.valueOf(1);var e=new Du(this),n=Du.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Du.prototype.ceil=function(){if(this.isNaN())return Du.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Du(t,e)},Du.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Du.prototype.rint=function(){if(this.isNaN())return this;return this.add(.5).floor()},Du.prototype.setValue=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.init(t),this}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Du.prototype.max=function(t){return this.ge(t)?this:t},Du.prototype.sqrt=function(){if(this.isZero())return Du.valueOf(0);if(this.isNegative())return Du.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Du.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},Du.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return i=this._hi+e,s=i-this._hi,o=i-s,o=e-s+(this._hi-o),a=o+this._lo,n=i+a,r=a+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],c=arguments[1],h=null,l=null,p=null,f=null,g=null,d=null,y=null;f=this._hi+u,l=this._lo+c,g=f-(d=f-this._hi),p=l-(y=l-this._lo);var _=(h=f+(d=(g=u-d+(this._hi-g))+l))+(d=(p=c-y+(this._lo-p))+(d+(f-h))),m=d+(h-_);return this._hi=_,this._lo=m,this}},Du.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,c=null;i=(u=Du.SPLIT*this._hi)-this._hi,c=Du.SPLIT*n,i=u-i,o=this._hi-i,s=c-n;var h=(u=this._hi*n)+(c=i*(s=c-s)-u+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),l=c+(i=u-h);return this._hi=h,this._lo=l,this}},Du.prototype.selfSqr=function(){return this.selfMultiply(this)},Du.prototype.floor=function(){if(this.isNaN())return Du.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Du(t,e)},Du.prototype.negate=function(){return this.isNaN()?this:new Du(-this._hi,-this._lo)},Du.prototype.clone=function(){},Du.prototype.multiply=function(){if(arguments[0]instanceof Du){var t=arguments[0];return t.isNaN()?Du.createNaN():Du.copy(this).selfMultiply(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return mu.isNaN(e)?Du.createNaN():Du.copy(this).selfMultiply(e,0)}},Du.prototype.isNaN=function(){return mu.isNaN(this._hi)},Du.prototype.intValue=function(){return Math.trunc(this._hi)},Du.prototype.toString=function(){var t=Du.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Du.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if(\".\"===n.charAt(0))i=\"0\"+n;else if(r<0)i=\"0.\"+Du.stringOfChar(\"0\",-r)+n;else if(-1===n.indexOf(\".\")){var o=r-n.length;i=n+Du.stringOfChar(\"0\",o)+\".0\"}return this.isNegative()?\"-\"+i:i},Du.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,s=null,a=null;e=(i=1/this._hi)-(t=(o=Du.SPLIT*i)-(t=o-i)),n=(a=Du.SPLIT*this._hi)-this._hi;var u=i+(o=(1-(s=i*this._hi)-(a=t*(n=a-n)-s+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new Du(u,i-u+o)},Du.prototype.toSciNotation=function(){if(this.isZero())return Du.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=Du.SCI_NOT_EXPONENT_CHAR+e[0];if(\"0\"===n.charAt(0))throw new Error(\"Found leading zero: \"+n);var i=\"\";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+\".\"+i;return this.isNegative()?\"-\"+o+r:o+r},Du.prototype.abs=function(){return this.isNaN()?Du.NaN:this.isNegative()?this.negate():new Du(this)},Du.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Du.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Du.prototype.add=function(){if(arguments[0]instanceof Du){var t=arguments[0];return Du.copy(this).selfAdd(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return Du.copy(this).selfAdd(e)}},Du.prototype.init=function(){if(1===arguments.length){if(\"number\"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Du){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Du.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Du.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Du.prototype.trunc=function(){return this.isNaN()?Du.NaN:this.isPositive()?this.floor():this.ceil()},Du.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Du.prototype.interfaces_=function(){return[Li,xu,Eu]},Du.prototype.getClass=function(){return Du},Du.sqr=function(t){return Du.valueOf(t).selfMultiply(t)},Du.valueOf=function(){if(\"string\"==typeof arguments[0]){var t=arguments[0];return Du.parse(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return new Du(e)}},Du.sqrt=function(t){return Du.valueOf(t).sqrt()},Du.parse=function(t){for(var e=0,n=t.length;Au.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);\"-\"!==i&&\"+\"!==i||(e++,\"-\"===i&&(r=!0))}for(var o=new Du,s=0,a=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,Au.isDigit(c)){var h=c-\"0\";o.selfMultiply(Du.TEN),o.selfAdd(h),s++}else{if(\".\"!==c){if(\"e\"===c||\"E\"===c){var l=t.substring(e);try{u=Tu.parseInt(l)}catch(e){throw e instanceof Error?new Error(\"Invalid exponent \"+l+\" in string \"+t):e}break}throw new Error(\"Unexpected character '\"+c+\"' at position \"+e+\" in string \"+t)}a=s}}var p=o,f=s-a-u;if(0===f)p=o;else if(f>0){var g=Du.TEN.pow(f);p=o.divide(g)}else if(f<0){var d=Du.TEN.pow(-f);p=o.multiply(d)}return r?p.negate():p},Du.createNaN=function(){return new Du(mu.NaN,mu.NaN)},Du.copy=function(t){return new Du(t)},Du.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},Du.stringOfChar=function(t,e){for(var n=new Ru,r=0;r<e;r++)n.append(t);return n.toString()},Fu.PI.get=function(){return new Du(3.141592653589793,1.2246467991473532e-16)},Fu.TWO_PI.get=function(){return new Du(6.283185307179586,2.4492935982947064e-16)},Fu.PI_2.get=function(){return new Du(1.5707963267948966,6.123233995736766e-17)},Fu.E.get=function(){return new Du(2.718281828459045,1.4456468917292502e-16)},Fu.NaN.get=function(){return new Du(mu.NaN,mu.NaN)},Fu.EPS.get=function(){return 1.23259516440783e-32},Fu.SPLIT.get=function(){return 134217729},Fu.MAX_PRINT_DIGITS.get=function(){return 32},Fu.TEN.get=function(){return Du.valueOf(10)},Fu.ONE.get=function(){return Du.valueOf(1)},Fu.SCI_NOT_EXPONENT_CHAR.get=function(){return\"E\"},Fu.SCI_NOT_ZERO.get=function(){return\"0.0E0\"},Object.defineProperties(Du,Fu);var qu=function(){},Gu={DP_SAFE_EPSILON:{configurable:!0}};qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu},qu.orientationIndex=function(t,e,n){var r=qu.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=Du.valueOf(e.x).selfAdd(-t.x),o=Du.valueOf(e.y).selfAdd(-t.y),s=Du.valueOf(n.x).selfAdd(-e.x),a=Du.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},qu.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},qu.intersection=function(t,e,n,r){var i=Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(Du.valueOf(e.x).selfSubtract(t.x)),o=Du.valueOf(r.x).selfSubtract(n.x).selfMultiply(Du.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=Du.valueOf(r.x).selfSubtract(n.x).selfMultiply(Du.valueOf(t.y).selfSubtract(n.y)),u=Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(Du.valueOf(t.x).selfSubtract(n.x)),c=a.subtract(u).selfDivide(s).doubleValue(),h=Du.valueOf(t.x).selfAdd(Du.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),l=Du.valueOf(e.x).selfSubtract(t.x).selfMultiply(Du.valueOf(t.y).selfSubtract(n.y)),p=Du.valueOf(e.y).selfSubtract(t.y).selfMultiply(Du.valueOf(t.x).selfSubtract(n.x)),f=l.subtract(p).selfDivide(s).doubleValue(),g=Du.valueOf(n.y).selfAdd(Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new bu(h,g)},qu.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return qu.signum(s);r=i+o}else{if(!(i<0))return qu.signum(s);if(o>=0)return qu.signum(s);r=-i-o}var a=qu.DP_SAFE_EPSILON*r;return s>=a||-s>=a?qu.signum(s):2},qu.signum=function(t){return t>0?1:t<0?-1:0},Gu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(qu,Gu);var Bu=function(){},ku={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ku.X.get=function(){return 0},ku.Y.get=function(){return 1},ku.Z.get=function(){return 2},ku.M.get=function(){return 3},Bu.prototype.setOrdinate=function(t,e,n){},Bu.prototype.size=function(){},Bu.prototype.getOrdinate=function(t,e){},Bu.prototype.getCoordinate=function(){},Bu.prototype.getCoordinateCopy=function(t){},Bu.prototype.getDimension=function(){},Bu.prototype.getX=function(t){},Bu.prototype.clone=function(){},Bu.prototype.expandEnvelope=function(t){},Bu.prototype.copy=function(){},Bu.prototype.getY=function(t){},Bu.prototype.toCoordinateArray=function(){},Bu.prototype.interfaces_=function(){return[Eu]},Bu.prototype.getClass=function(){return Bu},Object.defineProperties(Bu,ku);var zu=function(){},ju=function(t){function e(){t.call(this,\"Projective point not representable on the Cartesian plane.\")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zu),Xu=function(){};Xu.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Xu.getProperty=function(t){return{\"line.separator\":\"\\n\"}[t]};var Uu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof bu&&arguments[1]instanceof bu){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],c=arguments[1],h=arguments[2];this.x=u,this.y=c,this.w=h}else if(4===arguments.length){var l=arguments[0],p=arguments[1],f=arguments[2],g=arguments[3],d=l.y-p.y,y=p.x-l.x,_=l.x*p.y-p.x*l.y,m=f.y-g.y,v=g.x-f.x,x=f.x*g.y-g.x*f.y;this.x=y*x-v*_,this.y=m*_-d*x,this.w=d*v-m*y}};Uu.prototype.getY=function(){var t=this.y/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new ju;return t},Uu.prototype.getX=function(){var t=this.x/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new ju;return t},Uu.prototype.getCoordinate=function(){var t=new bu;return t.x=this.getX(),t.y=this.getY(),t},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,h=i*u-a*o,l=(o*c-u*s)/h,p=(a*s-i*c)/h;if(mu.isNaN(l)||mu.isInfinite(l)||mu.isNaN(p)||mu.isInfinite(p))throw new ju;return new bu(l,p)};var Yu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof bu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Vu={serialVersionUID:{configurable:!0}};Yu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Yu.prototype.equals=function(t){if(!(t instanceof Yu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Yu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Yu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Yu(e,r,n,i)},Yu.prototype.isNull=function(){return this._maxx<this._minx},Yu.prototype.getMaxX=function(){return this._maxx},Yu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof bu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Yu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&(n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy)}},Yu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Yu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof bu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Yu.prototype.getMinY=function(){return this._miny},Yu.prototype.getMinX=function(){return this._minx},Yu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof bu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Yu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Yu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Yu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Yu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Yu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Yu.prototype.toString=function(){return\"Env[\"+this._minx+\" : \"+this._maxx+\", \"+this._miny+\" : \"+this._maxy+\"]\"},Yu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Yu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Yu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Yu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Yu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Yu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof bu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Yu.prototype.centre=function(){return this.isNull()?null:new bu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Yu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof bu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Yu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Yu.prototype.getMaxY=function(){return this._maxy},Yu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Yu.prototype.hashCode=function(){var t=17;return t=37*t+bu.hashCode(this._minx),t=37*t+bu.hashCode(this._maxx),t=37*t+bu.hashCode(this._miny),t=37*t+bu.hashCode(this._maxy)},Yu.prototype.interfaces_=function(){return[xu,Li]},Yu.prototype.getClass=function(){return Yu},Yu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),c=Math.min(r.x,i.x),h=Math.max(r.x,i.x);return!(c>u)&&(!(h<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),c=Math.min(r.y,i.y),h=Math.max(r.y,i.y),!(c>u)&&!(h<a)))}},Vu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Yu,Vu);var Hu={typeStr:/^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,emptyTypeStr:/^\\s*(\\w+)\\s*EMPTY\\s*$/,spaces:/\\s+/,parenComma:/\\)\\s*,\\s*\\(/,doubleParenComma:/\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,trimParens:/^\\s*\\(?(.*?)\\)?\\s*$/},Wu=function(t){this.geometryFactory=t||new _h};Wu.prototype.read=function(t){var e,n,r;t=t.replace(/[\\n\\r]/g,\" \");var i=Hu.typeStr.exec(t);if(-1!==t.search(\"EMPTY\")&&((i=Hu.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Zu[n]&&(e=Zu[n].apply(this,[r]))),void 0===e)throw new Error(\"Could not parse WKT \"+t);return e},Wu.prototype.write=function(t){return this.extractGeometry(t)},Wu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Ju[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+\" EMPTY\":n+\"(\"+Ju[e].apply(this,[t])+\")\"};var Ju={coordinate:function(t){return t.x+\" \"+t.y},point:function(t){return Ju.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Ju.point.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Ju.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Ju.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Ju.linestring.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},polygon:function(t){var e=[];e.push(\"(\"+Ju.linestring.apply(this,[t._shell])+\")\");for(var n=0,r=t._holes.length;n<r;++n)e.push(\"(\"+Ju.linestring.apply(this,[t._holes[n]])+\")\");return e.join(\",\")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Ju.polygon.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(\",\")}},Zu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Hu.spaces);return this.geometryFactory.createPoint(new bu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Hu.trimParens,\"$1\"),r.push(Zu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Hu.spaces),r.push(new bu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Hu.spaces),r.push(new bu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Hu.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Hu.trimParens,\"$1\"),r.push(Zu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Hu.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Hu.trimParens,\"$1\"),n=Zu.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Hu.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Hu.trimParens,\"$1\"),r.push(Zu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\\s*([A-Za-z])/g,\"|$1\")).trim().split(\"|\"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Ku=function(t){this.parser=new Wu(t)};Ku.prototype.write=function(t){return this.parser.write(t)},Ku.toLineString=function(t,e){if(2!==arguments.length)throw new Error(\"Not implemented\");return\"LINESTRING ( \"+t.x+\" \"+t.y+\", \"+e.x+\" \"+e.y+\" )\"};var Qu=function(t){function e(e){t.call(this,e),this.name=\"RuntimeException\",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),$u=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qu),tc=function(){};tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc},tc.shouldNeverReachHere=function(){if(0===arguments.length)tc.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new $u(\"Should never reach here\"+(null!==t?\": \"+t:\"\"))}},tc.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],tc.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new $u:new $u(e)},tc.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],tc.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new $u(\"Expected \"+t+\" but encountered \"+e+(null!==n?\": \"+n:\"\"))};var ec=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new bu,this._intPt[1]=new bu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nc={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ec.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},ec.prototype.getTopologySummary=function(){var t=new Ru;return this.isEndPoint()&&t.append(\" endpoint\"),this._isProper&&t.append(\" proper\"),this.isCollinear()&&t.append(\" collinear\"),t.toString()},ec.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},ec.prototype.getIntersectionNum=function(){return this._result},ec.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},ec.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ec.prototype.setPrecisionModel=function(t){this._precisionModel=t},ec.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},ec.prototype.getIntersection=function(t){return this._intPt[t]},ec.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ec.prototype.hasIntersection=function(){return this._result!==ec.NO_INTERSECTION},ec.prototype.getEdgeDistance=function(t,e){return ec.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},ec.prototype.isCollinear=function(){return this._result===ec.COLLINEAR_INTERSECTION},ec.prototype.toString=function(){return Ku.toLineString(this._inputLines[0][0],this._inputLines[0][1])+\" - \"+Ku.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ec.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},ec.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},ec.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec},ec.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return tc.isTrue(!(0===o&&!t.equals(e)),\"Bad distance calculation\"),o},ec.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return tc.isTrue(!(0===o&&!t.equals(e)),\"Invalid distance calculation\"),o},nc.DONT_INTERSECT.get=function(){return 0},nc.DO_INTERSECT.get=function(){return 1},nc.COLLINEAR.get=function(){return 2},nc.NO_INTERSECTION.get=function(){return 0},nc.POINT_INTERSECTION.get=function(){return 1},nc.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ec,nc);var rc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Yu(this._inputLines[0][0],this._inputLines[0][1]),n=new Yu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Yu.intersects(n,r,e)&&0===sc.orientationIndex(n,r,e)&&0===sc.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Uu.intersection(t,n,r,i)}catch(s){if(!(s instanceof ju))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new bu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=qu.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Xu.out.println(\"DD in env = \"+s+\"  --------------------- \"+o),i.distance(o)>1e-4&&Xu.out.println(\"Distance = \"+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new bu(t),o=new bu(e),s=new bu(n),a=new bu(r),u=new bu;this.normalizeToEnvCentre(i,o,s,a,u);var c=this.safeHCoordinateIntersection(i,o,s,a);return c.x+=u.x,c.y+=u.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Yu.intersects(e,n,r),s=Yu.intersects(e,n,i),a=Yu.intersects(r,i,e),u=Yu.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,h=n.y<r.y?n.y:r.y,l=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,f=((o>c?o:c)+(a<l?a:l))/2,g=((s>h?s:h)+(u<p?u:p))/2;i.x=f,i.y=g,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Yu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=sc.orientationIndex(e,n,r),s=sc.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=sc.orientationIndex(r,i,e),u=sc.orientationIndex(r,i,n);if(a>0&&u>0||a<0&&u<0)return t.NO_INTERSECTION;return 0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new bu(r):0===s?this._intPt[0]=new bu(i):0===a?this._intPt[0]=new bu(e):0===u&&(this._intPt[0]=new bu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=sc.distancePointLine(t,n,r),s=sc.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=sc.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=sc.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(ec),ic=function(){};ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ic.signOfDet2x2(r,i,o,s)},ic.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(s=Math.floor(n/t),n-=s*t,(r-=s*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(s=Math.floor(t/n),t-=s*n,(e-=s*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var oc=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};oc.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ic.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},oc.prototype.isPointInPolygon=function(){return this.getLocation()!==Su.EXTERIOR},oc.prototype.getLocation=function(){return this._isPointOnSegment?Su.BOUNDARY:this._crossingCount%2==1?Su.INTERIOR:Su.EXTERIOR},oc.prototype.isOnSegment=function(){return this._isPointOnSegment},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc},oc.locatePointInRing=function(){if(arguments[0]instanceof bu&&Lu(arguments[1],Bu)){for(var t=arguments[0],e=arguments[1],n=new oc(t),r=new bu,i=new bu,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof bu&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new oc(s),c=1;c<a.length;c++){var h=a[c],l=a[c-1];if(u.countSegment(h,l),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var sc=function(){},ac={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc},sc.orientationIndex=function(t,e,n){return qu.orientationIndex(t,e,n)},sc.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Lu(arguments[0],Bu)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new bu,c=new bu,h=new bu;s.getCoordinate(0,c),s.getCoordinate(1,h);var l=c.x;h.x-=l;for(var p=0,f=1;f<a-1;f++)u.y=c.y,c.x=h.x,c.y=h.y,s.getCoordinate(f+1,h),h.x-=l,p+=c.x*(u.y-h.y);return p/2}},sc.distanceLineLine=function(t,e,n,r){if(t.equals(e))return sc.distancePointLine(t,n,r);if(n.equals(r))return sc.distancePointLine(r,t,e);var i=!1;if(Yu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?Pu.min(sc.distancePointLine(t,n,r),sc.distancePointLine(e,n,r),sc.distancePointLine(n,t,e),sc.distancePointLine(r,t,e)):0},sc.isPointInRing=function(t,e){return sc.locatePointInRing(t,e)!==Su.EXTERIOR},sc.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new bu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,c=a-i,h=u-o;n+=Math.sqrt(c*c+h*h),i=a,o=u}return n},sc.isCCW=function(t){var e=t.length-1;if(e<3)throw new _u(\"Ring has fewer than 4 points, so orientation cannot be determined\");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],c=t[a];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var h=sc.computeOrientation(u,n,c),l=!1;return l=0===h?u.x>c.x:h>0,l},sc.locatePointInRing=function(t,e){return oc.locatePointInRing(t,e)},sc.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},sc.computeOrientation=function(t,e,n){return sc.orientationIndex(t,e,n)},sc.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new _u(\"Line array must contain at least one vertex\");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=sc.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),c=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(c<=0)return o.distance(s);if(c>=1)return o.distance(a);var h=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(h)*Math.sqrt(u)}},sc.isOnLine=function(t,e){for(var n=new rc,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ac.CLOCKWISE.get=function(){return-1},ac.RIGHT.get=function(){return sc.CLOCKWISE},ac.COUNTERCLOCKWISE.get=function(){return 1},ac.LEFT.get=function(){return sc.COUNTERCLOCKWISE},ac.COLLINEAR.get=function(){return 0},ac.STRAIGHT.get=function(){return sc.COLLINEAR},Object.defineProperties(sc,ac);var uc=function(){};uc.prototype.filter=function(t){},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var cc=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},hc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};cc.prototype.isGeometryCollection=function(){return this.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION},cc.prototype.getFactory=function(){return this._factory},cc.prototype.getGeometryN=function(t){return this},cc.prototype.getArea=function(){return 0},cc.prototype.isRectangle=function(){return!1},cc.prototype.equals=function(){if(arguments[0]instanceof cc){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof cc))return!1;var n=e;return this.equalsExact(n)}},cc.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},cc.prototype.geometryChanged=function(){this.apply(cc.geometryChangedFilter)},cc.prototype.geometryChangedAction=function(){this._envelope=null},cc.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},cc.prototype.getLength=function(){return 0},cc.prototype.getNumGeometries=function(){return 1},cc.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},cc.prototype.getUserData=function(){return this._userData},cc.prototype.getSRID=function(){return this._SRID},cc.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},cc.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION)throw new _u(\"This method does not support GeometryCollection arguments\")},cc.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},cc.prototype.norm=function(){var t=this.copy();return t.normalize(),t},cc.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},cc.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Yu(this._envelope)},cc.prototype.setSRID=function(t){this._SRID=t},cc.prototype.setUserData=function(t){this._userData=t},cc.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},cc.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},cc.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===cc.SORTINDEX_MULTIPOINT||this.getSortIndex()===cc.SORTINDEX_MULTILINESTRING||this.getSortIndex()===cc.SORTINDEX_MULTIPOLYGON},cc.prototype.interfaces_=function(){return[Eu,xu,Li]},cc.prototype.getClass=function(){return cc},cc.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},cc.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},hc.serialVersionUID.get=function(){return 0x799ea46522854c00},hc.SORTINDEX_POINT.get=function(){return 0},hc.SORTINDEX_MULTIPOINT.get=function(){return 1},hc.SORTINDEX_LINESTRING.get=function(){return 2},hc.SORTINDEX_LINEARRING.get=function(){return 3},hc.SORTINDEX_MULTILINESTRING.get=function(){return 4},hc.SORTINDEX_POLYGON.get=function(){return 5},hc.SORTINDEX_MULTIPOLYGON.get=function(){return 6},hc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},hc.geometryChangedFilter.get=function(){return lc},Object.defineProperties(cc,hc);var lc=function(){};lc.interfaces_=function(){return[uc]},lc.filter=function(t){t.geometryChangedAction()};var pc=function(){};pc.prototype.filter=function(t){},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var fc=function(){},gc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};fc.prototype.isInBoundary=function(t){},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc},gc.Mod2BoundaryNodeRule.get=function(){return dc},gc.EndPointBoundaryNodeRule.get=function(){return yc},gc.MultiValentEndPointBoundaryNodeRule.get=function(){return _c},gc.MonoValentEndPointBoundaryNodeRule.get=function(){return mc},gc.MOD2_BOUNDARY_RULE.get=function(){return new dc},gc.ENDPOINT_BOUNDARY_RULE.get=function(){return new yc},gc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _c},gc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mc},gc.OGC_SFS_BOUNDARY_RULE.get=function(){return fc.MOD2_BOUNDARY_RULE},Object.defineProperties(fc,gc);var dc=function(){};dc.prototype.isInBoundary=function(t){return t%2==1},dc.prototype.interfaces_=function(){return[fc]},dc.prototype.getClass=function(){return dc};var yc=function(){};yc.prototype.isInBoundary=function(t){return t>0},yc.prototype.interfaces_=function(){return[fc]},yc.prototype.getClass=function(){return yc};var _c=function(){};_c.prototype.isInBoundary=function(t){return t>1},_c.prototype.interfaces_=function(){return[fc]},_c.prototype.getClass=function(){return _c};var mc=function(){};mc.prototype.isInBoundary=function(t){return 1===t},mc.prototype.interfaces_=function(){return[fc]},mc.prototype.getClass=function(){return mc};var vc=function(){};vc.prototype.add=function(){},vc.prototype.addAll=function(){},vc.prototype.isEmpty=function(){},vc.prototype.iterator=function(){},vc.prototype.size=function(){},vc.prototype.toArray=function(){},vc.prototype.remove=function(){};var xc=function(t){function e(e){t.call(this),this.message=e||\"\"}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return\"IndexOutOfBoundsException\"},Object.defineProperties(e,n),e}(Error),Ec=function(){};Ec.prototype.hasNext=function(){},Ec.prototype.next=function(){},Ec.prototype.remove=function(){};var wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(vc);(Pi.prototype=new Error).name=\"NoSuchElementException\";var bc=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,vc]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Ic(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new xc;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wc),Ic=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Pi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Ec),Nc=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof bu&&\"boolean\"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1){if(this.get(this.size()-1).equals2D(i))return null}t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<a.length;c++)this.add(a[c],u);else for(var h=a.length-1;h>=0;h--)this.add(a[h],u);return!0}if(\"boolean\"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof bu){var l=arguments[0],p=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(l>0){if(this.get(l-1).equals2D(p))return null}if(l<f){if(this.get(l).equals2D(p))return null}}}t.prototype.add.call(this,l,p)}}else if(4===arguments.length){var g=arguments[0],d=arguments[1],y=arguments[2],_=arguments[3],m=1;y>_&&(m=-1);for(var v=y;v!==_;v+=m)this.add(g[v],d);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new bu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(bc),Cc=function(){},Sc={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Sc.ForwardComparator.get=function(){return Mc},Sc.BidirectionalComparator.get=function(){return Lc},Sc.coordArrayType.get=function(){return new Array(0).fill(null)},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc},Cc.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Cc.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Cc.indexOf(r,e)<0)return r}return null},Cc.scroll=function(t,e){var n=Cc.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Xu.arraycopy(t,n,r,0,t.length-n),Xu.arraycopy(t,0,r,t.length-n,n),Xu.arraycopy(r,0,t,0,t.length)},Cc.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Cc.intersection=function(t,e){for(var n=new Nc,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Cc.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Cc.removeRepeatedPoints=function(t){if(!Cc.hasRepeatedPoints(t))return t;return new Nc(t,!1).toCoordinateArray()},Cc.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Cc.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Cc.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new bu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new bu(r[i+u])},Cc.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Cc.envelope=function(t){for(var e=new Yu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Cc.toCoordinateArray=function(t){return t.toArray(Cc.coordArrayType)},Cc.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Cc.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Cc.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Cc.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Cc.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Cc.extract=function(t,e,n){e=Pu.clamp(e,0,t.length);var r=(n=Pu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Cc,Sc);var Mc=function(){};Mc.prototype.compare=function(t,e){return Cc.compare(t,e)},Mc.prototype.interfaces_=function(){return[wu]},Mc.prototype.getClass=function(){return Mc};var Lc=function(){};Lc.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Cc.compare(n,r);return Cc.isEqualReversed(n,r)?0:i},Lc.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Cc.increasingDirection(n),o=Cc.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var c=n[s].compareTo(r[a]);if(0!==c)return c;s+=i,a+=o}return 0},Lc.prototype.interfaces_=function(){return[wu]},Lc.prototype.getClass=function(){return Lc};var Pc=function(){};Pc.prototype.get=function(){},Pc.prototype.put=function(){},Pc.prototype.size=function(){},Pc.prototype.values=function(){},Pc.prototype.entrySet=function(){};var Oc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pc);(Oi.prototype=new Error).name=\"OperationNotSupported\",(Ri.prototype=new vc).contains=function(){};var Rc=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Tc(this)},e}(Ri),Tc=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Pi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Oi},e}(Ec),Ac=0;(Gi.prototype=new Oc).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Gi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Ac,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:Ac,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Gi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Ai(t)===Fi(Ai(Ai(t)))){var e=qi(Ai(Ai(t)));1===Ti(e)?(Di(Ai(t),Ac),Di(e,Ac),Di(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===qi(Ai(t))&&(t=Ai(t),this.rotateLeft(t)),Di(Ai(t),Ac),Di(Ai(Ai(t)),1),this.rotateRight(Ai(Ai(t))))}else{var n=Fi(Ai(Ai(t)));1===Ti(n)?(Di(Ai(t),Ac),Di(n,Ac),Di(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===Fi(Ai(t))&&(t=Ai(t),this.rotateRight(t)),Di(Ai(t),Ac),Di(Ai(Ai(t)),1),this.rotateLeft(Ai(Ai(t))))}this.root_.color=Ac},Gi.prototype.values=function(){var t=new bc,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Gi.successor(e));)t.add(e.value);return t},Gi.prototype.entrySet=function(){var t=new Rc,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Gi.successor(e));)t.add(e);return t},Gi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Gi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Gi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Gi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Gi.prototype.size=function(){return this.size_};var Dc=function(){};Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc},Bi.prototype=new Ri,(ki.prototype=new Bi).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},ki.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},ki.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},ki.prototype.remove=function(t){throw new Oi},ki.prototype.size=function(){return this.array_.length},ki.prototype.isEmpty=function(){return 0===this.array_.length},ki.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},ki.prototype.iterator=function(){return new Fc(this)};var Fc=function(t){this.treeSet_=t,this.position_=0};Fc.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Pi;return this.treeSet_.array_[this.position_++]},Fc.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Fc.prototype.remove=function(){throw new Oi};var qc=function(){};qc.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},qc.asList=function(t){for(var e=new bc,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Gc=function(){},Bc={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bc.P.get=function(){return 0},Bc.L.get=function(){return 1},Bc.A.get=function(){return 2},Bc.FALSE.get=function(){return-1},Bc.TRUE.get=function(){return-2},Bc.DONTCARE.get=function(){return-3},Bc.SYM_FALSE.get=function(){return\"F\"},Bc.SYM_TRUE.get=function(){return\"T\"},Bc.SYM_DONTCARE.get=function(){return\"*\"},Bc.SYM_P.get=function(){return\"0\"},Bc.SYM_L.get=function(){return\"1\"},Bc.SYM_A.get=function(){return\"2\"},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Gc.toDimensionSymbol=function(t){switch(t){case Gc.FALSE:return Gc.SYM_FALSE;case Gc.TRUE:return Gc.SYM_TRUE;case Gc.DONTCARE:return Gc.SYM_DONTCARE;case Gc.P:return Gc.SYM_P;case Gc.L:return Gc.SYM_L;case Gc.A:return Gc.SYM_A}throw new _u(\"Unknown dimension value: \"+t)},Gc.toDimensionValue=function(t){switch(Au.toUpperCase(t)){case Gc.SYM_FALSE:return Gc.FALSE;case Gc.SYM_TRUE:return Gc.TRUE;case Gc.SYM_DONTCARE:return Gc.DONTCARE;case Gc.SYM_P:return Gc.P;case Gc.SYM_L:return Gc.L;case Gc.SYM_A:return Gc.A}throw new _u(\"Unknown dimension symbol: \"+t)},Object.defineProperties(Gc,Bc);var kc=function(){};kc.prototype.filter=function(t){},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var zc=function(){};zc.prototype.filter=function(t,e){},zc.prototype.isDone=function(){},zc.prototype.isGeometryChanged=function(){},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var jc=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new _u(\"geometries must not contain null elements\")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Yu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();qc.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Gc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Gc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new ki(qc.asList(this._geometries)),n=new ki(qc.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var c=this.getGeometryN(u),h=o.getGeometryN(u),l=c.compareToSameClass(h,i);if(0!==l)return l;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(Lu(arguments[0],pc))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Lu(arguments[0],zc)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],kc)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(Lu(arguments[0],uc)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),tc.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return\"GeometryCollection\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(cc),Xc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gc.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Uc(this).getBoundary()},e.prototype.getGeometryType=function(){return\"MultiLineString\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Dc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(jc),Uc=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=fc.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Uc.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Uc.prototype.getBoundary=function(){return this._geom instanceof Jc?this.boundaryLineString(this._geom):this._geom instanceof Xc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Uc.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){return this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Uc.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Uc.prototype.computeBoundaryCoordinates=function(t){var e=new bc;this._endpointMap=new Gi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Cc.toCoordinateArray(e)},Uc.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Yc,this._endpointMap.put(t,e)),e.count++},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Uc(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Uc(e,n).getBoundary()}};var Yc=function(){this.count=null};Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Vc=function(){},Hc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc},Vc.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Vc.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=\"\",s=new function(){}(new function(){}(Vc.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Vc.NEWLINE}catch(t){if(!(t instanceof zi))throw t;tc.shouldNeverReachHere()}return o}},Vc.split=function(t,e){for(var n=e.length,r=new bc,i=\"\"+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Vc.toString=function(){if(1===arguments.length){var t=arguments[0];return Vc.SIMPLE_ORDINATE_FORMAT.format(t)}},Vc.spaces=function(t){return Vc.chars(\" \",t)},Hc.NEWLINE.get=function(){return Xu.getProperty(\"line.separator\")},Hc.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}(\"0.#\")},Object.defineProperties(Vc,Hc);var Wc=function(){};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Wc.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Wc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,Bu.X)===t.getOrdinate(e-1,Bu.X)&&t.getOrdinate(0,Bu.Y)===t.getOrdinate(e-1,Bu.Y))},Wc.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!mu.isNaN(s)||!mu.isNaN(a)))return!1}return!0},Wc.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Wc.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Wc.copy(e,i-1,r,o,1);return r},Wc.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Wc.swap(t,r,e-r)},Wc.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Wc.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Wc.copyCoord(t,e+o,n,r+o)},Wc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return\"()\";var n=t.getDimension(),r=new Ru;r.append(\"(\");for(var i=0;i<e;i++){i>0&&r.append(\" \");for(var o=0;o<n;o++)o>0&&r.append(\",\"),r.append(Vc.toString(t.getOrdinate(i,o)))}return r.append(\")\"),r.toString()}},Wc.ensureValidRing=function(t,e){var n=e.size();if(0===n)return e;if(n<=3)return Wc.createClosedRing(t,e,4);return e.getOrdinate(0,Bu.X)===e.getOrdinate(n-1,Bu.X)&&e.getOrdinate(0,Bu.Y)===e.getOrdinate(n-1,Bu.Y)?e:Wc.createClosedRing(t,e,n+1)},Wc.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Wc.copy(e,0,r,0,i);for(var o=i;o<n;o++)Wc.copy(e,0,r,o,1);return r};var Jc=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Yu:this._points.expandEnvelope(new Yu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wc.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gc.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return sc.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();Wc.reverse(t);return this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(Lu(arguments[0],pc))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Lu(arguments[0],zc)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],kc)){arguments[0].filter(this)}else if(Lu(arguments[0],uc)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return new Uc(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return\"LineString\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new _u(\"Invalid number of points in LineString (found \"+t.size()+\" - must be 0 or >= 2)\");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Dc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(cc),Zc=function(){};Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Kc=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Yu;var t=new Yu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Gc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error(\"getX called on empty Point\");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(Lu(arguments[0],pc)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Lu(arguments[0],zc)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],kc)){arguments[0].filter(this)}else if(Lu(arguments[0],uc)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return\"Point\"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error(\"getY called on empty Point\");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),tc.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Zc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(cc),Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc};var $c=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new _u(\"holes must not contain null elements\");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new _u(\"shell is empty but holes are not\");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(sc.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(sc.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),c=t.getY(a);if(u!==o===(c!==s))return!1;o=u,s=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);qc.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);Xu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Cc.minCoordinate(e.getCoordinates());Cc.scroll(r,i),Xu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],sc.isCCW(e.getCoordinates())===n&&Cc.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,s=this._shell,a=o._shell,u=s.compareToSameClass(a,i);if(0!==u)return u;for(var c=this.getNumInteriorRing(),h=o.getNumInteriorRing(),l=0;l<c&&l<h;){var p=this.getInteriorRingN(l),f=o.getInteriorRingN(l),g=p.compareToSameClass(f,i);if(0!==g)return g;l++}return l<c?1:l<h?-1:0}},e.prototype.apply=function(t){if(Lu(t,pc)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Lu(t,zc)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Lu(t,kc))t.filter(this);else if(Lu(t,uc)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return\"Polygon\"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Qc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(cc),th=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Gc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return\"MultiPoint\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(jc),eh=function(t){function e(e,n){e instanceof bu&&n instanceof _h&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Gc.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();Wc.reverse(t);return this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new _u(\"Points of LinearRing do not form a closed linestring\");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new _u(\"Invalid number of points in LinearRing (found \"+this.getCoordinateSequence().size()+\" - must be 0 or >= 4)\")},e.prototype.getGeometryType=function(){return\"LinearRing\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Jc),nh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new bc,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return\"MultiPolygon\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Qc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(jc),rh=function(t){this._factory=t||null,this._isUserDataCopied=!1},ih={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rh.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},rh.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},rh.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof jc?this.editGeometryCollection(t,e):t instanceof $c?this.editPolygon(t,e):t instanceof Kc?e.edit(t,this._factory):t instanceof Jc?e.edit(t,this._factory):(tc.shouldNeverReachHere(\"Unsupported Geometry class: \"+t.getClass().getName()),null)},rh.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new bc,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===th?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Xc?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nh?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rh.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new bc,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.GeometryEditorOperation=function(){},ih.NoOpGeometryOperation.get=function(){return oh},ih.CoordinateOperation.get=function(){return sh},ih.CoordinateSequenceOperation.get=function(){return ah},Object.defineProperties(rh,ih);var oh=function(){};oh.prototype.edit=function(t,e){return t},oh.prototype.interfaces_=function(){return[rh.GeometryEditorOperation]},oh.prototype.getClass=function(){return oh};var sh=function(){};sh.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof eh?e.createLinearRing(n):t instanceof Jc?e.createLineString(n):t instanceof Kc?n.length>0?e.createPoint(n[0]):e.createPoint():t},sh.prototype.interfaces_=function(){return[rh.GeometryEditorOperation]},sh.prototype.getClass=function(){return sh};var ah=function(){};ah.prototype.edit=function(t,e){return t instanceof eh?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Jc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Kc?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ah.prototype.interfaces_=function(){return[rh.GeometryEditorOperation]},ah.prototype.getClass=function(){return ah};var uh=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new bu}else if(Lu(arguments[0],Bu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new bu}},ch={serialVersionUID:{configurable:!0}};uh.prototype.setOrdinate=function(t,e,n){switch(e){case Bu.X:this._coordinates[t].x=n;break;case Bu.Y:this._coordinates[t].y=n;break;case Bu.Z:this._coordinates[t].z=n;break;default:throw new _u(\"invalid ordinateIndex\")}},uh.prototype.size=function(){return this._coordinates.length},uh.prototype.getOrdinate=function(t,e){switch(e){case Bu.X:return this._coordinates[t].x;case Bu.Y:return this._coordinates[t].y;case Bu.Z:return this._coordinates[t].z}return mu.NaN},uh.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},uh.prototype.getCoordinateCopy=function(t){return new bu(this._coordinates[t])},uh.prototype.getDimension=function(){return this._dimension},uh.prototype.getX=function(t){return this._coordinates[t].x},uh.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new uh(t,this._dimension)},uh.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},uh.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new uh(t,this._dimension)},uh.prototype.toString=function(){if(this._coordinates.length>0){var t=new Ru(17*this._coordinates.length);t.append(\"(\"),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(\", \"),t.append(this._coordinates[e]);return t.append(\")\"),t.toString()}return\"()\"},uh.prototype.getY=function(t){return this._coordinates[t].y},uh.prototype.toCoordinateArray=function(){return this._coordinates},uh.prototype.interfaces_=function(){return[Bu,Li]},uh.prototype.getClass=function(){return uh},ch.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(uh,ch);var hh=function(){},lh={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};hh.prototype.readResolve=function(){return hh.instance()},hh.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new uh(t)}if(Lu(arguments[0],Bu)){var e=arguments[0];return new uh(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new uh(n):new uh(n,r)}},hh.prototype.interfaces_=function(){return[Cu,Li]},hh.prototype.getClass=function(){return hh},hh.instance=function(){return hh.instanceObject},lh.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},lh.instanceObject.get=function(){return new hh},Object.defineProperties(hh,lh);var ph=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new bc,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Rc;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Pc),fh=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof dh){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if(\"number\"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},gh={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fh.prototype.equals=function(t){if(!(t instanceof fh))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fh.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Tu(n).compareTo(new Tu(r))},fh.prototype.getScale=function(){return this._scale},fh.prototype.isFloating=function(){return this._modelType===fh.FLOATING||this._modelType===fh.FLOATING_SINGLE},fh.prototype.getType=function(){return this._modelType},fh.prototype.toString=function(){var t=\"UNKNOWN\";return this._modelType===fh.FLOATING?t=\"Floating\":this._modelType===fh.FLOATING_SINGLE?t=\"Floating-Single\":this._modelType===fh.FIXED&&(t=\"Fixed (Scale=\"+this.getScale()+\")\"),t},fh.prototype.makePrecise=function(){if(\"number\"==typeof arguments[0]){var t=arguments[0];if(mu.isNaN(t))return t;if(this._modelType===fh.FLOATING_SINGLE){return t}return this._modelType===fh.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof bu){var e=arguments[0];if(this._modelType===fh.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fh.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fh.FLOATING?t=16:this._modelType===fh.FLOATING_SINGLE?t=6:this._modelType===fh.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fh.prototype.setScale=function(t){this._scale=Math.abs(t)},fh.prototype.interfaces_=function(){return[Li,xu]},fh.prototype.getClass=function(){return fh},fh.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},gh.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},gh.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fh,gh);var dh=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},yh={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};dh.prototype.readResolve=function(){return dh.nameToTypeMap.get(this._name)},dh.prototype.toString=function(){return this._name},dh.prototype.interfaces_=function(){return[Li]},dh.prototype.getClass=function(){return dh},yh.serialVersionUID.get=function(){return-552860263173159e4},yh.nameToTypeMap.get=function(){return new ph},Object.defineProperties(dh,yh),fh.Type=dh,fh.FIXED=new dh(\"FIXED\"),fh.FLOATING=new dh(\"FLOATING\"),fh.FLOATING_SINGLE=new dh(\"FLOATING SINGLE\");var _h=function t(){this._precisionModel=new fh,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Lu(arguments[0],Cu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fh&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},mh={serialVersionUID:{configurable:!0}};_h.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new bu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new bu(t.getMinX(),t.getMinY()),new bu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new bu(t.getMinX(),t.getMinY()),new bu(t.getMinX(),t.getMaxY()),new bu(t.getMaxX(),t.getMaxY()),new bu(t.getMaxX(),t.getMinY()),new bu(t.getMinX(),t.getMinY())]),null)},_h.prototype.createLineString=function(t){return t?t instanceof Array?new Jc(this.getCoordinateSequenceFactory().create(t),this):Lu(t,Bu)?new Jc(t,this):void 0:new Jc(this.getCoordinateSequenceFactory().create([]),this)},_h.prototype.createMultiLineString=function(){if(0===arguments.length)return new Xc(null,this);if(1===arguments.length){var t=arguments[0];return new Xc(t,this)}},_h.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(_h.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $c)return this.createMultiPolygon(_h.toPolygonArray(t));if(a instanceof Jc)return this.createMultiLineString(_h.toLineStringArray(t));if(a instanceof Kc)return this.createMultiPoint(_h.toPointArray(t));tc.shouldNeverReachHere(\"Unhandled class: \"+a.getClass().getName())}return a},_h.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},_h.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof bu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Lu(arguments[0],Bu)){var e=arguments[0];return new Kc(e,this)}}},_h.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},_h.prototype.createPolygon=function(){if(0===arguments.length)return new $c(null,null,this);if(1===arguments.length){if(Lu(arguments[0],Bu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof eh){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new $c(r,i,this)}},_h.prototype.getSRID=function(){return this._SRID},_h.prototype.createGeometryCollection=function(){if(0===arguments.length)return new jc(null,this);if(1===arguments.length){var t=arguments[0];return new jc(t,this)}},_h.prototype.createGeometry=function(t){return new rh(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},_h.prototype.getPrecisionModel=function(){return this._precisionModel},_h.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Lu(arguments[0],Bu)){var e=arguments[0];return new eh(e,this)}}},_h.prototype.createMultiPolygon=function(){if(0===arguments.length)return new nh(null,this);if(1===arguments.length){var t=arguments[0];return new nh(t,this)}},_h.prototype.createMultiPoint=function(){if(0===arguments.length)return new th(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new th(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Lu(arguments[0],Bu)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wc.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},_h.prototype.interfaces_=function(){return[Li]},_h.prototype.getClass=function(){return _h},_h.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.getDefaultCoordinateSequenceFactory=function(){return hh.instance()},_h.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_h.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},mh.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(_h,mh);var vh=[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],xh=function(t){this.geometryFactory=t||new _h};xh.prototype.read=function(t){var e,n=(e=\"string\"==typeof t?JSON.parse(t):t).type;if(!Eh[n])throw new Error(\"Unknown GeoJSON type: \"+e.type);return-1!==vh.indexOf(n)?Eh[n].apply(this,[e.coordinates]):\"GeometryCollection\"===n?Eh[n].apply(this,[e.geometries]):Eh[n].apply(this,[e])},xh.prototype.write=function(t){var e=t.getGeometryType();if(!wh[e])throw new Error(\"Geometry is not supported\");return wh[e].apply(this,[t])};var Eh={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!Eh[r])throw new Error(\"Unknown GeoJSON type: \"+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Eh.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new bu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new bu(t[0],t[1]),new bu(t[2],t[1]),new bu(t[2],t[3]),new bu(t[0],t[3]),new bu(t[0],t[1])])},Point:function(t){var e=new bu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Eh.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Eh.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Eh.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Eh.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=Eh.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(Eh.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},wh={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:\"Point\",coordinates:wh.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wh.Point.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiPoint\",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(wh.coordinate.apply(this,[i]))}return{type:\"LineString\",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wh.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiLineString\",coordinates:e}},Polygon:function(t){var e=[],n=wh.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=wh.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:\"Polygon\",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wh.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiPolygon\",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(wh[i].apply(this,[r]))}return{type:\"GeometryCollection\",geometries:e}}},bh=function(t){this.geometryFactory=t||new _h,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new xh(this.geometryFactory)};bh.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fh.FIXED&&this.reducePrecision(e),e},bh.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ih=function(){this.parser=new xh(this.geometryFactory)};Ih.prototype.write=function(t){return this.parser.write(t)};var Nh=function(){},Ch={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.opposite=function(t){return t===Nh.LEFT?Nh.RIGHT:t===Nh.RIGHT?Nh.LEFT:t},Ch.ON.get=function(){return 0},Ch.LEFT.get=function(){return 1},Ch.RIGHT.get=function(){return 2},Object.defineProperties(Nh,Ch),(ji.prototype=new Error).name=\"EmptyStackException\",(Xi.prototype=new wc).add=function(t){return this.array_.push(t),!0},Xi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Xi.prototype.push=function(t){return this.array_.push(t),t},Xi.prototype.pop=function(t){if(0===this.array_.length)throw new ji;return this.array_.pop()},Xi.prototype.peek=function(){if(0===this.array_.length)throw new ji;return this.array_[this.array_.length-1]},Xi.prototype.empty=function(){return 0===this.array_.length},Xi.prototype.isEmpty=function(){return this.empty()},Xi.prototype.search=function(t){return this.array_.indexOf(t)},Xi.prototype.size=function(){return this.array_.length},Xi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Sh=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Sh.prototype.getCoordinate=function(){return this._minCoord},Sh.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Sh.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();tc.isTrue(this._minIndex>0&&this._minIndex<t.length,\"rightmost point expected to be interior vertex of edge\");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=sc.computeOrientation(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===sc.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===sc.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Sh.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Nh.LEFT;return n[e].y<n[e+1].y&&(r=Nh.RIGHT),r},Sh.prototype.getEdge=function(){return this._orientedDe},Sh.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Sh.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Sh.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}tc.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),\"inconsistency in rightmost processing\"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;this.getRightmostSide(this._minDe,this._minIndex)===Nh.LEFT&&(this._orientedDe=this._minDe.getSym())},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Mh=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new bu(r):null,this.name=\"TopologyException\"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+\" [ \"+e+\" ]\"},e}(Qu),Lh=function(){this.array_=[]};Lh.prototype.addLast=function(t){this.array_.push(t)},Lh.prototype.removeFirst=function(){return this.array_.shift()},Lh.prototype.isEmpty=function(){return 0===this.array_.length};var Ph=function(){this._finder=null,this._dirEdgeList=new bc,this._nodes=new bc,this._rightMostCoord=null,this._env=null,this._finder=new Sh};Ph.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},Ph.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ph.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Mh(\"unable to find edge to compute depths at \"+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Ph.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Nh.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ph.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ph.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Nh.RIGHT)>=1&&e.getDepth(Nh.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ph.prototype.computeDepths=function(t){var e=new Rc,n=new Lh,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Ph.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ph.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Yu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ph.prototype.addReachable=function(t){var e=new Xi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ph.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Nh.LEFT,t.getDepth(Nh.RIGHT)),e.setDepth(Nh.RIGHT,t.getDepth(Nh.LEFT))},Ph.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Ph.prototype.getNodes=function(){return this._nodes},Ph.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ph.prototype.interfaces_=function(){return[xu]},Ph.prototype.getClass=function(){return Ph};var Oh=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Nh.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Nh.ON]=o,this.location[Nh.LEFT]=s,this.location[Nh.RIGHT]=a}};Oh.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Oh.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Su.NONE)return!1;return!0},Oh.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Su.NONE&&(this.location[e]=t)},Oh.prototype.isLine=function(){return 1===this.location.length},Oh.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Nh.ON]=this.location[Nh.ON],e[Nh.LEFT]=Su.NONE,e[Nh.RIGHT]=Su.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Su.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Oh.prototype.getLocations=function(){return this.location},Oh.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Nh.LEFT];this.location[Nh.LEFT]=this.location[Nh.RIGHT],this.location[Nh.RIGHT]=t},Oh.prototype.toString=function(){var t=new Ru;return this.location.length>1&&t.append(Su.toLocationSymbol(this.location[Nh.LEFT])),t.append(Su.toLocationSymbol(this.location[Nh.ON])),this.location.length>1&&t.append(Su.toLocationSymbol(this.location[Nh.RIGHT])),t.toString()},Oh.prototype.setLocations=function(t,e,n){this.location[Nh.ON]=t,this.location[Nh.LEFT]=e,this.location[Nh.RIGHT]=n},Oh.prototype.get=function(t){return t<this.location.length?this.location[t]:Su.NONE},Oh.prototype.isArea=function(){return this.location.length>1},Oh.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Su.NONE)return!0;return!1},Oh.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Nh.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Oh.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Su.NONE)},Oh.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Oh.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Rh=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Oh(e),this.elt[1]=new Oh(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Oh(n.elt[0]),this.elt[1]=new Oh(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Oh(Su.NONE),this.elt[1]=new Oh(Su.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Oh(o,s,a),this.elt[1]=new Oh(o,s,a)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],h=arguments[2],l=arguments[3];this.elt[0]=new Oh(Su.NONE,Su.NONE,Su.NONE),this.elt[1]=new Oh(Su.NONE,Su.NONE,Su.NONE),this.elt[u].setLocations(c,h,l)}};Rh.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Rh.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Rh.prototype.isNull=function(t){return this.elt[t].isNull()},Rh.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Rh.prototype.isLine=function(t){return this.elt[t].isLine()},Rh.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Oh(t.elt[e]):this.elt[e].merge(t.elt[e])},Rh.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Rh.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Nh.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Rh.prototype.toString=function(){var t=new Ru;return null!==this.elt[0]&&(t.append(\"A:\"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(\" B:\"),t.append(this.elt[1].toString())),t.toString()},Rh.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Rh.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Rh.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Nh.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Rh.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Rh.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Rh.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Oh(this.elt[t].location[0]))},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.toLineLabel=function(t){for(var e=new Rh(Su.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Th=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new bc,this._pts=new bc,this._label=new Rh(Su.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new bc,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Th.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=sc.isCCW(this._ring.getCoordinates())},Th.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Th.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Mh(\"Found null DirectedEdge\");if(e.getEdgeRing()===this)throw new Mh(\"Directed Edge visited twice during ring-building at \"+e.getCoordinate());this._edges.add(e);var r=e.getLabel();tc.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Th.prototype.getLinearRing=function(){return this._ring},Th.prototype.getCoordinate=function(t){return this._pts.get(t)},Th.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Th.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Th.prototype.isHole=function(){return this._isHole},Th.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Th.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!sc.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},Th.prototype.addHole=function(t){this._holes.add(t)},Th.prototype.isShell=function(){return null===this._shell},Th.prototype.getLabel=function(){return this._label},Th.prototype.getEdges=function(){return this._edges},Th.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Th.prototype.getShell=function(){return this._shell},Th.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Nh.RIGHT);if(r===Su.NONE)return null;if(this._label.getLocation(n)===Su.NONE)return this._label.setLocation(n,r),null}},Th.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Th.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Ah=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Th),Dh=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new bc,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Ah(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Th),Fh=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fh.prototype.setVisited=function(t){this._isVisited=t},Fh.prototype.setInResult=function(t){this._isInResult=t},Fh.prototype.isCovered=function(){return this._isCovered},Fh.prototype.isCoveredSet=function(){return this._isCoveredSet},Fh.prototype.setLabel=function(t){this._label=t},Fh.prototype.getLabel=function(){return this._label},Fh.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fh.prototype.updateIM=function(t){tc.isTrue(this._label.getGeometryCount()>=2,\"found partial label\"),this.computeIM(t)},Fh.prototype.isInResult=function(){return this._isInResult},Fh.prototype.isVisited=function(){return this._isVisited},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh};var qh=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Rh(0,Su.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println(\"node \"+this._coord+\" lbl: \"+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Su.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Su.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Rh(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Rh)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Su.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Su.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Su.BOUNDARY:n=Su.INTERIOR;break;case Su.INTERIOR:default:n=Su.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fh),Gh=function(){this.nodeMap=new Gi,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Gh.prototype.find=function(t){return this.nodeMap.get(t)},Gh.prototype.addNode=function(){if(arguments[0]instanceof bu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof qh){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Gh.prototype.print=function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Gh.prototype.iterator=function(){return this.nodeMap.values().iterator()},Gh.prototype.values=function(){return this.nodeMap.values()},Gh.prototype.getBoundaryNodes=function(t){for(var e=new bc,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Su.BOUNDARY&&e.add(r)}return e},Gh.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh};var Bh=function(){},kh={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.isNorthern=function(t){return t===Bh.NE||t===Bh.NW},Bh.isOpposite=function(t,e){if(t===e)return!1;return 2===(t-e+4)%4},Bh.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Bh.isInHalfPlane=function(t,e){return e===Bh.SE?t===Bh.SE||t===Bh.SW:t===e||t===e+1},Bh.quadrant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _u(\"Cannot compute the quadrant for point ( \"+t+\", \"+e+\" )\");return t>=0?e>=0?Bh.NE:Bh.SE:e>=0?Bh.NW:Bh.SW}if(arguments[0]instanceof bu&&arguments[1]instanceof bu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new _u(\"Cannot compute the quadrant for two identical points \"+n);return r.x>=n.x?r.y>=n.y?Bh.NE:Bh.SE:r.y>=n.y?Bh.NW:Bh.SW}},kh.NE.get=function(){return 0},kh.NW.get=function(){return 1},kh.SW.get=function(){return 2},kh.SE.get=function(){return 3},Object.defineProperties(Bh,kh);var zh=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};zh.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:sc.computeOrientation(t._p0,t._p1,this._p1)},zh.prototype.getDy=function(){return this._dy},zh.prototype.getCoordinate=function(){return this._p0},zh.prototype.setNode=function(t){this._node=t},zh.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf(\".\"),i=n.substring(r+1);t.print(\"  \"+i+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+e+\"   \"+this._label)},zh.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},zh.prototype.getDirectedCoordinate=function(){return this._p1},zh.prototype.getDx=function(){return this._dx},zh.prototype.getLabel=function(){return this._label},zh.prototype.getEdge=function(){return this._edge},zh.prototype.getQuadrant=function(){return this._quadrant},zh.prototype.getNode=function(){return this._node},zh.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(\".\");return\"  \"+e.substring(n+1)+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+t+\"   \"+this._label},zh.prototype.computeLabel=function(t){},zh.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Bh.quadrant(this._dx,this._dy),tc.isTrue(!(0===this._dx&&0===this._dy),\"EdgeEnd with identical endpoints found\")},zh.prototype.interfaces_=function(){return[xu]},zh.prototype.getClass=function(){return zh};var jh=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Rh(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Mh(\"assigned depths do not match\",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Nh.LEFT)===Su.INTERIOR&&this._label.getLocation(e,Nh.RIGHT)===Su.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(\" \"+this._depth[Nh.LEFT]+\"/\"+this._depth[Nh.RIGHT]),e.print(\" (\"+this.getDepthDelta()+\")\"),this._isInResult&&e.print(\" inResult\")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Su.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Su.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(\" \"),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Nh.LEFT&&(r=-1);var i=Nh.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Su.EXTERIOR&&e===Su.INTERIOR?1:t===Su.INTERIOR&&e===Su.EXTERIOR?-1:0},e}(zh),Xh=function(){};Xh.prototype.createNode=function(t){return new qh(t,null)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Uh=function(){if(this._edges=new bc,this._nodes=null,this._edgeEndList=new bc,0===arguments.length)this._nodes=new Gh(new Xh);else if(1===arguments.length){var t=arguments[0];this._nodes=new Gh(t)}};Uh.prototype.printEdges=function(t){t.println(\"Edges:\");for(var e=0;e<this._edges.size();e++){t.println(\"edge \"+e+\":\");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Uh.prototype.find=function(t){return this._nodes.find(t)},Uh.prototype.addNode=function(){if(arguments[0]instanceof qh){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof bu){var e=arguments[0];return this._nodes.addNode(e)}},Uh.prototype.getNodeIterator=function(){return this._nodes.iterator()},Uh.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},Uh.prototype.debugPrintln=function(t){Xu.out.println(t)},Uh.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Su.BOUNDARY},Uh.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},Uh.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&(sc.computeOrientation(t,e,r)===sc.COLLINEAR&&Bh.quadrant(t,e)===Bh.quadrant(n,r))},Uh.prototype.getEdgeEnds=function(){return this._edgeEndList},Uh.prototype.debugPrint=function(t){Xu.out.print(t)},Uh.prototype.getEdgeIterator=function(){return this._edges.iterator()},Uh.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Uh.prototype.insertEdge=function(t){this._edges.add(t)},Uh.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Uh.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new jh(n,!0),i=new jh(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Uh.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Uh.prototype.getNodes=function(){return this._nodes.values()},Uh.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh},Uh.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}};var Yh=function(){this._geometryFactory=null,this._shellList=new bc;var t=arguments[0];this._geometryFactory=t};Yh.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Yh.prototype.computePolygons=function(t){for(var e=new bc,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Yh.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Mh(\"unable to assign hole to a shell\",r.getCoordinate(0));r.setShell(i)}}},Yh.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new bc,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Yh.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},Yh.prototype.buildMaximalEdgeRings=function(t){for(var e=new bc,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Dh(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Yh.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Yh.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Yh.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),c=u.getLinearRing(),h=c.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var l=!1;h.contains(r)&&sc.isPointInRing(i,c.getCoordinates())&&(l=!0),l&&(null===o||s.contains(h))&&(o=u)}return o},Yh.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return tc.isTrue(e<=1,\"found two shells in MinimalEdgeRing list\"),n},Yh.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Uh.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new bc,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh};var Vh=function(){};Vh.prototype.getBounds=function(){},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh};var Hh=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Hh.prototype.getItem=function(){return this._item},Hh.prototype.getBounds=function(){return this._bounds},Hh.prototype.interfaces_=function(){return[Vh,Li]},Hh.prototype.getClass=function(){return Hh};var Wh=function(){this._size=null,this._items=null,this._size=0,this._items=new bc,this._items.add(null)};Wh.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Wh.prototype.size=function(){return this._size},Wh.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Wh.prototype.clear=function(){this._size=0,this._items.clear()},Wh.prototype.isEmpty=function(){return 0===this._size},Wh.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh};var Jh=function(){};Jh.prototype.visitItem=function(t){},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh};var Zh=function(){};Zh.prototype.insert=function(t,e){},Zh.prototype.remove=function(t,e){},Zh.prototype.query=function(){},Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh};var Kh=function(){if(this._childBoundables=new bc,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Qh={serialVersionUID:{configurable:!0}};Kh.prototype.getLevel=function(){return this._level},Kh.prototype.size=function(){return this._childBoundables.size()},Kh.prototype.getChildBoundables=function(){return this._childBoundables},Kh.prototype.addChildBoundable=function(t){tc.isTrue(null===this._bounds),this._childBoundables.add(t)},Kh.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Kh.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Kh.prototype.interfaces_=function(){return[Vh,Li]},Kh.prototype.getClass=function(){return Kh},Qh.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Kh,Qh);var $h=function(){};$h.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$h.min=function(t){return $h.sort(t),t.get(0)},$h.sort=function(t,e){var n=t.toArray();e?qc.sort(n,e):qc.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$h.singletonList=function(t){var e=new bc;return e.add(t),e};var tl=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tl.prototype.expandToQueue=function(t,e){var n=tl.isComposite(this._boundable1),r=tl.isComposite(this._boundable2);if(n&&r)return tl.area(this._boundable1)>tl.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new _u(\"neither boundable is composite\")},tl.prototype.isLeaves=function(){return!(tl.isComposite(this._boundable1)||tl.isComposite(this._boundable2))},tl.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tl.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tl(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tl.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tl.prototype.getDistance=function(){return this._distance},tl.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tl.prototype.interfaces_=function(){return[xu]},tl.prototype.getClass=function(){return tl},tl.area=function(t){return t.getBounds().getArea()},tl.isComposite=function(t){return t instanceof Kh};var el=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new bc,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];tc.isTrue(n>1,\"Node capacity must be greater than 1\"),this._nodeCapacity=n}},nl={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};el.prototype.getNodeCapacity=function(){return this._nodeCapacity},el.prototype.lastNode=function(t){return t.get(t.size()-1)},el.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Kh?t+=this.size(n):n instanceof Hh&&(t+=1)}return t}},el.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Hh&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},el.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new bc:t}if(1===arguments.length){for(var e=arguments[0],n=new bc,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Kh){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Hh?n.add(i.getItem()):tc.shouldNeverReachHere()}return n.size()<=0?null:n}},el.prototype.insert=function(t,e){tc.isTrue(!this._built,\"Cannot insert items into an STR packed R-tree after it has been built.\"),this._itemBoundables.add(new Hh(t,e))},el.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new bc;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(tc.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Kh?this.boundablesAtLevel(n,s,i):(tc.isTrue(s instanceof Hh),-1===n&&i.add(s))}return null}},el.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new bc;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Lu(arguments[2],Jh)&&arguments[0]instanceof Object&&arguments[1]instanceof Kh)for(var i=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var c=a.get(u);this.getIntersectsOp().intersects(c.getBounds(),i)&&(c instanceof Kh?this.query(i,c,s):c instanceof Hh?s.visitItem(c.getItem()):tc.shouldNeverReachHere())}else if(Lu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof Kh)for(var h=arguments[0],l=arguments[1],p=arguments[2],f=l.getChildBoundables(),g=0;g<f.size();g++){var d=f.get(g);this.getIntersectsOp().intersects(d.getBounds(),h)&&(d instanceof Kh?this.query(h,d,p):d instanceof Hh?p.add(d.getItem()):tc.shouldNeverReachHere())}},el.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},el.prototype.getRoot=function(){return this.build(),this._root},el.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&(u instanceof Kh&&(o=this.remove(n,u,i)))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},el.prototype.createHigherLevels=function(t,e){tc.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},el.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Kh){var r=this.depth(n);r>t&&(t=r)}}return t+1}},el.prototype.createParentBoundables=function(t,e){tc.isTrue(!t.isEmpty());var n=new bc;n.add(this.createNode(e));var r=new bc(t);$h.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},el.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},el.prototype.interfaces_=function(){return[Li]},el.prototype.getClass=function(){return el},el.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nl.IntersectsOp.get=function(){return rl},nl.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nl.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(el,nl);var rl=function(){},il=function(){};il.prototype.distance=function(t,e){},il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il};var ol=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){tc.isTrue(t.length>0);for(var n=new bc,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new sl(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new bc;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Lu(arguments[2],Jh)&&arguments[0]instanceof Object&&arguments[1]instanceof Kh){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(Lu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof Kh){var a=arguments[0],u=arguments[1],c=arguments[2];t.prototype.query.call(this,a,u,c)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){tc.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new bc(t);$h.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Lu(arguments[0],il)){var t=arguments[0],n=new tl(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof tl){var r=arguments[0];return this.nearestNeighbour(r,mu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Lu(arguments[1],il)){var i=arguments[0],o=arguments[1],s=new tl(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tl&&\"number\"==typeof arguments[1]){var a=arguments[0],u=arguments[1],c=null,h=new Wh;for(h.add(a);!h.isEmpty()&&u>0;){var l=h.poll(),p=l.getDistance();if(p>=u)break;l.isLeaves()?(u=p,c=l):l.expandToQueue(h,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],g=arguments[1],d=arguments[2],y=new Hh(f,g),_=new tl(this.getRoot(),y,d);return this.nearestNeighbour(_)[0]}},e.prototype.interfaces_=function(){return[Zh,Li]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return sl},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(el),sl=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Yu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kh),al=function(){};al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.relativeSign=function(t,e){return t<e?-1:t>e?1:0},al.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=al.relativeSign(e.x,n.x),i=al.relativeSign(e.y,n.y);switch(t){case 0:return al.compareValue(r,i);case 1:return al.compareValue(i,r);case 2:return al.compareValue(i,-r);case 3:return al.compareValue(-r,i);case 4:return al.compareValue(-r,-i);case 5:return al.compareValue(-i,-r);case 6:return al.compareValue(-i,r);case 7:return al.compareValue(r,-i)}return tc.shouldNeverReachHere(\"invalid octant value\"),0},al.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ul=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new bu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};ul.prototype.getCoordinate=function(){return this.coord},ul.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex)},ul.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:al.compare(this._segmentOctant,this.coord,e.coord)},ul.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ul.prototype.isInterior=function(){return this._isInterior},ul.prototype.interfaces_=function(){return[xu]},ul.prototype.getClass=function(){return ul};var cl=function(){this._nodeMap=new Gi,this._edge=null;var t=arguments[0];this._edge=t};cl.prototype.getSplitCoordinates=function(){var t=new Nc;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},cl.prototype.addCollapsedNodes=function(){var t=new bc;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cl.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},cl.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new Tu(e+1))}},cl.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new bu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new bu(e.coord))},cl.prototype.iterator=function(){return this._nodeMap.values().iterator()},cl.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},cl.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},cl.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new Tu(e[0])),r=i}},cl.prototype.getEdge=function(){return this._edge},cl.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cl.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new bu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new bu(e.coord)),new fl(o,this._edge.getData())},cl.prototype.add=function(t,e){var n=new ul(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(tc.isTrue(r.coord.equals2D(t),\"Found equal nodes with different coordinates\"),r):(this._nodeMap.put(n,n),n)},cl.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Qu(\"bad split edge start point at \"+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Qu(\"bad split edge end point at \"+i)},cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl};var hl=function(){};hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl},hl.octant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _u(\"Cannot compute the octant for point ( \"+t+\", \"+e+\" )\");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof bu&&arguments[1]instanceof bu){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new _u(\"Cannot compute the octant for two identical points \"+i);return hl.octant(s,a)}};var ll=function(){};ll.prototype.getCoordinates=function(){},ll.prototype.size=function(){},ll.prototype.getCoordinate=function(t){},ll.prototype.isClosed=function(){},ll.prototype.setData=function(t){},ll.prototype.getData=function(){},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll};var pl=function(){};pl.prototype.addIntersection=function(t,e){},pl.prototype.interfaces_=function(){return[ll]},pl.prototype.getClass=function(){return pl};var fl=function(){this._nodeList=new cl(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};fl.prototype.getCoordinates=function(){return this._pts},fl.prototype.size=function(){return this._pts.length},fl.prototype.getCoordinate=function(t){return this._pts[t]},fl.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fl.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fl.prototype.setData=function(t){this._data=t},fl.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:hl.octant(t,e)},fl.prototype.getData=function(){return this._data},fl.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new bu(n.getIntersection(i));this.addIntersection(o,r)}},fl.prototype.toString=function(){return Ku.toLineString(new uh(this._pts))},fl.prototype.getNodeList=function(){return this._nodeList},fl.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},fl.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},fl.prototype.interfaces_=function(){return[pl]},fl.prototype.getClass=function(){return fl},fl.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new bc;return fl.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){i.next().getNodeList().addSplitEdges(r)}};var gl=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new bu,this.p1=new bu;else if(1===arguments.length){var t=arguments[0];this.p0=new bu(t.p0),this.p1=new bu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new bu(e,n),this.p1=new bu(r,i)}},dl={serialVersionUID:{configurable:!0}};gl.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gl.prototype.orientationIndex=function(){if(arguments[0]instanceof gl){var t=arguments[0],e=sc.orientationIndex(this.p0,this.p1,t.p0),n=sc.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof bu){var r=arguments[0];return sc.orientationIndex(this.p0,this.p1,r)}},gl.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},gl.prototype.isVertical=function(){return this.p0.x===this.p1.x},gl.prototype.equals=function(t){if(!(t instanceof gl))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},gl.prototype.intersection=function(t){var e=new rc;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},gl.prototype.project=function(){if(arguments[0]instanceof bu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new bu(t);var e=this.projectionFactor(t),n=new bu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gl){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new gl(s,a)}},gl.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gl.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gl.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},gl.prototype.distancePerpendicular=function(t){return sc.distancePointLinePerpendicular(t,this.p0,this.p1)},gl.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gl.prototype.midPoint=function(){return gl.midPoint(this.p0,this.p1)},gl.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;if(r<=0)return mu.NaN;return((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},gl.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=mu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},gl.prototype.closestPoint=function(t){var e=this.projectionFactor(t);if(e>0&&e<1)return this.project(t);return this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},gl.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gl.prototype.getLength=function(){return this.p0.distance(this.p1)},gl.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},gl.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},gl.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},gl.prototype.lineIntersection=function(t){try{return Uu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof ju))throw t}return null},gl.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gl.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error(\"Cannot compute offset from zero-length line segment\");a=e*i/s,u=e*o/s}return new bu(n-u,r+a)},gl.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},gl.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||mu.isNaN(e))&&(e=1),e},gl.prototype.toString=function(){return\"LINESTRING( \"+this.p0.x+\" \"+this.p0.y+\", \"+this.p1.x+\" \"+this.p1.y+\")\"},gl.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gl.prototype.distance=function(){if(arguments[0]instanceof gl){var t=arguments[0];return sc.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof bu){var e=arguments[0];return sc.distancePointLine(e,this.p0,this.p1)}},gl.prototype.pointAlong=function(t){var e=new bu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},gl.prototype.hashCode=function(){var t=mu.doubleToLongBits(this.p0.x);t^=31*mu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=mu.doubleToLongBits(this.p1.x);n^=31*mu.doubleToLongBits(this.p1.y);return e^(Math.trunc(n)^Math.trunc(n>>32))},gl.prototype.interfaces_=function(){return[xu,Li]},gl.prototype.getClass=function(){return gl},gl.midPoint=function(t,e){return new bu((t.x+e.x)/2,(t.y+e.y)/2)},dl.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gl,dl);var yl=function(){this.tempEnv1=new Yu,this.tempEnv2=new Yu,this._overlapSeg1=new gl,this._overlapSeg2=new gl};yl.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl};var _l=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};_l.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},_l.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},_l.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},_l.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},_l.prototype.setId=function(t){this._id=t},_l.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},_l.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Yu(t,e)}return this._env},_l.prototype.getEndIndex=function(){return this._end},_l.prototype.getStartIndex=function(){return this._start},_l.prototype.getContext=function(){return this._context},_l.prototype.getId=function(){return this._id},_l.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],c=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var h=Math.trunc((t+e)/2),l=Math.trunc((r+i)/2);t<h&&(r<l&&this.computeOverlapsInternal(t,h,n,r,l,o),l<i&&this.computeOverlapsInternal(t,h,n,l,i,o)),h<e&&(r<l&&this.computeOverlapsInternal(h,e,n,r,l,o),l<i&&this.computeOverlapsInternal(h,e,n,l,i,o))},_l.prototype.interfaces_=function(){return[]},_l.prototype.getClass=function(){return _l};var ml=function(){};ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml},ml.getChainStartIndices=function(t){var e=0,n=new bc;n.add(new Tu(e));do{var r=ml.findChainEnd(t,e);n.add(new Tu(r)),e=r}while(e<t.length-1);return ml.toIntArray(n)},ml.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Bh.quadrant(t[n],t[n+1]),i=e+1;i<t.length;){if(!t[i-1].equals2D(t[i])){if(Bh.quadrant(t[i-1],t[i])!==r)break}i++}return i-1},ml.getChains=function(){if(1===arguments.length){var t=arguments[0];return ml.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new bc,i=ml.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new _l(e,i[o],i[o+1],n);r.add(s)}return r}},ml.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var vl=function(){};vl.prototype.computeNodes=function(t){},vl.prototype.getNodedSubstrings=function(){},vl.prototype.interfaces_=function(){return[]},vl.prototype.getClass=function(){return vl};var xl=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};xl.prototype.setSegmentIntersector=function(t){this._segInt=t},xl.prototype.interfaces_=function(){return[vl]},xl.prototype.getClass=function(){return xl};var El=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new bc,this._index=new ol,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return fl.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=ml.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new wl(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return wl},Object.defineProperties(e,n),e}(xl),wl=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),s=r.getContext();this._si.processIntersections(o,n,s,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yl),bl=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Il={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};bl.prototype.getEndCapStyle=function(){return this._endCapStyle},bl.prototype.isSingleSided=function(){return this._isSingleSided},bl.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=bl.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=bl.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==bl.JOIN_ROUND&&(this._quadrantSegments=bl.DEFAULT_QUADRANT_SEGMENTS)},bl.prototype.getJoinStyle=function(){return this._joinStyle},bl.prototype.setJoinStyle=function(t){this._joinStyle=t},bl.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},bl.prototype.getSimplifyFactor=function(){return this._simplifyFactor},bl.prototype.getQuadrantSegments=function(){return this._quadrantSegments},bl.prototype.setEndCapStyle=function(t){this._endCapStyle=t},bl.prototype.getMitreLimit=function(){return this._mitreLimit},bl.prototype.setMitreLimit=function(t){this._mitreLimit=t},bl.prototype.setSingleSided=function(t){this._isSingleSided=t},bl.prototype.interfaces_=function(){return[]},bl.prototype.getClass=function(){return bl},bl.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Il.CAP_ROUND.get=function(){return 1},Il.CAP_FLAT.get=function(){return 2},Il.CAP_SQUARE.get=function(){return 3},Il.JOIN_ROUND.get=function(){return 1},Il.JOIN_MITRE.get=function(){return 2},Il.JOIN_BEVEL.get=function(){return 3},Il.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Il.DEFAULT_MITRE_LIMIT.get=function(){return 5},Il.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(bl,Il);var Nl=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=sc.COUNTERCLOCKWISE,this._inputLine=t||null},Cl={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Nl.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&(!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r))},Nl.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Nl.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Nl.prototype.isShallowConcavity=function(t,e,n,r){if(!(sc.computeOrientation(t,e,n)===this._angleOrientation))return!1;return sc.distancePointLine(e,t,n)<r},Nl.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Nl.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Nl.prototype.isConcave=function(t,e,n){var r=sc.computeOrientation(t,e,n)===this._angleOrientation;return r},Nl.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=sc.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Nl.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Nl.DELETE;)e++;return e},Nl.prototype.isShallow=function(t,e,n,r){return sc.distancePointLine(e,t,n)<r},Nl.prototype.collapseLine=function(){for(var t=new Nc,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Nl.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl},Nl.simplify=function(t,e){return new Nl(t).simplify(e)},Cl.INIT.get=function(){return 0},Cl.DELETE.get=function(){return 1},Cl.KEEP.get=function(){return 1},Cl.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Nl,Cl);var Sl=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new bc},Ml={COORDINATE_ARRAY_TYPE:{configurable:!0}};Sl.prototype.getCoordinates=function(){return this._ptList.toArray(Sl.COORDINATE_ARRAY_TYPE)},Sl.prototype.setPrecisionModel=function(t){this._precisionModel=t},Sl.prototype.addPt=function(t){var e=new bu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Sl.prototype.revere=function(){},Sl.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Sl.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Sl.prototype.toString=function(){return(new _h).createLineString(this.getCoordinates()).toString()},Sl.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new bu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Sl.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Ml.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Sl,Ml);var Ll=function(){},Pl={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.toDegrees=function(t){return 180*t/Math.PI},Ll.normalize=function(t){for(;t>Math.PI;)t-=Ll.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ll.PI_TIMES_2;return t},Ll.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Ll.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Ll.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Ll.interiorAngle=function(t,e,n){var r=Ll.angle(e,t),i=Ll.angle(e,n);return Math.abs(i-r)},Ll.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ll.PI_TIMES_2;t>=Ll.PI_TIMES_2&&(t=0)}else{for(;t>=Ll.PI_TIMES_2;)t-=Ll.PI_TIMES_2;t<0&&(t=0)}return t},Ll.angleBetween=function(t,e,n){var r=Ll.angle(e,t),i=Ll.angle(e,n);return Ll.diff(r,i)},Ll.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Ll.toRadians=function(t){return t*Math.PI/180},Ll.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Ll.COUNTERCLOCKWISE:n<0?Ll.CLOCKWISE:Ll.NONE},Ll.angleBetweenOriented=function(t,e,n){var r=Ll.angle(e,t),i=Ll.angle(e,n)-r;return i<=-Math.PI?i+Ll.PI_TIMES_2:i>Math.PI?i-Ll.PI_TIMES_2:i},Pl.PI_TIMES_2.get=function(){return 2*Math.PI},Pl.PI_OVER_2.get=function(){return Math.PI/2},Pl.PI_OVER_4.get=function(){return Math.PI/4},Pl.COUNTERCLOCKWISE.get=function(){return sc.COUNTERCLOCKWISE},Pl.CLOCKWISE.get=function(){return sc.CLOCKWISE},Pl.NONE.get=function(){return sc.COLLINEAR},Object.defineProperties(Ll,Pl);var Ol=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gl,this._seg1=new gl,this._offset0=new gl,this._offset1=new gl,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rc,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===bl.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Rl={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Ol.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=sc.computeOrientation(this._s0,this._s1,this._s2),r=n===sc.CLOCKWISE&&this._side===Nh.LEFT||n===sc.COUNTERCLOCKWISE&&this._side===Nh.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Ol.prototype.addLineEndCap=function(t,e){var n=new gl(t,e),r=new gl;this.computeOffsetSegment(n,Nh.LEFT,this._distance,r);var i=new gl;this.computeOffsetSegment(n,Nh.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case bl.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,sc.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case bl.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case bl.CAP_SQUARE:var u=new bu;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var c=new bu(r.p1.x+u.x,r.p1.y+u.y),h=new bu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(c),this._segList.addPt(h)}},Ol.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Ol.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Uu.intersection(e.p0,e.p1,n.p0,n.p1);(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof ju))throw t;o=new bu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Ol.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,c=n.y-t.y,h=Math.atan2(c,u);r===sc.CLOCKWISE?a<=h&&(a+=2*Math.PI):a>=h&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,h,r,i),this._segList.addPt(n)},Ol.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Ol.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===bl.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===bl.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Ol.prototype.createSquare=function(t){this._segList.addPt(new bu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new bu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new bu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new bu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Ol.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Ol.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Ol.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Ol.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Ol.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Ll.angle(i,this._seg0.p0),s=Ll.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Ll.normalize(o+s),u=Ll.normalize(a+Math.PI),c=r*n,h=n-c*Math.abs(Math.sin(s)),l=i.x+c*Math.cos(u),p=i.y+c*Math.sin(u),f=new bu(l,p),g=new gl(i,f),d=g.pointAlongOffset(1,h),y=g.pointAlongOffset(1,-h);this._side===Nh.LEFT?(this._segList.addPt(d),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(d))},Ol.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Nh.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,c=i*n*s/a;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+u},Ol.prototype.addFilletArc=function(t,e,n,r,i){var o=r===sc.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,c=0,h=new bu;c<s;){var l=e+o*c;h.x=t.x+i*Math.cos(l),h.y=t.y+i*Math.sin(l),this._segList.addPt(h),c+=u}},Ol.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Ol.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new bu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new bu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Ol.prototype.createCircle=function(t){var e=new bu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Ol.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Ol.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Sl,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Ol.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Ol.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===bl.JOIN_BEVEL||this._bufParams.getJoinStyle()===bl.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,sc.CLOCKWISE,this._distance))},Ol.prototype.closeRing=function(){this._segList.closeRing()},Ol.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Ol.prototype.interfaces_=function(){return[]},Ol.prototype.getClass=function(){return Ol},Rl.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Rl.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Rl.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Rl.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Ol,Rl);var Tl=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Tl.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Cc.reverse(o),o},Tl.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Nl.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Nh.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Nl.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Nh.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment(),n.closeRing()},Tl.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Nh.RIGHT&&(r=-r);var i=Nl.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},Tl.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Nl.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Nh.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Nl.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Nh.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Tl.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case bl.CAP_ROUND:e.createCircle(t);break;case bl.CAP_SQUARE:e.createSquare(t)}},Tl.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Tl.prototype.getBufferParameters=function(){return this._bufParams},Tl.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Tl.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Tl.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Tl.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Nl.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Nh.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Nl.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Nh.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment()},Tl.prototype.getSegGen=function(t){return new Ol(this._precisionModel,this._bufParams,t)},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new bu(t[n]);return e};var Al=function(){this._subgraphs=null,this._seg=new gl,this._cga=new sc;var t=arguments[0];this._subgraphs=t},Dl={DepthSegment:{configurable:!0}};Al.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new bc,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Lu(arguments[2],wc)&&arguments[0]instanceof bu&&arguments[1]instanceof jh)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++){this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();if(!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||sc.computeOrientation(this._seg.p0,this._seg.p1,o)===sc.RIGHT)){var h=s.getDepth(Nh.LEFT);this._seg.p0.equals(u[c])||(h=s.getDepth(Nh.RIGHT));var l=new Fl(this._seg,h);a.add(l)}}else if(Lu(arguments[2],wc)&&arguments[0]instanceof bu&&Lu(arguments[1],wc))for(var p=arguments[0],f=arguments[1],g=arguments[2],d=f.iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(p,y,g)}},Al.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);if(0===e.size())return 0;return $h.min(e)._leftDepth},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Dl.DepthSegment.get=function(){return Fl},Object.defineProperties(Al,Dl);var Fl=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new gl(t),this._leftDepth=e};Fl.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Fl.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Fl.prototype.toString=function(){return this._upwardSeg.toString()},Fl.prototype.interfaces_=function(){return[xu]},Fl.prototype.getClass=function(){return Fl};var ql=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};ql.prototype.area=function(){return ql.area(this.p0,this.p1,this.p2)},ql.prototype.signedArea=function(){return ql.signedArea(this.p0,this.p1,this.p2)},ql.prototype.interpolateZ=function(t){if(null===t)throw new _u(\"Supplied point is null.\");return ql.interpolateZ(t,this.p0,this.p1,this.p2)},ql.prototype.longestSideLength=function(){return ql.longestSideLength(this.p0,this.p1,this.p2)},ql.prototype.isAcute=function(){return ql.isAcute(this.p0,this.p1,this.p2)},ql.prototype.circumcentre=function(){return ql.circumcentre(this.p0,this.p1,this.p2)},ql.prototype.area3D=function(){return ql.area3D(this.p0,this.p1,this.p2)},ql.prototype.centroid=function(){return ql.centroid(this.p0,this.p1,this.p2)},ql.prototype.inCentre=function(){return ql.inCentre(this.p0,this.p1,this.p2)},ql.prototype.interfaces_=function(){return[]},ql.prototype.getClass=function(){return ql},ql.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},ql.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},ql.det=function(t,e,n,r){return t*r-e*n},ql.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,c=r.y-o,h=s*c-a*u,l=t.x-i,p=t.y-o,f=(c*l-a*p)/h,g=(-u*l+s*p)/h;return e.z+f*(n.z-e.z)+g*(r.z-e.z)},ql.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},ql.isAcute=function(t,e,n){return!!Ll.isAcute(t,e,n)&&(!!Ll.isAcute(e,n,t)&&!!Ll.isAcute(n,t,e))},ql.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,c=2*ql.det(o,s,a,u),h=ql.det(s,o*o+s*s,u,a*a+u*u),l=ql.det(o,o*o+s*s,a,a*a+u*u);return new bu(r-h/c,i+l/c)},ql.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Uu(t.x+n/2,t.y+r/2,1),o=new Uu(t.x-r+n/2,t.y+n+r/2,1);return new Uu(i,o)},ql.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new bu(t.x+i*o,t.y+i*s)},ql.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,c=i*u-o*a,h=o*s-r*u,l=r*a-i*s,p=c*c+h*h+l*l,f=Math.sqrt(p)/2;return f},ql.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new bu(r,i)},ql.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new bu(a,u)};var Gl=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new bc;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Gl.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Su.EXTERIOR,Su.INTERIOR)},Gl.prototype.addPolygon=function(t){var e=this._distance,n=Nh.LEFT;this._distance<0&&(e=-this._distance,n=Nh.RIGHT);var r=t.getExteriorRing(),i=Cc.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Su.EXTERIOR,Su.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Cc.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Nh.opposite(n),Su.INTERIOR,Su.EXTERIOR)}},Gl.prototype.isTriangleErodedCompletely=function(t,e){var n=new ql(t[0],t[1],t[2]),r=n.inCentre();return sc.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Gl.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Cc.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Su.EXTERIOR,Su.INTERIOR)},Gl.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new fl(t,new Rh(0,Su.BOUNDARY,e,n));this._curveList.add(r)},Gl.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Gl.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<eh.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=eh.MINIMUM_VALID_SIZE&&sc.isCCW(t)&&(o=i,s=r,n=Nh.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Gl.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $c?this.addPolygon(t):t instanceof Jc?this.addLineString(t):t instanceof Kc?this.addPoint(t):t instanceof th?this.addCollection(t):t instanceof Xc?this.addCollection(t):t instanceof nh?this.addCollection(t):t instanceof jc&&this.addCollection(t)},Gl.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Gl.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var Bl=function(){};Bl.prototype.locate=function(t){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var kl=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};kl.prototype.next=function(){if(this._atStart)return this._atStart=!1,kl.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Pi;var t=this._parent.getGeometryN(this._index++);return t instanceof jc?(this._subcollectionIterator=new kl(t),this._subcollectionIterator.next()):t},kl.prototype.remove=function(){throw new Error(this.getClass().getName())},kl.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},kl.prototype.interfaces_=function(){return[Ec]},kl.prototype.getClass=function(){return kl},kl.isAtomic=function(t){return!(t instanceof jc)};var zl=function(){this._geom=null;var t=arguments[0];this._geom=t};zl.prototype.locate=function(t){return zl.locate(t,this._geom)},zl.prototype.interfaces_=function(){return[Bl]},zl.prototype.getClass=function(){return zl},zl.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&sc.isPointInRing(t,e.getCoordinates())},zl.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zl.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(zl.isPointInRing(t,i))return!1}return!0},zl.containsPoint=function(t,e){if(e instanceof $c)return zl.containsPointInPolygon(t,e);if(e instanceof jc)for(var n=new kl(e);n.hasNext();){var r=n.next();if(r!==e&&zl.containsPoint(t,r))return!0}return!1},zl.locate=function(t,e){return e.isEmpty()?Su.EXTERIOR:zl.containsPoint(t,e)?Su.INTERIOR:Su.EXTERIOR};var jl=function(){this._edgeMap=new Gi,this._edgeList=null,this._ptInAreaLocation=[Su.NONE,Su.NONE]};jl.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},jl.prototype.propagateSideLabels=function(t){for(var e=Su.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Nh.LEFT)!==Su.NONE&&(e=r.getLocation(t,Nh.LEFT))}if(e===Su.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Nh.ON)===Su.NONE&&a.setLocation(t,Nh.ON,i),a.isArea(t)){var u=a.getLocation(t,Nh.LEFT),c=a.getLocation(t,Nh.RIGHT);if(c!==Su.NONE){if(c!==i)throw new Mh(\"side location conflict\",s.getCoordinate());u===Su.NONE&&tc.shouldNeverReachHere(\"found single null side (at \"+s.getCoordinate()+\")\"),i=u}else tc.isTrue(a.getLocation(t,Nh.LEFT)===Su.NONE,\"found single null side\"),a.setLocation(t,Nh.RIGHT,i),a.setLocation(t,Nh.LEFT,i)}}},jl.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;return t.next().getCoordinate()},jl.prototype.print=function(t){Xu.out.println(\"EdgeEndStar:   \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},jl.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},jl.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Nh.LEFT);tc.isTrue(r!==Su.NONE,\"Found unlabelled area edge\");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();tc.isTrue(s.isArea(t),\"Found non-area edge\");var a=s.getLocation(t,Nh.LEFT),u=s.getLocation(t,Nh.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},jl.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},jl.prototype.iterator=function(){return this.getEdges().iterator()},jl.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new bc(this._edgeMap.values())),this._edgeList},jl.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Su.NONE&&(this._ptInAreaLocation[t]=zl.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},jl.prototype.toString=function(){var t=new Ru;t.append(\"EdgeEndStar:   \"+this.getCoordinate()),t.append(\"\\n\");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(\"\\n\")}return t.toString()},jl.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},jl.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Su.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var c=Su.NONE;if(e[u])c=Su.EXTERIOR;else{var h=s.getCoordinate();c=this.getLocation(u,h,t)}a.setAllLocationsIfNull(u,c)}},jl.prototype.getDegree=function(){return this._edgeMap.size()},jl.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl};var Xl=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Mh(\"no outgoing dirEdge found\",this.getCoordinate());tc.isTrue(t.isInResult(),\"unable to link last incoming dirEdge\"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Bh.isNorthern(i)&&Bh.isNorthern(o)?n:Bh.isNorthern(i)||Bh.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(tc.shouldNeverReachHere(\"found two horizontal edges incident on node\"),null):r},e.prototype.print=function(t){Xu.out.println(\"DirectedEdgeStar: \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print(\"out \"),n.print(t),t.println(),t.print(\"in \"),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new bc;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Nh.LEFT),r=t.getDepth(Nh.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Mh(\"depth mismatch at \"+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var c=this._edgeList.get(u);c.setEdgeDepths(Nh.RIGHT,a),a=c.getDepth(Nh.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(tc.isTrue(null!==e,\"found null for first outgoing dirEdge\"),tc.isTrue(e.getEdgeRing()===t,\"unable to link last incoming dirEdge\"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){e.next().isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();){i.next().getEdgeRing()===n&&r++}return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Su.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Su.INTERIOR;break}if(r.isInResult()){t=Su.EXTERIOR;break}}}if(t===Su.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===Su.INTERIOR):(s.isInResult()&&(i=Su.EXTERIOR),a.isInResult()&&(i=Su.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Rh(Su.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Su.INTERIOR&&o!==Su.BOUNDARY||this._label.setLocation(i,Su.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jl),Ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new qh(t,new Xl)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xh),Yl=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Yl.prototype.compareTo=function(t){var e=t;return Yl.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Yl.prototype.interfaces_=function(){return[xu]},Yl.prototype.getClass=function(){return Yl},Yl.orientation=function(t){return 1===Cc.increasingDirection(t)},Yl.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,c=r?0:n.length-1;;){var h=t[u].compareTo(n[c]);if(0!==h)return h;var l=(u+=i)===s,p=(c+=o)===a;if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p)return 0}};var Vl=function(){this._edges=new bc,this._ocaMap=new Gi};Vl.prototype.print=function(t){t.print(\"MULTILINESTRING ( \");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(\",\"),t.print(\"(\");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(\",\"),t.print(r[i].x+\" \"+r[i].y);t.println(\")\")}t.print(\")  \")},Vl.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Vl.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Vl.prototype.iterator=function(){return this._edges.iterator()},Vl.prototype.getEdges=function(){return this._edges},Vl.prototype.get=function(t){return this._edges.get(t)},Vl.prototype.findEqualEdge=function(t){var e=new Yl(t.getCoordinates());return this._ocaMap.get(e)},Vl.prototype.add=function(t){this._edges.add(t);var e=new Yl(t.getCoordinates());this._ocaMap.put(e,t)},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl};var Hl=function(){};Hl.prototype.processIntersections=function(t,e,n,r){},Hl.prototype.isDone=function(){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var Wl=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Wl.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Wl.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Wl.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Wl.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Wl.prototype.getLineIntersector=function(){return this._li},Wl.prototype.hasProperIntersection=function(){return this._hasProper},Wl.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Wl.prototype.hasIntersection=function(){return this._hasIntersection},Wl.prototype.isDone=function(){return!1},Wl.prototype.hasInteriorIntersection=function(){return this._hasInterior},Wl.prototype.interfaces_=function(){return[Hl]},Wl.prototype.getClass=function(){return Wl},Wl.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Jl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new bu(t),this.segmentIndex=e,this.dist=n};Jl.prototype.getSegmentIndex=function(){return this.segmentIndex},Jl.prototype.getCoordinate=function(){return this.coord},Jl.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex),t.println(\" dist = \"+this.dist)},Jl.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Jl.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Jl.prototype.toString=function(){return this.coord+\" seg # = \"+this.segmentIndex+\" dist = \"+this.dist},Jl.prototype.getDistance=function(){return this.dist},Jl.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Jl.prototype.interfaces_=function(){return[xu]},Jl.prototype.getClass=function(){return Jl};var Zl=function(){this._nodeMap=new Gi,this.edge=null;var t=arguments[0];this.edge=t};Zl.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Zl.prototype.iterator=function(){return this._nodeMap.values().iterator()},Zl.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Zl.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Zl.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new bu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new ep(o,new Rh(this.edge._label))},Zl.prototype.add=function(t,e,n){var r=new Jl(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Zl.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var Kl=function(){};Kl.prototype.getChainStartIndices=function(t){var e=0,n=new bc;n.add(new Tu(e));do{var r=this.findChainEnd(t,e);n.add(new Tu(r)),e=r}while(e<t.length-1);return Kl.toIntArray(n)},Kl.prototype.findChainEnd=function(t,e){for(var n=Bh.quadrant(t[e],t[e+1]),r=e+1;r<t.length;){if(Bh.quadrant(t[r-1],t[r])!==n)break;r++}return r-1},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl},Kl.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Ql=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Yu,this.env2=new Yu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Kl;this.startIndex=e.getChainStartIndices(this.pts)};Ql.prototype.getCoordinates=function(){return this.pts},Ql.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Ql.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Ql.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],c=arguments[5],h=this.pts[i],l=this.pts[o],p=s.pts[a],f=s.pts[u];if(o-i==1&&u-a==1)return c.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(h,l),this.env2.init(p,f),!this.env1.intersects(this.env2))return null;var g=Math.trunc((i+o)/2),d=Math.trunc((a+u)/2);i<g&&(a<d&&this.computeIntersectsForChain(i,g,s,a,d,c),d<u&&this.computeIntersectsForChain(i,g,s,d,u,c)),g<o&&(a<d&&this.computeIntersectsForChain(g,o,s,a,d,c),d<u&&this.computeIntersectsForChain(g,o,s,d,u,c))}},Ql.prototype.getStartIndexes=function(){return this.startIndex},Ql.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Ql.prototype.interfaces_=function(){return[]},Ql.prototype.getClass=function(){return Ql};var $l=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},tp={NULL_VALUE:{configurable:!0}};$l.prototype.getDepth=function(t,e){return this._depth[t][e]},$l.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},$l.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==$l.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===$l.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===$l.NULL_VALUE}},$l.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},$l.prototype.getDelta=function(t){return this._depth[t][Nh.RIGHT]-this._depth[t][Nh.LEFT]},$l.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Su.EXTERIOR:Su.INTERIOR},$l.prototype.toString=function(){return\"A: \"+this._depth[0][1]+\",\"+this._depth[0][2]+\" B: \"+this._depth[1][1]+\",\"+this._depth[1][2]},$l.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Su.EXTERIOR&&r!==Su.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=$l.depthAtLocation(r):this._depth[e][n]+=$l.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Su.INTERIOR&&this._depth[i][o]++}},$l.prototype.interfaces_=function(){return[]},$l.prototype.getClass=function(){return $l},$l.depthAtLocation=function(t){return t===Su.EXTERIOR?0:t===Su.INTERIOR?1:$l.NULL_VALUE},tp.NULL_VALUE.get=function(){return-1},Object.defineProperties($l,tp);var ep=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Zl(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new $l,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];return new e(t,Rh.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print(\"edge \"+this._name+\": \"),t.print(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.print(\",\"),t.print(this.pts[e].x+\" \"+this.pts[e].y);t.print(\")  \"+this._label+\" \"+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print(\"edge \"+this._name+\": \");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+\" \");t.println(\"\")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ql(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Yu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new bu(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new Ru;t.append(\"edge \"+this._name+\": \"),t.append(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.append(\",\"),t.append(this.pts[e].x+\" \"+this.pts[e].y);return t.append(\")  \"+this._label+\" \"+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Nh.ON),e.getLocation(1,Nh.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Nh.LEFT),e.getLocation(1,Nh.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Nh.RIGHT),e.getLocation(1,Nh.RIGHT),2))},e}(Fh),np=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Vl,this._bufParams=t||null};np.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},np.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Rh(t.getLabel())).flip(),n.merge(r);var i=np.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(np.depthDelta(t.getLabel()))},np.prototype.buildSubgraphs=function(t,e){for(var n=new bc,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Al(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},np.prototype.createSubgraphs=function(t){for(var e=new bc,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ph;i.create(r),e.add(i)}}return $h.sort(e,$h.reverseOrder()),e},np.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},np.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new El,n=new rc;return n.setPrecisionModel(t),e.setSegmentIntersector(new Wl(n)),e},np.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Tl(n,this._bufParams),i=new Gl(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Uh(new Ul),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Yh(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();if(a.size()<=0)return this.createEmptyResultGeometry();return this._geomFact.buildGeometry(a)},np.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new ep(i.getCoordinates(),new Rh(s));this.insertUniqueEdge(a)}}},np.prototype.setNoder=function(t){this._workingNoder=t},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np},np.depthDelta=function(t){var e=t.getLocation(0,Nh.LEFT),n=t.getLocation(0,Nh.RIGHT);return e===Su.INTERIOR&&n===Su.EXTERIOR?1:e===Su.EXTERIOR&&n===Su.INTERIOR?-1:0},np.convertSegStrings=function(t){for(var e=new _h,n=new bc;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var rp=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};rp.prototype.rescale=function(){if(Lu(arguments[0],vc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Xu.out.println(n)}},rp.prototype.scale=function(){if(Lu(arguments[0],vc)){for(var t=arguments[0],e=new bc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new fl(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new bu(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Cc.removeRepeatedPoints(o)}},rp.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},rp.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},rp.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},rp.prototype.interfaces_=function(){return[vl]},rp.prototype.getClass=function(){return rp};var ip=function(){this._li=new rc,this._segStrings=null;var t=arguments[0];this._segStrings=t},op={fact:{configurable:!0}};ip.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Qu(\"found endpt/interior pt intersection at index \"+o+\" :pt \"+n)},ip.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(i,u,o,c);else if(4===arguments.length){var h=arguments[0],l=arguments[1],p=arguments[2],f=arguments[3];if(h===p&&l===f)return null;var g=h.getCoordinates()[l],d=h.getCoordinates()[l+1],y=p.getCoordinates()[f],_=p.getCoordinates()[f+1];if(this._li.computeIntersection(g,d,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,d)||this.hasInteriorIntersection(this._li,y,_)))throw new Qu(\"found non-noded intersection at \"+g+\"-\"+d+\" and \"+y+\"-\"+_)}},ip.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ip.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},ip.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},ip.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Qu(\"found non-noded collapse at \"+ip.fact.createLineString([t,e,n]))},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip},op.fact.get=function(){return new _h},Object.defineProperties(ip,op);var sp=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new _u(\"Scale factor must be non-zero\");1!==e&&(this._pt=new bu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new bu,this._p1Scaled=new bu),this.initCorners(this._pt)},ap={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sp.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return tc.isTrue(!(s&&a),\"Found bad envelope test\"),a},sp.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new bu(this._maxx,this._maxy),this._corner[1]=new bu(this._minx,this._maxy),this._corner[2]=new bu(this._minx,this._miny),this._corner[3]=new bu(this._maxx,this._miny)},sp.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sp.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},sp.prototype.getCoordinate=function(){return this._originalPt},sp.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},sp.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=sp.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Yu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},sp.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},sp.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!r)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},sp.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},ap.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sp,ap);var up=function(){this.tempEnv1=new Yu,this.selectedSegment=new gl};up.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var cp=function(){this._index=null;var t=arguments[0];this._index=t},hp={HotPixelSnapAction:{configurable:!0}};cp.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new lp(e,n,r);return this._index.query(i,{interfaces_:function(){return[Jh]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp},hp.HotPixelSnapAction.get=function(){return lp},Object.defineProperties(cp,hp);var lp=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(up),pp=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new bc};pp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},pp.prototype.isDone=function(){return!1},pp.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pp.prototype.interfaces_=function(){return[Hl]},pp.prototype.getClass=function(){return pp};var fp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rc,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};fp.prototype.checkCorrectness=function(t){var e=fl.getNodedSubstrings(t),n=new ip(e);try{n.checkValid()}catch(t){if(!(t instanceof zu))throw t;t.printStackTrace()}},fp.prototype.getNodedSubstrings=function(){return fl.getNodedSubstrings(this._nodedSegStrings)},fp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},fp.prototype.findInteriorIntersections=function(t,e){var n=new pp(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},fp.prototype.computeVertexSnaps=function(){if(Lu(arguments[0],vc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof fl)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sp(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},fp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new El,this._pointSnapper=new cp(this._noder.getIndex()),this.snapRound(t,this._li)},fp.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new sp(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},fp.prototype.interfaces_=function(){return[vl]},fp.prototype.getClass=function(){return fp};var gp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new bl,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},dp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gp.prototype.bufferFixedPrecision=function(t){var e=new rp(new fp(new fh(1)),t.getScale()),n=new np(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Mh))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=gp.precisionScaleFactor(this._argGeom,this._distance,n),i=new fh(r);this.bufferFixedPrecision(i)}},gp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fh.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gp.prototype.bufferOriginalPrecision=function(){try{var t=new np(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Qu))throw t;this._saveException=t}},gp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp},gp.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new gp(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof cc&&\"number\"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new gp(n);o.setQuadrantSegments(i);return o.getResultGeometry(r)}if(arguments[2]instanceof bl&&arguments[0]instanceof cc&&\"number\"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new gp(s,u).getResultGeometry(a)}}else if(4===arguments.length){var c=arguments[0],h=arguments[1],l=arguments[2],p=arguments[3],f=new gp(c);f.setQuadrantSegments(l),f.setEndCapStyle(p);return f.getResultGeometry(h)}},gp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=Pu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},dp.CAP_ROUND.get=function(){return bl.CAP_ROUND},dp.CAP_BUTT.get=function(){return bl.CAP_FLAT},dp.CAP_FLAT.get=function(){return bl.CAP_FLAT},dp.CAP_SQUARE.get=function(){return bl.CAP_SQUARE},dp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gp,dp);var yp=function(){this._pt=[new bu,new bu],this._distance=mu.NaN,this._isNull=!0};yp.prototype.getCoordinates=function(){return this._pt},yp.prototype.getCoordinate=function(t){return this._pt[t]},yp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},yp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yp.prototype.getDistance=function(){return this._distance},yp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp};var _p=function(){};_p.prototype.interfaces_=function(){return[]},_p.prototype.getClass=function(){return _p},_p.computeDistance=function(){if(arguments[2]instanceof yp&&arguments[0]instanceof Jc&&arguments[1]instanceof bu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new gl,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof yp&&arguments[0]instanceof $c&&arguments[1]instanceof bu){var a=arguments[0],u=arguments[1],c=arguments[2];_p.computeDistance(a.getExteriorRing(),u,c);for(var h=0;h<a.getNumInteriorRing();h++)_p.computeDistance(a.getInteriorRingN(h),u,c)}else if(arguments[2]instanceof yp&&arguments[0]instanceof cc&&arguments[1]instanceof bu){var l=arguments[0],p=arguments[1],f=arguments[2];if(l instanceof Jc)_p.computeDistance(l,p,f);else if(l instanceof $c)_p.computeDistance(l,p,f);else if(l instanceof jc)for(var g=l,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);_p.computeDistance(y,p,f)}else f.setMinimum(l.getCoordinate(),p)}else if(arguments[2]instanceof yp&&arguments[0]instanceof gl&&arguments[1]instanceof bu){var _=arguments[0],m=arguments[1],v=arguments[2],x=_.closestPoint(m);v.setMinimum(x,m)}};var mp=function(t){this._maxPtDist=new yp,this._inputGeom=t||null},vp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};mp.prototype.computeMaxMidpointDistance=function(t){var e=new Ep(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mp.prototype.computeMaxVertexDistance=function(t){var e=new xp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},mp.prototype.getDistancePoints=function(){return this._maxPtDist},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp},vp.MaxPointDistanceFilter.get=function(){return xp},vp.MaxMidpointDistanceFilter.get=function(){return Ep},Object.defineProperties(mp,vp);var xp=function(t){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=t||null};xp.prototype.filter=function(t){this._minPtDist.initialize(),_p.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xp.prototype.getMaxPointDistance=function(){return this._maxPtDist},xp.prototype.interfaces_=function(){return[pc]},xp.prototype.getClass=function(){return xp};var Ep=function(t){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=t||null};Ep.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new bu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),_p.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ep.prototype.isDone=function(){return!1},Ep.prototype.isGeometryChanged=function(){return!1},Ep.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ep.prototype.interfaces_=function(){return[zc]},Ep.prototype.getClass=function(){return Ep};var wp=function(t){this._comps=t||null};wp.prototype.filter=function(t){t instanceof $c&&this._comps.add(t)},wp.prototype.interfaces_=function(){return[kc]},wp.prototype.getClass=function(){return wp},wp.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return wp.getPolygons(t,new bc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $c?n.add(e):e instanceof jc&&e.apply(new wp(n)),n}};var bp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};bp.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof eh){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Jc&&this._lines.add(t)},bp.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},bp.prototype.interfaces_=function(){return[uc]},bp.prototype.getClass=function(){return bp},bp.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(bp.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(bp.getLines(e,n))}},bp.getLines=function(){if(1===arguments.length){var t=arguments[0];return bp.getLines(t,!1)}if(2===arguments.length){if(Lu(arguments[0],vc)&&Lu(arguments[1],vc)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();bp.getLines(i,n)}return n}if(arguments[0]instanceof cc&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new bc;return o.apply(new bp(a,s)),a}if(arguments[0]instanceof cc&&Lu(arguments[1],vc)){var u=arguments[0],c=arguments[1];return u instanceof Jc?c.add(u):u.apply(new bp(c)),c}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&Lu(arguments[0],vc)&&Lu(arguments[1],vc)){for(var h=arguments[0],l=arguments[1],p=arguments[2],f=h.iterator();f.hasNext();){var g=f.next();bp.getLines(g,l,p)}return l}if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof cc&&Lu(arguments[1],vc)){var d=arguments[0],y=arguments[1],_=arguments[2];return d.apply(new bp(y,_)),y}}};var Ip=function(){if(this._boundaryRule=fc.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new _u(\"Rule must be non-null\");this._boundaryRule=t}};Ip.prototype.locateInternal=function(){if(arguments[0]instanceof bu&&arguments[1]instanceof $c){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Su.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Su.EXTERIOR)return Su.EXTERIOR;if(r===Su.BOUNDARY)return Su.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===Su.INTERIOR)return Su.EXTERIOR;if(s===Su.BOUNDARY)return Su.BOUNDARY}return Su.INTERIOR}if(arguments[0]instanceof bu&&arguments[1]instanceof Jc){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return Su.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?sc.isOnLine(a,c)?Su.INTERIOR:Su.EXTERIOR:Su.BOUNDARY}if(arguments[0]instanceof bu&&arguments[1]instanceof Kc){var h=arguments[0];return arguments[1].getCoordinate().equals2D(h)?Su.INTERIOR:Su.EXTERIOR}},Ip.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?sc.locatePointInRing(t,e.getCoordinates()):Su.EXTERIOR},Ip.prototype.intersects=function(t,e){return this.locate(t,e)!==Su.EXTERIOR},Ip.prototype.updateLocationInfo=function(t){t===Su.INTERIOR&&(this._isIn=!0),t===Su.BOUNDARY&&this._numBoundaries++},Ip.prototype.computeLocation=function(t,e){if(e instanceof Kc&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Jc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $c)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Xc)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof nh)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof jc)for(var u=new kl(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},Ip.prototype.locate=function(t,e){return e.isEmpty()?Su.EXTERIOR:e instanceof Jc?this.locateInternal(t,e):e instanceof $c?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Su.BOUNDARY:this._numBoundaries>0||this._isIn?Su.INTERIOR:Su.EXTERIOR)},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip};var Np=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Cp={INSIDE_AREA:{configurable:!0}};Np.prototype.isInsideArea=function(){return this._segIndex===Np.INSIDE_AREA},Np.prototype.getCoordinate=function(){return this._pt},Np.prototype.getGeometryComponent=function(){return this._component},Np.prototype.getSegmentIndex=function(){return this._segIndex},Np.prototype.interfaces_=function(){return[]},Np.prototype.getClass=function(){return Np},Cp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Np,Cp);var Sp=function(t){this._pts=t||null};Sp.prototype.filter=function(t){t instanceof Kc&&this._pts.add(t)},Sp.prototype.interfaces_=function(){return[kc]},Sp.prototype.getClass=function(){return Sp},Sp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Kc?$h.singletonList(t):Sp.getPoints(t,new bc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Kc?n.add(e):e instanceof jc&&e.apply(new Sp(n)),n}};var Mp=function(){this._locations=null;var t=arguments[0];this._locations=t};Mp.prototype.filter=function(t){(t instanceof Kc||t instanceof Jc||t instanceof $c)&&this._locations.add(new Np(t,0,t.getCoordinate()))},Mp.prototype.interfaces_=function(){return[kc]},Mp.prototype.getClass=function(){return Mp},Mp.getLocations=function(t){var e=new bc;return t.apply(new Mp(e)),e};var Lp=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Ip,this._minDistanceLocation=null,this._minDistance=mu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Lp.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=wp.getPolygons(this._geom[e]);if(i.size()>0){var o=Mp.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Lu(arguments[0],wc)&&Lu(arguments[1],wc)){for(var s=arguments[0],a=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var h=s.get(c),l=0;l<a.size();l++)if(this.computeContainmentDistance(h,a.get(l),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Np&&arguments[1]instanceof $c){var p=arguments[0],f=arguments[1],g=arguments[2],d=p.getCoordinate();if(Su.EXTERIOR!==this._ptLocator.locate(d,f))return this._minDistance=0,g[0]=p,g[1]=new Np(f,d),null}},Lp.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Lp.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=bp.getLines(this._geom[0]),n=bp.getLines(this._geom[1]),r=Sp.getPoints(this._geom[0]),i=Sp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Lp.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Lp.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Lp.prototype.nearestPoints=function(){this.computeMinDistance();return[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Lp.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Jc&&arguments[1]instanceof Kc){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=sc.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new gl(r[o],r[o+1]).closestPoint(i);n[0]=new Np(t,o,a),n[1]=new Np(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Jc&&arguments[1]instanceof Jc){var u=arguments[0],c=arguments[1],h=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var l=u.getCoordinates(),p=c.getCoordinates(),f=0;f<l.length-1;f++)for(var g=0;g<p.length-1;g++){var d=sc.distanceLineLine(l[f],l[f+1],p[g],p[g+1]);if(d<this._minDistance){this._minDistance=d;var y=new gl(l[f],l[f+1]),_=new gl(p[g],p[g+1]),m=y.closestPoints(_);h[0]=new Np(u,f,m[0]),h[1]=new Np(c,g,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Lp.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Np(i,0,i.getCoordinate()),n[1]=new Np(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Lp.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new _u(\"null geometries are not supported\");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Lp.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Lp.distance=function(t,e){return new Lp(t,e).distance()},Lp.isWithinDistance=function(t,e,n){return new Lp(t,e,n).distance()<=n},Lp.nearestPoints=function(t,e){return new Lp(t,e).nearestPoints()};var Pp=function(){this._pt=[new bu,new bu],this._distance=mu.NaN,this._isNull=!0};Pp.prototype.getCoordinates=function(){return this._pt},Pp.prototype.getCoordinate=function(t){return this._pt[t]},Pp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Pp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Pp.prototype.toString=function(){return Ku.toLineString(this._pt[0],this._pt[1])},Pp.prototype.getDistance=function(){return this._distance},Pp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Pp.prototype.interfaces_=function(){return[]},Pp.prototype.getClass=function(){return Pp};var Op=function(){};Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Op.computeDistance=function(){if(arguments[2]instanceof Pp&&arguments[0]instanceof Jc&&arguments[1]instanceof bu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new gl,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Pp&&arguments[0]instanceof $c&&arguments[1]instanceof bu){var a=arguments[0],u=arguments[1],c=arguments[2];Op.computeDistance(a.getExteriorRing(),u,c);for(var h=0;h<a.getNumInteriorRing();h++)Op.computeDistance(a.getInteriorRingN(h),u,c)}else if(arguments[2]instanceof Pp&&arguments[0]instanceof cc&&arguments[1]instanceof bu){var l=arguments[0],p=arguments[1],f=arguments[2];if(l instanceof Jc)Op.computeDistance(l,p,f);else if(l instanceof $c)Op.computeDistance(l,p,f);else if(l instanceof jc)for(var g=l,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);Op.computeDistance(y,p,f)}else f.setMinimum(l.getCoordinate(),p)}else if(arguments[2]instanceof Pp&&arguments[0]instanceof gl&&arguments[1]instanceof bu){var _=arguments[0],m=arguments[1],v=arguments[2],x=_.closestPoint(m);v.setMinimum(x,m)}};var Rp=function(){this._g0=null,this._g1=null,this._ptDist=new Pp,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Tp={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Rp.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Rp.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new _u(\"Fraction is not in range (0.0 - 1.0]\");this._densifyFrac=t},Rp.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Rp.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Rp.prototype.computeOrientedDistance=function(t,e,n){var r=new Ap(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Dp(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Rp.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Rp.prototype.interfaces_=function(){return[]},Rp.prototype.getClass=function(){return Rp},Rp.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Rp(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Rp(n,r);return o.setDensifyFraction(i),o.distance()}},Tp.MaxPointDistanceFilter.get=function(){return Ap},Tp.MaxDensifiedByFractionDistanceFilter.get=function(){return Dp},Object.defineProperties(Rp,Tp);var Ap=function(){this._maxPtDist=new Pp,this._minPtDist=new Pp,this._euclideanDist=new Op,this._geom=null;var t=arguments[0];this._geom=t};Ap.prototype.filter=function(t){this._minPtDist.initialize(),Op.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ap.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ap.prototype.interfaces_=function(){return[pc]},Ap.prototype.getClass=function(){return Ap};var Dp=function(){this._maxPtDist=new Pp,this._minPtDist=new Pp,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Dp.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,u=n.y+s*o,c=new bu(a,u);this._minPtDist.initialize(),Op.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Dp.prototype.isDone=function(){return!1},Dp.prototype.isGeometryChanged=function(){return!1},Dp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dp.prototype.interfaces_=function(){return[zc]},Dp.prototype.getClass=function(){return Dp};var Fp=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},qp={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Fp.prototype.checkMaximumDistance=function(t,e,n){var r=new Rp(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg=\"Distance between buffer curve and input is too large (\"+this._maxDistanceFound+\" at \"+Ku.toLineString(i[0],i[1])+\")\"}},Fp.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Fp.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Fp.VERBOSE&&Xu.out.println(\"Min Dist= \"+this._minDistanceFound+\"  err= \"+(1-this._minDistanceFound/this._bufDistance)+\"  Max Dist= \"+this._maxDistanceFound+\"  err= \"+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Fp.prototype.checkNegativeValid=function(){if(!(this._input instanceof $c||this._input instanceof nh||this._input instanceof jc))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Fp.prototype.getErrorIndicator=function(){return this._errorIndicator},Fp.prototype.checkMinimumDistance=function(t,e,n){var r=new Lp(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg=\"Distance between buffer curve and input is too small (\"+this._minDistanceFound+\" at \"+Ku.toLineString(i[0],i[1])+\" )\"}},Fp.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Fp.prototype.getErrorLocation=function(){return this._errorLocation},Fp.prototype.getPolygonLines=function(t){for(var e=new bc,n=new bp(e),r=wp.getPolygons(t).iterator();r.hasNext();){r.next().apply(n)}return t.getFactory().buildGeometry(e)},Fp.prototype.getErrorMessage=function(){return this._errMsg},Fp.prototype.interfaces_=function(){return[]},Fp.prototype.getClass=function(){return Fp},qp.VERBOSE.get=function(){return!1},qp.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fp,qp);var Gp=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Bp={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Gp.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Gp.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Gp.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Yu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Yu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg=\"Buffer envelope is incorrect\",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report(\"Envelope\")},Gp.prototype.checkDistance=function(){var t=new Fp(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report(\"Distance\")},Gp.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg=\"Area of positive buffer is smaller than input\",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg=\"Area of negative buffer is larger than input\",this._errorIndicator=this._result),this.report(\"Area\")},Gp.prototype.checkPolygonal=function(){this._result instanceof $c||this._result instanceof nh||(this._isValid=!1),this._errorMsg=\"Result is not polygonal\",this._errorIndicator=this._result,this.report(\"Polygonal\")},Gp.prototype.getErrorIndicator=function(){return this._errorIndicator},Gp.prototype.getErrorLocation=function(){return this._errorLocation},Gp.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg=\"Result is non-empty\",this._errorIndicator=this._result),void this.report(\"ExpectedEmpty\"))},Gp.prototype.report=function(t){if(!Gp.VERBOSE)return null;Xu.out.println(\"Check \"+t+\": \"+(this._isValid?\"passed\":\"FAILED\"))},Gp.prototype.getErrorMessage=function(){return this._errorMsg},Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp},Gp.isValidMsg=function(t,e,n){var r=new Gp(t,e,n);return r.isValid()?null:r.getErrorMessage()},Gp.isValid=function(t,e,n){return!!new Gp(t,e,n).isValid()},Bp.VERBOSE.get=function(){return!1},Bp.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Gp,Bp);var kp=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};kp.prototype.getCoordinates=function(){return this._pts},kp.prototype.size=function(){return this._pts.length},kp.prototype.getCoordinate=function(t){return this._pts[t]},kp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},kp.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:hl.octant(this.getCoordinate(t),this.getCoordinate(t+1))},kp.prototype.setData=function(t){this._data=t},kp.prototype.getData=function(){return this._data},kp.prototype.toString=function(){return Ku.toLineString(new uh(this._pts))},kp.prototype.interfaces_=function(){return[ll]},kp.prototype.getClass=function(){return kp};var zp=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new bc,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zp.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zp.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zp.prototype.getIntersectionSegments=function(){return this._intSegments},zp.prototype.count=function(){return this._intersectionCount},zp.prototype.getIntersections=function(){return this._intersections},zp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zp.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zp.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,r)))return null}var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zp.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zp.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zp.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zp.prototype.interfaces_=function(){return[Hl]},zp.prototype.getClass=function(){return zp},zp.createAllIntersectionsFinder=function(t){var e=new zp(t);return e.setFindAllIntersections(!0),e},zp.createAnyIntersectionFinder=function(t){return new zp(t)},zp.createIntersectionCounter=function(t){var e=new zp(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var jp=function(){this._li=new rc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};jp.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},jp.prototype.getIntersections=function(){return this._segInt.getIntersections()},jp.prototype.isValid=function(){return this.execute(),this._isValid},jp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},jp.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zp(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new El;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},jp.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Mh(this.getErrorMessage(),this._segInt.getInteriorIntersection())},jp.prototype.getErrorMessage=function(){if(this._isValid)return\"no intersections found\";var t=this._segInt.getIntersectionSegments();return\"found non-noded intersection between \"+Ku.toLineString(t[0],t[1])+\" and \"+Ku.toLineString(t[2],t[3])},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},jp.computeIntersections=function(t){var e=new jp(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Xp=function t(){this._nv=null;var e=arguments[0];this._nv=new jp(t.toSegmentStrings(e))};Xp.prototype.checkValid=function(){this._nv.checkValid()},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp},Xp.toSegmentStrings=function(t){for(var e=new bc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new kp(r.getCoordinates(),r))}return e},Xp.checkValid=function(t){new Xp(t).checkValid()};var Up=function(t){this._mapOp=t};Up.prototype.map=function(t){for(var e=new bc,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(_h.toGeometryArray(e))},Up.prototype.interfaces_=function(){return[]},Up.prototype.getClass=function(){return Up},Up.map=function(t,e){return new Up(e).map(t)};var Yp=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new bc,this._resultLineList=new bc;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Yp.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Yp.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Yp.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Yp.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Cf.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Yp.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Yp.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Yp.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Yp.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(tc.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Cf.isResultOfOp(r,e)&&e===Cf.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp};var Vp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new bc;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Vp.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Vp.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&(!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Cf.INTERSECTION))){var r=n.getLabel();Cf.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Vp.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp};var Hp=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Hp.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Hp.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof eh&&!r.isEmpty()||(n=!1);for(var i=new bc,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof eh||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new bc;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Hp.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Hp.prototype.getInputGeometry=function(){return this._inputGeom},Hp.prototype.transformMultiLineString=function(t,e){for(var n=new bc,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Hp.prototype.transformCoordinates=function(t,e){return this.copy(t)},Hp.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Hp.prototype.transformMultiPoint=function(t,e){for(var n=new bc,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Hp.prototype.transformMultiPolygon=function(t,e){for(var n=new bc,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Hp.prototype.copy=function(t){return t.copy()},Hp.prototype.transformGeometryCollection=function(t,e){for(var n=new bc,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_h.toGeometryArray(n)):this._factory.buildGeometry(n)},Hp.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Kc)return this.transformPoint(t,null);if(t instanceof th)return this.transformMultiPoint(t,null);if(t instanceof eh)return this.transformLinearRing(t,null);if(t instanceof Jc)return this.transformLineString(t,null);if(t instanceof Xc)return this.transformMultiLineString(t,null);if(t instanceof $c)return this.transformPolygon(t,null);if(t instanceof nh)return this.transformMultiPolygon(t,null);if(t instanceof jc)return this.transformGeometryCollection(t,null);throw new _u(\"Unknown Geometry subtype: \"+t.getClass().getName())},Hp.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp};var Wp=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gl,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Jc&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&\"number\"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Wp.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new bu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new bu(o)))}},Wp.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Wp.prototype.snapTo=function(t){var e=new Nc(this._srcPts);this.snapVertices(e,t),this.snapSegments(e,t);return e.toCoordinateArray()},Wp.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new bu(i),!1)}},Wp.prototype.findSegmentIndexToSnap=function(t,e){for(var n=mu.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Wp.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp},Wp.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Jp=function(t){this._srcGeom=t||null},Zp={SNAP_PRECISION_FACTOR:{configurable:!0}};Jp.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Kp(e,n).transform(this._srcGeom)},Jp.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Kp(t,n,!0).transform(this._srcGeom),i=r;return e&&Lu(i,Qc)&&(i=r.buffer(0)),i},Jp.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Jp.prototype.extractTargetCoordinates=function(t){for(var e=new ki,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Jp.prototype.computeMinimumSegmentLength=function(t){for(var e=mu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp},Jp.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Jp(t);r[0]=i.snapTo(e,n);var o=new Jp(e);return r[1]=o.snapTo(r[0],n),r},Jp.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Jp.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===fh.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Jp.computeOverlaySnapTolerance(i),Jp.computeOverlaySnapTolerance(o))}},Jp.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Jp.SNAP_PRECISION_FACTOR},Jp.snapToSelf=function(t,e,n){return new Jp(t).snapToSelf(e,n)},Zp.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Jp,Zp);var Kp=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Wp(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hp),Qp=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qp.prototype.getCommon=function(){return mu.longBitsToDouble(this._commonBits)},Qp.prototype.add=function(t){var e=mu.doubleToLongBits(t);if(this._isFirst)return this._commonBits=e,this._commonSignExp=Qp.signExpBits(this._commonBits),this._isFirst=!1,null;if(Qp.signExpBits(e)!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Qp.numCommonMostSigMantissaBits(this._commonBits,e),this._commonBits=Qp.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},Qp.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=mu.longBitsToDouble(t),n=\"0000000000000000000000000000000000000000000000000000000000000000\"+mu.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+\"  \"+r.substring(1,12)+\"(exp) \"+r.substring(12)+\" [ \"+e+\" ]\"}},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Qp.signExpBits=function(t){return t>>52},Qp.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Qp.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Qp.getBit(t,r)!==Qp.getBit(e,r))return n;n++}return 52};var $p=function(){this._commonCoord=null,this._ccFilter=new ef},tf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$p.prototype.addCommonBits=function(t){var e=new nf(this._commonCoord);t.apply(e),t.geometryChanged()},$p.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new bu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new nf(e);return t.apply(n),t.geometryChanged(),t},$p.prototype.getCommonCoordinate=function(){return this._commonCoord},$p.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p},tf.CommonCoordinateFilter.get=function(){return ef},tf.Translater.get=function(){return nf},Object.defineProperties($p,tf);var ef=function(){this._commonBitsX=new Qp,this._commonBitsY=new Qp};ef.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ef.prototype.getCommonCoordinate=function(){return new bu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ef.prototype.interfaces_=function(){return[pc]},ef.prototype.getClass=function(){return ef};var nf=function(){this.trans=null;var t=arguments[0];this.trans=t};nf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},nf.prototype.isDone=function(){return!1},nf.prototype.isGeometryChanged=function(){return!0},nf.prototype.interfaces_=function(){return[zc]},nf.prototype.getClass=function(){return nf};var rf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rf.prototype.selfSnap=function(t){return new Jp(t).snapTo(t,this._snapTolerance)},rf.prototype.removeCommonBits=function(t){this._cbr=new $p,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Cf.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rf.prototype.checkValid=function(t){t.isValid()||Xu.out.println(\"Snapped geometry is invalid\")},rf.prototype.computeSnapTolerance=function(){this._snapTolerance=Jp.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Jp.snap(e[0],e[1],this._snapTolerance)},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.overlayOp=function(t,e,n){return new rf(t,e).getResultGeometry(n)},rf.union=function(t,e){return rf.overlayOp(t,e,Cf.UNION)},rf.intersection=function(t,e){return rf.overlayOp(t,e,Cf.INTERSECTION)},rf.symDifference=function(t,e){return rf.overlayOp(t,e,Cf.SYMDIFFERENCE)},rf.difference=function(t,e){return rf.overlayOp(t,e,Cf.DIFFERENCE)};var of=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};of.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Cf.overlayOp(this._geom[0],this._geom[1],t);n=!0}catch(t){if(!(t instanceof Qu))throw t;r=t}if(!n)try{e=rf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Qu?r:t}return e},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},of.overlayOp=function(t,e,n){return new of(t,e).getResultGeometry(n)},of.union=function(t,e){return of.overlayOp(t,e,Cf.UNION)},of.intersection=function(t,e){return of.overlayOp(t,e,Cf.INTERSECTION)},of.symDifference=function(t,e){return of.overlayOp(t,e,Cf.SYMDIFFERENCE)},of.difference=function(t,e){return of.overlayOp(t,e,Cf.DIFFERENCE)};var sf=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf};var af=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},uf={INSERT:{configurable:!0},DELETE:{configurable:!0}};af.prototype.isDelete=function(){return this._eventType===af.DELETE},af.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},af.prototype.getObject=function(){return this._obj},af.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},af.prototype.getInsertEvent=function(){return this._insertEvent},af.prototype.isInsert=function(){return this._eventType===af.INSERT},af.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},af.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},af.prototype.interfaces_=function(){return[xu]},af.prototype.getClass=function(){return af},uf.INSERT.get=function(){return 1},uf.DELETE.get=function(){return 2},Object.defineProperties(af,uf);var cf=function(){};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var hf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};hf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(hf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},hf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},hf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},hf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},hf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},hf.prototype.hasProperIntersection=function(){return this._hasProper},hf.prototype.hasIntersection=function(){return this._hasIntersection},hf.prototype.isDone=function(){return this._isDone},hf.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},hf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},hf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var lf=function(t){function e(){t.call(this),this.events=new bc,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$h.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof hf&&Lu(arguments[0],wc)&&Lu(arguments[1],wc)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if(\"boolean\"==typeof arguments[2]&&Lu(arguments[0],wc)&&arguments[1]instanceof hf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new sf(n,i),s=new af(e,n.getMinX(i),o);this.events.add(s),this.events.add(new af(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cf),pf=function(){this._min=mu.POSITIVE_INFINITY,this._max=mu.NEGATIVE_INFINITY},ff={NodeComparator:{configurable:!0}};pf.prototype.getMin=function(){return this._min},pf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},pf.prototype.getMax=function(){return this._max},pf.prototype.toString=function(){return Ku.toLineString(new bu(this._min,0),new bu(this._max,0))},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},ff.NodeComparator.get=function(){return gf},Object.defineProperties(pf,ff);var gf=function(){};gf.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},gf.prototype.interfaces_=function(){return[wu]},gf.prototype.getClass=function(){return gf};var df=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pf),yf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pf),_f=function(){this._leaves=new bc,this._root=null,this._level=0};_f.prototype.buildTree=function(){$h.sort(this._leaves,new pf.NodeComparator);for(var t=this._leaves,e=null,n=new bc;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},_f.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error(\"Index cannot be added to once it has been queried\");this._leaves.add(new df(t,e,n))},_f.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},_f.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},_f.prototype.printNode=function(t){Xu.out.println(Ku.toLineString(new bu(t._min,this._level),new bu(t._max,this._level)))},_f.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},_f.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new yf(t.get(n),t.get(n+1));e.add(i)}}},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f};var mf=function(){this._items=new bc};mf.prototype.visitItem=function(t){this._items.add(t)},mf.prototype.getItems=function(){return this._items},mf.prototype.interfaces_=function(){return[Jh]},mf.prototype.getClass=function(){return mf};var vf=function(){this._index=null;var t=arguments[0];if(!Lu(t,Qc))throw new _u(\"Argument must be Polygonal\");this._index=new wf(t)},xf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vf.prototype.locate=function(t){var e=new oc(t),n=new Ef(e);return this._index.query(t.y,t.y,n),e.getLocation()},vf.prototype.interfaces_=function(){return[Bl]},vf.prototype.getClass=function(){return vf},xf.SegmentVisitor.get=function(){return Ef},xf.IntervalIndexedGeometry.get=function(){return wf},Object.defineProperties(vf,xf);var Ef=function(){this._counter=null;var t=arguments[0];this._counter=t};Ef.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Ef.prototype.interfaces_=function(){return[Jh]},Ef.prototype.getClass=function(){return Ef};var wf=function(){this._index=new _f;var t=arguments[0];this.init(t)};wf.prototype.init=function(t){for(var e=bp.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},wf.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new gl(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},wf.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf};var bf=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new ph,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Ip,2===arguments.length){var e=arguments[0],n=arguments[1],r=fc.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;Su.NONE;r.getLocation(t,Nh.ON)===Su.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new hf(n,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof eh||this._parentGeom instanceof $c||this._parentGeom instanceof nh,u=r||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new hf(e,n,!0);r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());return this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Kc){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Su.INTERIOR)}else if(arguments[0]instanceof bu){var e=arguments[0];this.insertPoint(this._argIndex,e,Su.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Su.EXTERIOR,Su.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Su.INTERIOR,Su.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Su.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Su.BOUNDARY)},e.prototype.addLineString=function(t){var e=Cc.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ep(e,new Rh(this._argIndex,Su.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),tc.isTrue(e.length>=2,\"found LineString with single point\"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Su.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Cc.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;sc.isCCW(r)&&(i=n,o=e);var s=new ep(r,new Rh(this._argIndex,Su.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],Su.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Rh(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new lf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof nh&&(this._useBoundaryDeterminationRule=!1),e instanceof $c)this.addPolygon(e);else if(e instanceof Jc)this.addLineString(e);else if(e instanceof Kc)this.addPoint(e);else if(e instanceof th)this.addCollection(e);else if(e instanceof Xc)this.addCollection(e);else if(e instanceof nh)this.addCollection(e);else{if(!(e instanceof jc))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Lu(this._parentGeom,Qc)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Su.BOUNDARY:Su.INTERIOR},e}(Uh),If=function(){if(this._li=new rc,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new bf(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=fc.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bf(0,e,r),this._arg[1]=new bf(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bf(0,i,s),this._arg[1]=new bf(1,o,s)}};If.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},If.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Nf=function(){};Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Nf.map=function(){if(arguments[0]instanceof cc&&Lu(arguments[1],Nf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new bc,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Lu(arguments[0],vc)&&Lu(arguments[1],Nf.MapOp)){for(var o=arguments[0],s=arguments[1],a=new bc,u=o.iterator();u.hasNext();){var c=u.next(),h=s.map(c);null!==h&&a.add(h)}return a}},Nf.MapOp=function(){};var Cf=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Ip,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Vl,this._resultPolyList=new bc,this._resultLineList=new bc,this._resultPointList=new bc,this._graph=new Uh(new Ul),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Rh(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new bc;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Su.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new bc,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new bc;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Xp.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Yh(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Yp(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Vp(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Nh.RIGHT),i.getLocation(1,Nh.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(tc.isTrue(!r.isNull(i,Nh.LEFT),\"depth of LEFT side has not been initialized\"),n.setLocation(i,Nh.LEFT,r.getLocation(i,Nh.LEFT)),tc.isTrue(!r.isNull(i,Nh.RIGHT),\"depth of RIGHT side has not been initialized\"),n.setLocation(i,Nh.RIGHT,r.getLocation(i,Nh.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(If);Cf.overlayOp=function(t,e,n){return new Cf(t,e).getResultGeometry(n)},Cf.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Cf.createEmptyResult(Cf.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Up.map(t,{interfaces_:function(){return[Nf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Cf.INTERSECTION)},Cf.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Cf.createEmptyResult(Cf.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Cf.SYMDIFFERENCE)},Cf.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Cf.INTERSECTION:o=Math.min(r,i);break;case Cf.UNION:o=Math.max(r,i);break;case Cf.DIFFERENCE:o=r;break;case Cf.SYMDIFFERENCE:o=Math.max(r,i)}return o},Cf.createEmptyResult=function(t,e,n,r){var i=null;switch(Cf.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Cf.difference=function(t,e){return t.isEmpty()?Cf.createEmptyResult(Cf.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Cf.DIFFERENCE))},Cf.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Cf.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===Su.BOUNDARY&&(i=Su.INTERIOR),o===Su.BOUNDARY&&(o=Su.INTERIOR),s){case Cf.INTERSECTION:return i===Su.INTERIOR&&o===Su.INTERIOR;case Cf.UNION:return i===Su.INTERIOR||o===Su.INTERIOR;case Cf.DIFFERENCE:return i===Su.INTERIOR&&o!==Su.INTERIOR;case Cf.SYMDIFFERENCE:return i===Su.INTERIOR&&o!==Su.INTERIOR||i!==Su.INTERIOR&&o===Su.INTERIOR}return!1}},Cf.INTERSECTION=1,Cf.UNION=2,Cf.DIFFERENCE=3,Cf.SYMDIFFERENCE=4;var Sf=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Ip,this._seg=new gl;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Sf.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++){n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1);if(this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0}return!1},Sf.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Su.BOUNDARY:this._ptLocator.locate(t,this._g)},Sf.prototype.extractLinework=function(t){var e=new Mf;t.apply(e);var n=e.getLinework(),r=_h.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var Mf=function(){this._linework=null,this._linework=new bc};Mf.prototype.getLinework=function(){return this._linework},Mf.prototype.filter=function(t){if(t instanceof $c){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Mf.prototype.interfaces_=function(){return[kc]},Mf.prototype.getClass=function(){return Mf};var Lf=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Lf.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Lf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Lf.prototype.getPoints=function(t){for(var e=new bc,n=bp.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Lf.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,c=(e.x+t.x)/2,h=(e.y+t.y)/2;if(this._doLeft){var l=new bu(c-u,h+a);r.add(l)}if(this._doRight){var p=new bu(c+u,h-a);r.add(p)}},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf};var Pf=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new bc;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Sf(this._geom[0],this._boundaryDistanceTolerance),new Sf(this._geom[1],this._boundaryDistanceTolerance),new Sf(this._geom[2],this._boundaryDistanceTolerance)]},Of={TOLERANCE:{configurable:!0}};Pf.prototype.reportResult=function(t,e,n){Xu.out.println(\"Overlay result invalid - A:\"+Su.toLocationSymbol(e[0])+\" B:\"+Su.toLocationSymbol(e[1])+\" expected:\"+(n?\"i\":\"e\")+\" actual:\"+Su.toLocationSymbol(e[2]))},Pf.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Pf.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Pf.hasLocation(this._location,Su.BOUNDARY)||this.isValidResult(r,this._location)}},Pf.prototype.addTestPts=function(t){var e=new Lf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Pf.prototype.isValidResult=function(t,e){var n=Cf.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Su.INTERIOR);return r||this.reportResult(t,e,n),r},Pf.prototype.getInvalidLocation=function(){return this._invalidLocation},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Pf.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Jp.computeSizeBasedSnapTolerance(t),Jp.computeSizeBasedSnapTolerance(e))},Pf.isValid=function(t,e,n,r){return new Pf(t,e,r).isValid(n)},Of.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Pf,Of);var Rf=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Rf.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Rf.prototype.combine=function(){for(var t=new bc,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Rf.combine=function(){if(1===arguments.length){var t=arguments[0];return new Rf(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Rf(Rf.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new Rf(Rf.createList(r,i,o)).combine()}},Rf.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Rf.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new bc;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new bc;return s.add(r),s.add(i),s.add(o),s}};var Tf=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new bc)},Af={STRTREE_NODE_CAPACITY:{configurable:!0}};Tf.prototype.reduceToGeometries=function(t){for(var e=new bc,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Lu(r,wc)?i=this.unionTree(r):r instanceof cc&&(i=r),e.add(i)}return e},Tf.prototype.extractByEnvelope=function(t,e,n){for(var r=new bc,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Tf.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r)){return Rf.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Tf.prototype.union=function(){if(null===this._inputPolys)throw new Error(\"union() method cannot be called twice\");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new ol(Tf.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Tf.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Tf.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Tf.getGeometry(e,n),Tf.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Tf.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Tf.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Tf.prototype.unionActual=function(t,e){return Tf.restrictToPolygons(t.union(e))},Tf.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Tf.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new bc,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);r.add(s);return Rf.combine(r)},Tf.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Tf.restrictToPolygons=function(t){if(Lu(t,Qc))return t;var e=wp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(_h.toPolygonArray(e))},Tf.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Tf.union=function(t){return new Tf(t).union()},Af.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Tf,Af);var Df=function(){};Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Df.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Cf.createEmptyResult(Cf.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Cf.UNION)};var Ff=function(){return new Yi};Yi.prototype={constructor:Yi,reset:function(){this.s=this.t=0},add:function(t){Vi(qf,t,this.t),Vi(this,qf.s,this.s),this.s?this.t+=qf.t:this.s=qf.t},valueOf:function(){return this.s}};var qf=new Yi,Gf=1e-6,Bf=Math.PI,kf=Bf/2,zf=Bf/4,jf=2*Bf,Xf=180/Bf,Uf=Bf/180,Yf=Math.abs,Vf=Math.atan,Hf=Math.atan2,Wf=Math.cos,Jf=Math.exp,Zf=Math.log,Kf=Math.sin,Qf=Math.sqrt,$f=Math.tan,tg={Feature:function(t,e){Ji(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ji(n[r].geometry,e)}},eg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Zi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Zi(n[r],e,0)},Polygon:function(t,e){Ki(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ki(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ji(n[r],e)}},ng=function(t,e){t&&tg.hasOwnProperty(t.type)?tg[t.type](t,e):Ji(t,e)},rg=(Ff(),Ff(),Ff(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});oo.invert=oo;var ig=function(t){function e(e){return e=t(e[0]*Uf,e[1]*Uf),e[0]*=Xf,e[1]*=Xf,e}return t=so(t[0]*Uf,t[1]*Uf,t.length>2?t[2]*Uf:0),e.invert=function(e){return e=t.invert(e[0]*Uf,e[1]*Uf),e[0]*=Xf,e[1]*=Xf,e},e},og=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Wi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},sg=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],c=0,h=1,l=e[0]-a,p=e[1]-u;if(s=n-a,l||!(s>0)){if(s/=l,l<0){if(s<c)return;s<h&&(h=s)}else if(l>0){if(s>h)return;s>c&&(c=s)}if(s=i-a,l||!(s<0)){if(s/=l,l<0){if(s>h)return;s>c&&(c=s)}else if(l>0){if(s<c)return;s<h&&(h=s)}if(s=r-u,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>c&&(c=s)}if(s=o-u,p||!(s<0)){if(s/=p,p<0){if(s>h)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<h&&(h=s)}return c>0&&(t[0]=a+c*l,t[1]=u+c*p),h<1&&(e[0]=a+h*l,e[1]=u+h*p),!0}}}}},ag=function(t,e){return Yf(t[0]-e[0])<Gf&&Yf(t[1]-e[1])<Gf},ug=function(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(ag(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new lo(r,t,null,!0)),u.push(n.o=new lo(r,null,n,!1)),a.push(n=new lo(s,t,null,!1)),u.push(n.o=new lo(s,null,n,!0))}}),a.length){for(u.sort(e),po(a),po(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var c,h,l=a[0];;){for(var p=l,f=!0;p.v;)if((p=p.n)===l)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(o=0,s=c.length;o<s;++o)i.point((h=c[o])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(f)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((h=c[o])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);i.lineEnd()}}},cg=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},hg=(function(t){1===t.length&&(t=function(t){return function(e,n){return cg(t(e),n)}}(t))}(cg),function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}),lg=1e9,pg=-lg,fg=Ff(),gg=(Ff(),function(t){return t}),dg=(Ff(),Ff(),1/0),yg=dg,_g=-dg,mg=_g,vg={point:function(t,e){t<dg&&(dg=t),t>_g&&(_g=t),e<yg&&(yg=e),e>mg&&(mg=e)},lineStart:Wi,lineEnd:Wi,polygonStart:Wi,polygonEnd:Wi,result:function(){var t=[[dg,yg],[_g,mg]];return _g=mg=-(yg=dg=1/0),t}},xg=(Ff(),function(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);y.point(n[0],n[1])}function u(){E.point=a,y.lineStart()}function c(){E.point=s,y.lineEnd()}function h(t,e){d.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function l(){v.lineStart(),d=[]}function p(){h(d[0][0],d[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),s=m.result(),a=s.length;if(d.pop(),f.push(d),d=null,a)if(1&i){if(n=s[0],(e=n.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&s.push(s.pop().concat(s.shift())),g.push(s.filter(go))}var f,g,d,y=e(o),_=i.invert(r[0],r[1]),m=og(),v=e(m),x=!1,E={point:s,lineStart:u,lineEnd:c,polygonStart:function(){E.point=h,E.lineStart=l,E.lineEnd=p,g=[],f=[]},polygonEnd:function(){E.point=s,E.lineStart=u,E.lineEnd=c,g=hg(g);var t=function(t,e){var n=e[0],r=e[1],i=[Kf(n),-Wf(n),0],o=0,s=0;fg.reset();for(var a=0,u=t.length;a<u;++a)if(h=(c=t[a]).length)for(var c,h,l=c[h-1],p=l[0],f=l[1]/2+zf,g=Kf(f),d=Wf(f),y=0;y<h;++y,p=m,g=x,d=E,l=_){var _=c[y],m=_[0],v=_[1]/2+zf,x=Kf(v),E=Wf(v),w=m-p,b=w>=0?1:-1,I=b*w,N=I>Bf,C=g*x;if(fg.add(Hf(C*b*Kf(I),d*E+C*Wf(I))),o+=N?w+b*jf:w,N^p>=n^m>=n){var S=eo($i(l),$i(_));io(S);var M=eo(i,S);io(M);var L=(N^w>=0?-1:1)*Hi(M[2]);(r>L||r===L&&(S[0]||S[1]))&&(s+=N^w>=0?1:-1)}}return(o<-Gf||o<Gf&&fg<-Gf)^1&s}(f,_);g.length?(x||(o.polygonStart(),x=!0),ug(g,yo,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),g=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return E}}),Eg=xg(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Bf:-Bf,u=Yf(o-n);Yf(u-Bf)<Gf?(t.point(n,r=(r+s)/2>0?kf:-kf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Bf&&(Yf(n-i)<Gf&&(n-=i*Gf),Yf(o-a)<Gf&&(o-=a*Gf),r=function(t,e,n,r){var i,o,s=Kf(t-n);return Yf(s)>Gf?Vf((Kf(e)*(o=Wf(r))*Kf(n)-Kf(r)*(i=Wf(e))*Kf(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*kf,r.point(-Bf,i),r.point(0,i),r.point(Bf,i),r.point(Bf,0),r.point(Bf,-i),r.point(0,-i),r.point(-Bf,-i),r.point(-Bf,0),r.point(-Bf,i);else if(Yf(t[0]-e[0])>Gf){var o=t[0]<e[0]?Bf:-Bf;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Bf,-kf]),wg=function(t,e){function n(t,e){return Wf(t)*Wf(e)>o}function r(t,e,n){var r=[1,0,0],i=eo($i(t),$i(e)),s=to(i,i),a=i[0],u=s-a*a;if(!u)return!n&&t;var c=o*s/u,h=-o*a/u,l=eo(r,i),p=ro(r,c);no(p,ro(i,h));var f=l,g=to(p,f),d=to(f,f),y=g*g-d*(to(p,p)-1);if(!(y<0)){var _=Qf(y),m=ro(f,(-g-_)/d);if(no(m,p),m=Qi(m),!n)return m;var v,x=t[0],E=e[0],w=t[1],b=e[1];E<x&&(v=x,x=E,E=v);var I=E-x,N=Yf(I-Bf)<Gf;if(!N&&b<w&&(v=w,w=b,b=v),N||I<Gf?N?w+b>0^m[1]<(Yf(m[0]-x)<Gf?w:b):w<=m[1]&&m[1]<=b:I>Bf^(x<=m[0]&&m[0]<=E)){var C=ro(f,(-g+_)/d);return no(C,p),[m,Qi(C)]}}}function i(e,n){var r=s?t:Bf-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Wf(t),s=o>0,a=Yf(o)>Gf;return xg(n,function(t){var e,o,u,c,h;return{lineStart:function(){c=u=!1,h=1},point:function(l,p){var f,g=[l,p],d=n(l,p),y=s?d?0:i(l,p):d?i(l+(l<0?Bf:-Bf),p):0;if(!e&&(c=u=d)&&t.lineStart(),d!==u&&(!(f=r(e,g))||ag(e,f)||ag(g,f))&&(g[0]+=Gf,g[1]+=Gf,d=n(g[0],g[1])),d!==u)h=0,d?(t.lineStart(),f=r(g,e),t.point(f[0],f[1])):(f=r(e,g),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(a&&e&&s^d){var _;y&o||!(_=r(g,e,!0))||(h=0,s?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!d||e&&ag(e,g)||t.point(g[0],g[1]),e=g,u=d,o=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return h|(c&&u)<<1}}},function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=Wf(e),a=Kf(e),u=r*n;null==i?(i=e+r*jf,o=e-u/2):(i=ho(s,i),o=ho(s,o),(r>0?i<o:i>o)&&(i+=r*jf));for(var c,h=i;r>0?h>o:h<o;h-=u)c=Qi([s,-a*Wf(h),-a*Kf(h)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)},s?[0,-t]:[-Bf,t-Bf])};mo.prototype={constructor:mo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bg=16,Ig=Wf(30*Uf),Ng=function(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,c,h,l,p,f,g,d,y){var _=c-r,m=h-i,v=_*_+m*m;if(v>4*e&&d--){var x=s+p,E=a+f,w=u+g,b=Qf(x*x+E*E+w*w),I=Hi(w/=b),N=Yf(Yf(w)-1)<Gf||Yf(o-l)<Gf?(o+l)/2:Hf(E,x),C=t(N,I),S=C[0],M=C[1],L=S-r,P=M-i,O=m*L-_*P;(O*O/v>e||Yf((_*L+m*P)/v-.5)>.3||s*p+a*f+u*g<Ig)&&(n(r,i,o,s,a,u,S,M,N,x/=b,E/=b,w,d,y),y.point(S,M),n(S,M,N,x,E,w,c,h,l,p,f,g,d,y))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){_=NaN,w.point=o,e.lineStart()}function o(r,i){var o=$i([r,i]),s=t(r,i);n(_,m,y,v,x,E,_=s[0],m=s[1],y=r,v=o[0],x=o[1],E=o[2],bg,e),e.point(_,m)}function s(){w.point=r,e.lineEnd()}function a(){i(),w.point=u,w.lineEnd=c}function u(t,e){o(h=t,e),l=_,p=m,f=v,g=x,d=E,w.point=o}function c(){n(_,m,y,v,x,E,l,p,h,f,g,d,bg,e),w.lineEnd=s,s()}var h,l,p,f,g,d,y,_,m,v,x,E,w={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return _o({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Cg=_o({point:function(t,e){this.stream.point(t*Uf,e*Uf)}});Eo.invert=function(t,e){return[t,2*Vf(Jf(e))-kf]},wo.invert=function(t,e){return[-e,2*Vf(Jf(t))-kf]};var Sg=function(){var t=function(t){function e(){var e=Bf*a(),s=o(ig(o.rotate()).invert([0,0]));return c(null==h?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===Eo?[[Math.max(s[0]-e,h),n],[Math.min(s[0]+e,r),i]]:[[h,Math.max(s[1]-e,n)],[r,Math.min(s[1]+e,i)]])}var n,r,i,o=xo(t),s=o.center,a=o.scale,u=o.translate,c=o.clipExtent,h=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?h=n=r=i=null:(h=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==h?null:[[h,n],[r,i]]},e()}(wo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.projection=Cs,t.random=gu,t.clusters=du,t.helpers=ko,t.invariant=jo,t.meta=zo,t.isolines=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.zProperty||\"elevation\",i=n.commonProperties||{},o=n.breaksProperties||[];if(W(t,\"Point\",\"Input must contain Points\"),!e)throw new Error(\"breaks is required\");if(!Array.isArray(e))throw new Error(\"breaks must be an Array\");if(!I(i))throw new Error(\"commonProperties must be an Object\");if(!Array.isArray(o))throw new Error(\"breaksProperties must be an Array\");var s=rt(t,{zProperty:r,flip:!0});return c(function(t,e,n){var r=j(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,c=e.length-1,h=i/u,l=o/c,p=function(t){t[0]=t[0]*h+s,t[1]=t[1]*l+a};return t.forEach(function(t){S(t,p)}),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},r,i[s]);u[n]=a;var c=h(Q(t,a),u);o.push(c)}return o}(s,e,r,i,o),s,t))},t.convex=Lt,t.pointsWithinPolygon=Rt,t.concave=function(t,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");if(!t)throw new Error(\"points is required\");var r=n.maxEdge||1/0;if(!b(r))throw new Error(\"maxEdge is invalid\");var i=Tt(function(t){var e=[],n={};return O(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join(\"-\");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),c(e)}(t));if(i.features=i.features.filter(function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=qt(e,i,n),a=qt(i,o,n),u=qt(e,o,n);return s<=r&&a<=r&&u<=r}),i.features.length<1)return null;var o=$t(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type=\"Polygon\"),e(o)},t.collect=function(t,e,n,r){var i=Vo(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=j(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Pt([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.mutate;if(!t)throw new Error(\"geojson is required\");return!1!==n&&void 0!==n||(t=Gt(t)),S(t,function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e}),t},t.simplify=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error(\"geojson is required\");if(n&&n<0)throw new Error(\"invalid tolerance\");return!0!==i&&(t=Gt(t)),A(t,function(t){!function(t,e,n){var r=t.type;if(\"Point\"===r||\"MultiPoint\"===r)return t;te(t,!0);var i=t.coordinates;switch(r){case\"LineString\":t.coordinates=se(i,e,n);break;case\"MultiLineString\":t.coordinates=i.map(function(t){return se(t,e,n)});break;case\"Polygon\":t.coordinates=ae(i,e,n);break;case\"MultiPolygon\":t.coordinates=i.map(function(t){return ae(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=ue,t.tag=function(t,e,n,r){return t=Gt(t),e=Gt(e),O(t,function(t){t.properties||(t.properties={}),O(e,function(e){void 0===t.properties[r]&&Pt(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error(\"featurecollection is required\");if(null===e||void 0===e)throw new Error(\"num is required\");if(\"number\"!=typeof e)throw new Error(\"num must be a number\");return c(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)r=Math.floor((o+1)*Math.random()),n=i[r],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},t.envelope=he,t.square=le,t.circle=fe,t.midpoint=function(t,e){return pe(t,qt(t,e)/2,ge(t,e))},t.center=de,t.centerOfMass=_e,t.centroid=ye,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(t,e){return t[e.replace(\"Multi\",\"\")]=e,t},{});return O(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))}),c(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=qt,t.explode=me,t.bbox=j,t.tesselate=function(t){if(!t.geometry||\"Polygon\"!==t.geometry.type&&\"MultiPolygon\"!==t.geometry.type)throw new Error(\"input must be a Polygon or MultiPolygon\");var e={type:\"FeatureCollection\",features:[]};return\"Polygon\"===t.geometry.type?e.features=De(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(De(t))}),e},t.bboxPolygon=ce,t.booleanPointInPolygon=Pt,t.nearestPoint=Fe,t.nearestPointOnLine=on,t.nearestPointToLine=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.units,i=n.properties||{};if(!t)throw new Error(\"points is required\");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case\"GeometryCollection\":return A(t,function(t){\"Point\"===t.type&&e.push({type:\"Feature\",properties:{},geometry:t})}),{type:\"FeatureCollection\",features:e};case\"FeatureCollection\":return t.features=t.features.filter(function(t){return\"Point\"===t.geometry.type}),t;default:throw new Error(\"points must be a Point Collection\")}}(t)).features.length)throw new Error(\"points must contain features\");if(!e)throw new Error(\"line is required\");if(\"LineString\"!==K(e))throw new Error(\"line must be a LineString\");var o=1/0,s=null;return O(t,function(t){var n=gn(t,e,{units:r});n<o&&(o=n,s=t)}),s&&(s.properties=Object.assign({dist:o},s.properties,i)),s},t.planepoint=function(t,e){var n=X(t),r=J(e).coordinates[0];if(r.length<4)throw new Error(\"OuterRing of a Polygon must have 4 or more Positions.\");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],c=n[1],h=r[0][0],l=r[0][1],p=void 0!==o?o:r[0][2],f=r[1][0],g=r[1][1],d=void 0!==s?s:r[1][2],y=r[2][0],_=r[2][1],m=void 0!==a?a:r[2][2];return(m*(u-h)*(c-g)+p*(u-f)*(c-_)+d*(u-y)*(c-l)-d*(u-h)*(c-_)-m*(u-f)*(c-l)-p*(u-y)*(c-g))/((u-h)*(c-g)+(u-f)*(c-_)+(u-y)*(c-l)-(u-h)*(c-_)-(u-f)*(c-l)-(u-y)*(c-g))},t.tin=Tt,t.bearing=ge,t.destination=pe,t.kinks=function(t){var e,n,i={type:\"FeatureCollection\",features:[]};if(\"LineString\"===(n=\"Feature\"===t.type?t.geometry:t).type)e=[n.coordinates];else if(\"MultiLineString\"===n.type)e=n.coordinates;else if(\"MultiPolygon\"===n.type)e=[].concat.apply([],n.coordinates);else{if(\"Polygon\"!==n.type)throw new Error(\"Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry\");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,r,i,o,s,a){var u,c,h,l,p,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(c=e-o,h=t-i,l=(s-i)*c-(a-o)*h,p=(n-t)*c-(r-e)*h,c=l/u,h=p/u,f.x=t+c*(n-t),f.y=e+c*(r-e),c>=0&&c<=1&&(f.onLine1=!0),h>=0&&h<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&i.features.push(r([s[0],s[1]]))}})}),i},t.pointOnFeature=yn,t.area=mn,t.along=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var i;if(\"Feature\"===t.type)i=t.geometry.coordinates;else{if(\"LineString\"!==t.type)throw new Error(\"input must be a LineString Feature or Geometry\");i=t.coordinates}if(!b(e))throw new Error(\"distance must be a number\");for(var o=0,s=0;s<i.length&&!(e>=o&&s===i.length-1);s++){if(o>=e){var a=e-o;if(a){var u=ge(i[s],i[s-1])-180;return pe(i[s],a,u,n)}return r(i[s])}o+=qt(i[s],i[s+1],n)}return r(i[i.length-1])},t.length=bn,t.lineSlice=function(t,e,n){var r=U(n);if(\"LineString\"!==K(n))throw new Error(\"line must be a LineString\");for(var i,o=on(n,t),s=on(n,e),u=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],c=i[0].properties.index+1;c<i[1].properties.index+1;c++)u.push(r[c]);return u.push(i[1].geometry.coordinates),a(u,n.properties)},t.lineSliceAlong=In,t.pointGrid=Ln,t.truncate=Pn,t.flatten=function(t){if(!t)throw new Error(\"geojson is required\");var e=[];return F(t,function(t){e.push(t)}),c(e)},t.lineIntersect=nn,t.lineChunk=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.units,i=n.reverse;if(!t)throw new Error(\"geojson is required\");if(e<=0)throw new Error(\"segmentLength must be greater than 0\");var o=[];return F(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=bn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){var a=In(t,e*s,e*(s+1),{units:n});r(a,s)}}(t,e,r,function(t){o.push(t)})}),c(o)},t.unkinkPolygon=function(t){var e=[];return F(t,function(t){\"Polygon\"===t.geometry.type&&O(Ls(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),c(e)},t.greatCircle=function(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.properties,i=n.npoints,o=n.offset;return t=X(t),e=X(e),r=r||{},i=i||100,o=o||10,new qs({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=en,t.lineSplit=function(t,e){if(!t)throw new Error(\"line is required\");if(!e)throw new Error(\"splitter is required\");var n=K(t),r=K(e);if(\"LineString\"!==n)throw new Error(\"line must be LineString\");if(\"FeatureCollection\"===r)throw new Error(\"splitter cannot be a FeatureCollection\");if(\"GeometryCollection\"===r)throw new Error(\"splitter cannot be a GeometryCollection\");var i=Pn(e,{precision:7});switch(r){case\"Point\":return Dn(t,i);case\"MultiPoint\":return An(t,i);case\"LineString\":case\"MultiLineString\":case\"Polygon\":case\"MultiPolygon\":return An(t,nn(t,i))}},t.lineArc=Gn,t.polygonToLine=kn,t.lineToPolygon=jn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=U(t),i=t.properties;switch(n){case\"LineString\":case\"MultiLineString\":var s=[];return\"LineString\"===n&&(r=[r]),r.forEach(function(t){Gs(t,e,s)}),1===s.length?a(s[0],i):h(s,i);case\"Polygon\":return o(Wn(r,e),i);case\"MultiPolygon\":return p(r.map(function(t){return Wn(t,e)}),i);default:throw new Error(\"geometry \"+n+\" not supported\")}},t.lineOverlap=$n,t.sector=function(t,e,n,r,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");if(!t)throw new Error(\"center is required\");if(void 0===n||null===n)throw new Error(\"bearing1 is required\");if(void 0===r||null===r)throw new Error(\"bearing2 is required\");if(!e)throw new Error(\"radius is required\");if(\"object\"!=typeof i)throw new Error(\"options must be an object\");if(er(n)===er(r))return fe(t,e,i);var s=U(t),a=[[s]];return S(Gn(t,e,n,r,i),function(t){a[0].push(t)}),a[0].push(s),o(a)},t.rhumbBearing=sn,t.rhumbDistance=un,t.rhumbDestination=nr,t.polygonTangents=function(t,e){var n,i,o,s=U(t),a=U(e);switch(K(e)){case\"Polygon\":n=a[0][0],i=a[0][0],o=ir(a[0][0],a[0][a[0].length-1],s);var u=rr(a[0],s,o,void 0,n,i);n=u[0],i=u[1];break;case\"MultiPolygon\":n=a[0][0][0],i=a[0][0][0],o=ir(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach(function(t){var e=rr(t[0],s,o,void 0,n,i);n=e[0],i=e[1]})}return c([r(n),r(i)])},t.rewind=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error(\"<geojson> is required\");if(\"boolean\"!=typeof n)throw new Error(\"<reverse> must be a boolean\");if(\"boolean\"!=typeof r)throw new Error(\"<mutate> must be a boolean\");!1===r&&(t=Gt(t));var i=[];switch(t.type){case\"GeometryCollection\":return A(t,function(t){sr(t,n)}),t;case\"FeatureCollection\":return O(t,function(t){O(sr(t,n),function(t){i.push(t)})}),c(i)}return sr(t,n)},t.isobands=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.zProperty||\"elevation\",i=n.commonProperties||{},s=n.breaksProperties||[];if(W(t,\"Point\",\"Input must contain Points\"),!e)throw new Error(\"breaks is required\");if(!Array.isArray(e))throw new Error(\"breaks is not an Array\");if(!I(i))throw new Error(\"commonProperties is not an Object\");if(!Array.isArray(s))throw new Error(\"breaksProperties is not an Array\");var a=cr(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var s=+e[i-1],a=+e[i],u=hr(t,s,a-s),c=function(t){var e=[],n=[];t.forEach(function(t){var r=mn(o([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(u),h=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var s=o([e[r].lrCoordinates]),a=r+1;a<e.length;a++)if(!e[a].grouped){var u=o([e[a].lrCoordinates]);(function(t,e){for(var n=me(t),r=0;r<n.features.length;r++)if(!Pt(n.features[r],e))return!1;return!0})(u,s)&&(i.push(e[a].lrCoordinates),e[a].grouped=!0)}n.push(i)}return n}(c),l={};l.groupedRings=h,l[n]=s+\"-\"+a,r.push(l)}return r}(a,e,r);return c((u=function(t,e,n){var r=j(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,c=e.length-1,h=i/u,l=o/c,p=function(t){t[0]=t[0]*h+s,t[1]=t[1]*l+a};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(p)})})}),t}(u,a,t)).map(function(t,e){if(s[e]&&!I(s[e]))throw new Error(\"Each mappedProperty is required to be an Object\");var n=Object.assign({},i,s[e]);return n[r]=t[r],p(t.groupedRings,n)}))},t.transformRotate=fr,t.transformScale=gr,t.transformTranslate=function(t,e,n,r){if(r=r||{},!I(r))throw new Error(\"options is invalid\");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error(\"geojson is required\");if(void 0===e||null===e||isNaN(e))throw new Error(\"distance is required\");if(o&&\"number\"!=typeof o&&isNaN(o))throw new Error(\"zTranslation is not a number\");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(void 0===n||null===n||isNaN(n))throw new Error(\"direction is required\");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Gt(t)),S(t,function(t){var r=U(nr(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(n=n||{},!I(n))throw new Error(\"options is invalid\");var r=n.units;if(!t)throw new Error(\"geojson is required\");if(void 0===e||null===e||isNaN(e))throw new Error(\"distance is required\");var i=K(t),o=t.properties;switch(i){case\"LineString\":return vr(t,e,r);case\"MultiLineString\":var s=[];return F(t,function(t){s.push(vr(t,e,r).geometry.coordinates)}),h(s,o);default:throw new Error(\"geometry \"+i+\" is not supported\")}},t.polygonize=function(t){var e=qa.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){Da.findEdgeRingContaining(t,r)&&r.push(t)}),c(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return F(t,function(t){F(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case\"Point\":switch(e.type){case\"Point\":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case\"LineString\":return!wr(e,t);case\"Polygon\":return!Pt(t,e)}break;case\"LineString\":switch(e.type){case\"Point\":return!wr(t,e);case\"LineString\":return!function(t,e){return nn(t,e).features.length>0}(t,e);case\"Polygon\":return!br(e,t)}break;case\"Polygon\":switch(e.type){case\"Point\":return!Pt(e,t);case\"LineString\":return!br(t,e);case\"Polygon\":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Pt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Pt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=K(t),r=K(e),i=J(t),o=J(e),s=U(t),a=U(e);switch(n){case\"Point\":switch(r){case\"Point\":return Nr(s,a);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"MultiPoint\":switch(r){case\"Point\":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Nr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case\"MultiPoint\":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(Nr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"LineString\":switch(r){case\"Point\":return Nn(o,i,{ignoreEndVertices:!0});case\"LineString\":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(Nn({type:\"Point\",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!Nn({type:\"Point\",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case\"MultiPoint\":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(Nn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!Nn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"Polygon\":switch(r){case\"Point\":return Pt(o,i,{ignoreBoundary:!0});case\"LineString\":return function(t,e){var n=!1,r=0,i=j(t),o=j(e);if(!Ir(i,o))return!1;for(;r<e.coordinates.length-1;r++){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1]);if(Pt({type:\"Point\",coordinates:s},t,{ignoreBoundary:!0})){n=!0;break}}return n}(i,o);case\"Polygon\":return function(t,e){var n=j(t),r=j(e);if(!Ir(n,r))return!1;for(var i=0;i<e.coordinates[0].length;i++)if(!Pt(e.coordinates[0][i],t))return!1;return!0}(i,o);case\"MultiPoint\":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Pt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}default:throw new Error(\"feature1 \"+n+\" geometry not supported\")}},t.booleanCrosses=function(t,e){var n=K(t),r=K(e),i=J(t),o=J(e);switch(n){case\"MultiPoint\":switch(r){case\"LineString\":return Cr(i,o);case\"Polygon\":return Mr(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"LineString\":switch(r){case\"MultiPoint\":return Cr(o,i);case\"LineString\":return function(t,e){if(nn(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),Lr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case\"Polygon\":return Sr(i,o);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}case\"Polygon\":switch(r){case\"MultiPoint\":return Mr(o,i);case\"LineString\":return Sr(o,i);default:throw new Error(\"feature2 \"+r+\" geometry not supported\")}default:throw new Error(\"feature1 \"+n+\" geometry not supported\")}},t.booleanClockwise=or,t.booleanOverlap=Tr,t.booleanPointOnLine=Nn,t.booleanEqual=function(t,e){if(!t)throw new Error(\"feature1 is required\");if(!e)throw new Error(\"feature2 is required\");return K(t)===K(e)&&new ja({precision:6}).compare(te(t),te(e))},t.booleanWithin=Cn,t.clone=Gt,t.cleanCoords=te,t.clustersDbscan=function(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.minPoints,i=n.units;if(W(t,\"Point\",\"Input must contain Points\"),null===e||void 0===e)throw new Error(\"maxDistance is required\");if(!(Math.sign(e)>0))throw new Error(\"Invalid maxDistance\");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error(\"Invalid minPoints\");t=Gt(t),r=r||3;var o=new Ha.DBSCAN,s=-1;return o.run(T(t),E(e,i),r,qt).forEach(function(e){s++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan=\"core\"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan=\"edge\":n.properties.dbscan=\"noise\"}),t},t.clustersKmeans=function(t,e){if(\"object\"!=typeof(e=e||{}))throw new Error(\"options is invalid\");var n=e.numberOfClusters,r=e.mutate;W(t,\"Point\",\"Input must contain Points\");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Gt(t));var o=T(t),s=o.slice(0,n),a=eu(o,n,s),u={};return a.centroids.forEach(function(t,e){u[e]=t}),O(t,function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=gn,t.booleanParallel=function(t,e){if(!t)throw new Error(\"line1 is required\");if(!e)throw new Error(\"line2 is required\");if(\"LineString\"!==Dr(t,\"line1\"))throw new Error(\"line1 must be a LineString\");if(\"LineString\"!==Dr(e,\"line2\"))throw new Error(\"line2 must be a LineString\");for(var n=en(te(t)).features,r=en(te(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){var n=m(sn(t[0],t[1])),r=m(sn(e[0],e[1]));return n===r}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(i=i||{},!I(i))throw new Error(\"options is invalid\");var o=i.resolution,s=i.minDistance,u=i.obstacles||c([]);if(!t)throw new Error(\"start is required\");if(!n)throw new Error(\"end is required\");if(o&&!b(o)||o<=0)throw new Error(\"options.resolution must be a number, greater than 0\");if(s)throw new Error(\"options.minDistance is not yet implemented\");var h=X(t),l=X(n);switch(t=r(h),n=r(l),K(u)){case\"FeatureCollection\":if(0===u.features.length)return a([h,l]);break;case\"Polygon\":u=c([e(J(u))]);break;default:throw new Error(\"invalid obstacles\")}var p=u;p.features.push(t),p.features.push(n);var f=j(gr(ce(j(p)),1.15));o||(o=qt([f[0],f[1]],[f[2],f[1]],i)/100);p.features.pop(),p.features.pop();for(var g=f[0],d=f[1],y=f[2],_=f[3],m=o/qt([g,d],[y,d],i)*(y-g),v=o/qt([g,d],[g,_],i)*(_-d),x=y-g,E=_-d,w=(x-Math.floor(x/m)*m)/2,N=[],C=[],S=[],M=[],L=1/0,P=1/0,O=_-(E-Math.floor(E/v)*v)/2,R=0;O>=d;){for(var T=[],A=[],D=g+w,F=0;D<=y;){var q=r([D,O]),G=function(t,e){for(var n=0;n<e.features.length;n++)if(Pt(t,e.features[n]))return!0;return!1}(q,u);T.push(G?0:1),A.push(D+\"|\"+O);var B=qt(q,t);!G&&B<L&&(L=B,S={x:F,y:R});var k=qt(q,n);!G&&k<P&&(P=k,M={x:F,y:R}),D+=m,F++}C.push(T),N.push(A),O-=v,R++}var z=new qr(C,{diagonal:!0}),U=z.grid[S.y][S.x],Y=z.grid[M.y][M.x],V=[h];return nu.search(z,U,Y).forEach(function(t){var e=N[t.x][t.y].split(\"|\");V.push([+e[0],+e[1]])}),V.push(l),te(a(V))},t.voronoi=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error(\"points is required\");if(!Array.isArray(n))throw new Error(\"bbox is invalid\");return W(t,\"Point\",\"points\"),c(fu().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(li))},t.ellipse=pi,t.centerMean=gi,t.centerMedian=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.counter||10;if(!b(n))throw new Error(\"counter must be a number\");var r=e.weight,i=gi(t,{weight:e.weight}),o=c([]);return O(t,function(t){o.features.push(ye(t,{weight:t.properties[r]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},di(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!b(n))throw new Error(\"steps must be a number\");if(!I(i))throw new Error(\"properties must be a number\");var o=T(t).length,s=gi(t,{weight:r}),a=0,u=0,h=0;O(t,function(t){var e=t.properties[r]||1,n=yi(U(t),U(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,h+=n.x*n.y*e});var l=a-u,p=Math.sqrt(Math.pow(l,2)+4*Math.pow(h,2)),f=2*h,g=Math.atan((l+p)/f),d=180*g/Math.PI,y=0,_=0,m=0;O(t,function(t){var e=t.properties[r]||1,n=yi(U(t),U(s));y+=Math.pow(n.x*Math.cos(g)-n.y*Math.sin(g),2)*e,_+=Math.pow(n.x*Math.sin(g)+n.y*Math.cos(g),2)*e,m+=e});var v=Math.sqrt(2*y/m),x=Math.sqrt(2*_/m),E=pi(s,v,x,{units:\"degrees\",angle:d,steps:n,properties:i}),w=Rt(t,c([E])),N={meanCenterCoordinates:U(s),semiMajorAxis:v,semiMinorAxis:x,numberOfFeatures:o,angle:d,percentageWithinEllipse:100*T(w).length/o};return E.properties.standardDeviationalEllipse=N,E},t.difference=function(t,n){var r=J(t),i=J(n),o=t.properties||{};if(r=Ui(r),i=Ui(i),!r)return null;if(!i)return e(r,o);var s=new bh,a=s.read(r),u=s.read(i),c=Cf.difference(a,u);return c.isEmpty()?null:e((new Ih).write(c),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error(\"geojson is required\");if(\"object\"!=typeof n)throw new Error(\"options must be an object\");if(\"number\"!=typeof i)throw new Error(\"steps must be an number\");if(void 0===e)throw new Error(\"radius is required\");if(i<=0)throw new Error(\"steps must be greater than 0\");i=i||64,r=r||\"kilometers\";var o=[];switch(t.type){case\"GeometryCollection\":return A(t,function(t){var n=bo(t,e,r,i);n&&o.push(n)}),c(o);case\"FeatureCollection\":return O(t,function(t){var n=bo(t,e,r,i);n&&O(n,function(t){t&&o.push(t)})}),c(o)}return bo(t,e,r,i)},t.union=Mo,t.intersect=Lo,t.dissolve=function(t,e){if(e=e||{},!I(e))throw new Error(\"options is invalid\");var n=e.propertyName;W(t,\"Polygon\",\"dissolve\");var r=Gt(t),i=r.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var s=Qe();s.load(r);for(var u in i){var c=i[u],h=!1;if(s.search(c).features.forEach(function(t){c=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=Po(e,o);0!==r&&(e-=r)}if(e!==+u){var l=i[e];l&&c&&(void 0!==n&&l.properties[n]!==c.properties[n]||Tr(c,l)&&function(t,e){var n=a(T(t)),r=a(T(e));return nn(n,r).features.length>0}(c,l)&&(i[u]=Mo(c,l),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),s.remove(t),i.splice(e,1),c.properties.origIndexPosition=u,s.remove(c,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),h=!0))}}),h){if(!c)continue;c.properties.origIndexPosition=u,s.insert(c),u--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=Oo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return F(t,function(t){var r=t.geometry.coordinates,i=r[0],s=r.slice(1);e.push(o([i])),s.forEach(function(t){n.push(o([t]))})}),[c(e),c(n)]}(t),i=r[0],s=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),F(e,function(t){r.push(t.geometry.coordinates[0])}),F(n,function(t){r.push(t.geometry.coordinates[0])}),o(r)}(n,i=Ro(i),s=Ro(s))},t.squareGrid=Ao,t.triangleGrid=Do,t.interpolate=function(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error(\"points is required\");if(W(t,\"Point\",\"input must contain Points\"),!e)throw new Error(\"cellSize is required\");if(void 0!==o&&\"number\"!=typeof o)throw new Error(\"weight must be a number\");i=i||\"elevation\",r=r||\"square\",o=o||1;var s,a=j(t);switch(r){case\"point\":case\"points\":s=Ln(a,e,n);break;case\"square\":case\"squares\":s=Ao(a,e,n);break;case\"hex\":case\"hexes\":s=Oo(a,e,n);break;case\"triangle\":case\"triangles\":s=Do(a,e,n);break;default:throw new Error(\"invalid gridType\")}var u=[];return O(s,function(e){var s=0,a=0;O(t,function(t){var u,c=qt(\"point\"===r?e:ye(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error(\"zValue is missing\");0===c&&(s=u);var h=1/Math.pow(c,o);a+=h,s+=h*u});var c=Gt(e);c.properties[i]=s/a,u.push(c)}),c(u)},t.pointOnSurface=yn,t.polygonToLineString=kn,t.lineStringToPolygon=jn,t.inside=Pt,t.within=Rt,t.bezier=ue,t.nearest=Fe,t.pointOnLine=on,t.lineDistance=bn,t.radians2degrees=v,t.degrees2radians=x,t.distanceToDegrees=_,t.distanceToRadians=y,t.radiansToDistance=d,t.bearingToAngle=m,t.convertDistance=E,t.toMercator=cn,t.toWgs84=hn,t.randomPosition=_i,t.randomPoint=mi,t.randomPolygon=vi,t.randomLineString=xi,t.getCluster=wi,t.clusterEach=bi,t.clusterReduce=Ii,t.createBins=Ni,t.applyFilter=Ci,t.propertiesContainsFilter=Si,t.filterProperties=Mi,t.earthRadius=Fo,t.factors=qo,t.unitsFactors=Go,t.areaFactors=Bo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=u,t.featureCollection=c,t.multiLineString=h,t.multiPoint=l,t.multiPolygon=p,t.geometryCollection=f,t.round=g,t.radiansToLength=d,t.lengthToRadians=y,t.lengthToDegrees=_,t.bearingToAzimuth=m,t.radiansToDegrees=v,t.degreesToRadians=x,t.convertLength=E,t.convertArea=w,t.isNumber=b,t.isObject=I,t.validateBBox=N,t.validateId=C,t.getCoord=X,t.getCoords=U,t.containsNumber=Y,t.geojsonType=V,t.featureOf=H,t.collectionOf=W,t.getGeom=J,t.getGeomType=Z,t.getType=K,t.coordEach=S,t.coordReduce=M,t.propEach=L,t.propReduce=P,t.featureEach=O,t.featureReduce=R,t.coordAll=T,t.geomEach=A,t.geomReduce=D,t.flattenEach=F,t.flattenReduce=q,t.segmentEach=G,t.segmentReduce=B,t.lineEach=k,t.lineReduce=z,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","/* Tabulator v4.8.4 (c) Oliver Folkerd */\n\n'use strict';\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nif (!Array.prototype.findIndex) {\n\n\tObject.defineProperty(Array.prototype, 'findIndex', {\n\n\t\tvalue: function value(predicate) {\n\n\t\t\t// 1. Let O be ? ToObject(this value).\n\n\t\t\tif (this == null) {\n\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\n\t\t\tvar o = Object(this);\n\n\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n\t\t\tvar len = o.length >>> 0;\n\n\t\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n\t\t\tif (typeof predicate !== 'function') {\n\n\t\t\t\tthrow new TypeError('predicate must be a function');\n\t\t\t}\n\n\t\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n\t\t\tvar thisArg = arguments[1];\n\n\t\t\t// 5. Let k be 0.\n\n\t\t\tvar k = 0;\n\n\t\t\t// 6. Repeat, while k < len\n\n\t\t\twhile (k < len) {\n\n\t\t\t\t// a. Let Pk be ! ToString(k).\n\n\t\t\t\t// b. Let kValue be ? Get(O, Pk).\n\n\t\t\t\t// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n\n\t\t\t\t// d. If testResult is true, return k.\n\n\t\t\t\tvar kValue = o[k];\n\n\t\t\t\tif (predicate.call(thisArg, kValue, k, o)) {\n\n\t\t\t\t\treturn k;\n\t\t\t\t}\n\n\t\t\t\t// e. Increase k by 1.\n\n\t\t\t\tk++;\n\t\t\t}\n\n\t\t\t// 7. Return -1.\n\n\t\t\treturn -1;\n\t\t}\n\n\t});\n}\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n\nif (!Array.prototype.find) {\n\n\tObject.defineProperty(Array.prototype, 'find', {\n\n\t\tvalue: function value(predicate) {\n\n\t\t\t// 1. Let O be ? ToObject(this value).\n\n\t\t\tif (this == null) {\n\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\n\t\t\tvar o = Object(this);\n\n\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n\t\t\tvar len = o.length >>> 0;\n\n\t\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n\t\t\tif (typeof predicate !== 'function') {\n\n\t\t\t\tthrow new TypeError('predicate must be a function');\n\t\t\t}\n\n\t\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n\t\t\tvar thisArg = arguments[1];\n\n\t\t\t// 5. Let k be 0.\n\n\t\t\tvar k = 0;\n\n\t\t\t// 6. Repeat, while k < len\n\n\t\t\twhile (k < len) {\n\n\t\t\t\t// a. Let Pk be ! ToString(k).\n\n\t\t\t\t// b. Let kValue be ? Get(O, Pk).\n\n\t\t\t\t// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n\n\t\t\t\t// d. If testResult is true, return kValue.\n\n\t\t\t\tvar kValue = o[k];\n\n\t\t\t\tif (predicate.call(thisArg, kValue, k, o)) {\n\n\t\t\t\t\treturn kValue;\n\t\t\t\t}\n\n\t\t\t\t// e. Increase k by 1.\n\n\t\t\t\tk++;\n\t\t\t}\n\n\t\t\t// 7. Return undefined.\n\n\t\t\treturn undefined;\n\t\t}\n\n\t});\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Polyfill\n\nif (!String.prototype.includes) {\n\n\tString.prototype.includes = function (search, start) {\n\n\t\t'use strict';\n\n\t\tif (search instanceof RegExp) {\n\n\t\t\tthrow TypeError('first argument must not be a RegExp');\n\t\t}\n\n\t\tif (start === undefined) {\n\t\t\tstart = 0;\n\t\t}\n\n\t\treturn this.indexOf(search, start) !== -1;\n\t};\n}\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n\nif (!Array.prototype.includes) {\n\n\tObject.defineProperty(Array.prototype, 'includes', {\n\n\t\tvalue: function value(searchElement, fromIndex) {\n\n\t\t\tif (this == null) {\n\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\n\t\t\t// 1. Let O be ? ToObject(this value).\n\n\t\t\tvar o = Object(this);\n\n\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n\t\t\tvar len = o.length >>> 0;\n\n\t\t\t// 3. If len is 0, return false.\n\n\t\t\tif (len === 0) {\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 4. Let n be ? ToInteger(fromIndex).\n\n\t\t\t//    (If fromIndex is undefined, this step produces the value 0.)\n\n\t\t\tvar n = fromIndex | 0;\n\n\t\t\t// 5. If n ≥ 0, then\n\n\t\t\t//  a. Let k be n.\n\n\t\t\t// 6. Else n < 0,\n\n\t\t\t//  a. Let k be len + n.\n\n\t\t\t//  b. If k < 0, let k be 0.\n\n\t\t\tvar k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n\t\t\tfunction sameValueZero(x, y) {\n\n\t\t\t\treturn x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n\t\t\t}\n\n\t\t\t// 7. Repeat, while k < len\n\n\t\t\twhile (k < len) {\n\n\t\t\t\t// a. Let elementK be the result of ? Get(O, ! ToString(k)).\n\n\t\t\t\t// b. If SameValueZero(searchElement, elementK) is true, return true.\n\n\t\t\t\tif (sameValueZero(o[k], searchElement)) {\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// c. Increase k by 1.\n\n\t\t\t\tk++;\n\t\t\t}\n\n\t\t\t// 8. Return false\n\n\t\t\treturn false;\n\t\t}\n\n\t});\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\n\nif (typeof Object.assign !== 'function') {\n\n\t// Must be writable: true, enumerable: false, configurable: true\n\n\tObject.defineProperty(Object, \"assign\", {\n\n\t\tvalue: function assign(target, varArgs) {\n\t\t\t// .length of function is 2\n\n\t\t\t'use strict';\n\n\t\t\tif (target === null || target === undefined) {\n\n\t\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t\t}\n\n\t\t\tvar to = Object(target);\n\n\t\t\tfor (var index = 1; index < arguments.length; index++) {\n\n\t\t\t\tvar nextSource = arguments[index];\n\n\t\t\t\tif (nextSource !== null && nextSource !== undefined) {\n\n\t\t\t\t\tfor (var nextKey in nextSource) {\n\n\t\t\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\n\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\n\t\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn to;\n\t\t},\n\n\t\twritable: true,\n\n\t\tconfigurable: true\n\n\t});\n}\n\nvar ColumnManager = function ColumnManager(table) {\n\n\tthis.table = table; //hold parent table\n\n\tthis.blockHozScrollEvent = false;\n\n\tthis.headersElement = this.createHeadersElement();\n\n\tthis.element = this.createHeaderElement(); //containing element\n\n\tthis.rowManager = null; //hold row manager object\n\n\tthis.columns = []; // column definition object\n\n\tthis.columnsByIndex = []; //columns by index\n\n\tthis.columnsByField = {}; //columns by field\n\n\tthis.scrollLeft = 0;\n\n\tthis.element.insertBefore(this.headersElement, this.element.firstChild);\n};\n\n////////////// Setup Functions /////////////////\n\n\nColumnManager.prototype.createHeadersElement = function () {\n\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-headers\");\n\n\treturn el;\n};\n\nColumnManager.prototype.createHeaderElement = function () {\n\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-header\");\n\n\tif (!this.table.options.headerVisible) {\n\n\t\tel.classList.add(\"tabulator-header-hidden\");\n\t}\n\n\treturn el;\n};\n\nColumnManager.prototype.initialize = function () {\n\n\tvar self = this;\n\n\t//scroll body along with header\n\n\t// self.element.addEventListener(\"scroll\", function(e){\n\n\t// \tif(!self.blockHozScrollEvent){\n\n\t// \t\tself.table.rowManager.scrollHorizontal(self.element.scrollLeft);\n\n\t// \t}\n\n\t// });\n};\n\n//link to row manager\n\nColumnManager.prototype.setRowManager = function (manager) {\n\n\tthis.rowManager = manager;\n};\n\n//return containing element\n\nColumnManager.prototype.getElement = function () {\n\n\treturn this.element;\n};\n\n//return header containing element\n\nColumnManager.prototype.getHeadersElement = function () {\n\n\treturn this.headersElement;\n};\n\n// ColumnManager.prototype.tempScrollBlock = function(){\n\n// \tclearTimeout(this.blockHozScrollEvent);\n\n// \tthis.blockHozScrollEvent = setTimeout(() => {this.blockHozScrollEvent = false;}, 50);\n\n// }\n\n\n//scroll horizontally to match table body\n\nColumnManager.prototype.scrollHorizontal = function (left) {\n\n\tvar hozAdjust = 0,\n\t    scrollWidth = this.element.scrollWidth - this.table.element.clientWidth;\n\n\t// this.tempScrollBlock();\n\n\tthis.element.scrollLeft = left;\n\n\t//adjust for vertical scrollbar moving table when present\n\n\tif (left > scrollWidth) {\n\n\t\thozAdjust = left - scrollWidth;\n\n\t\tthis.element.style.marginLeft = -hozAdjust + \"px\";\n\t} else {\n\n\t\tthis.element.style.marginLeft = 0;\n\t}\n\n\t//keep frozen columns fixed in position\n\n\t//this._calcFrozenColumnsPos(hozAdjust + 3);\n\n\n\tthis.scrollLeft = left;\n\n\tif (this.table.modExists(\"frozenColumns\")) {\n\n\t\tthis.table.modules.frozenColumns.scrollHorizontal();\n\t}\n};\n\n///////////// Column Setup Functions /////////////\n\n\nColumnManager.prototype.generateColumnsFromRowData = function (data) {\n\n\tvar cols = [],\n\t    definitions = this.table.options.autoColumnsDefinitions,\n\t    row,\n\t    sorter;\n\n\tif (data && data.length) {\n\n\t\trow = data[0];\n\n\t\tfor (var key in row) {\n\n\t\t\tvar col = {\n\n\t\t\t\tfield: key,\n\n\t\t\t\ttitle: key\n\n\t\t\t};\n\n\t\t\tvar value = row[key];\n\n\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\n\t\t\t\tcase \"undefined\":\n\n\t\t\t\t\tsorter = \"string\";\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\n\t\t\t\t\tsorter = \"boolean\";\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\n\t\t\t\t\tif (Array.isArray(value)) {\n\n\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif (!isNaN(value) && value !== \"\") {\n\n\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)) {\n\n\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcol.sorter = sorter;\n\n\t\t\tcols.push(col);\n\t\t}\n\n\t\tif (definitions) {\n\n\t\t\tswitch (typeof definitions === 'undefined' ? 'undefined' : _typeof(definitions)) {\n\n\t\t\t\tcase \"function\":\n\n\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\n\t\t\t\t\tif (Array.isArray(definitions)) {\n\n\t\t\t\t\t\tcols.forEach(function (col) {\n\n\t\t\t\t\t\t\tvar match = definitions.find(function (def) {\n\n\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (match) {\n\n\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcols.forEach(function (col) {\n\n\t\t\t\t\t\t\tif (definitions[col.field]) {\n\n\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.table.options.columns = cols;\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t} else {\n\n\t\t\tthis.table.options.columns = cols;\n\t\t}\n\n\t\tthis.setColumns(this.table.options.columns);\n\t}\n};\n\nColumnManager.prototype.setColumns = function (cols, row) {\n\n\tvar self = this;\n\n\twhile (self.headersElement.firstChild) {\n\t\tself.headersElement.removeChild(self.headersElement.firstChild);\n\t}self.columns = [];\n\n\tself.columnsByIndex = [];\n\n\tself.columnsByField = {};\n\n\t//reset frozen columns\n\n\tif (self.table.modExists(\"frozenColumns\")) {\n\n\t\tself.table.modules.frozenColumns.reset();\n\t}\n\n\tcols.forEach(function (def, i) {\n\n\t\tself._addColumn(def);\n\t});\n\n\tself._reIndexColumns();\n\n\tif (self.table.options.responsiveLayout && self.table.modExists(\"responsiveLayout\", true)) {\n\n\t\tself.table.modules.responsiveLayout.initialize();\n\t}\n\n\tif (this.table.options.virtualDomHoz) {\n\n\t\tthis.table.vdomHoz.reinitialize(false, true);\n\t}\n\n\tself.redraw(true);\n};\n\nColumnManager.prototype._addColumn = function (definition, before, nextToColumn) {\n\n\tvar column = new Column(definition, this),\n\t    colEl = column.getElement(),\n\t    index = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\n\tif (nextToColumn && index > -1) {\n\n\t\tvar parentIndex = this.columns.indexOf(nextToColumn.getTopColumn());\n\n\t\tvar nextEl = nextToColumn.getElement();\n\n\t\tif (before) {\n\n\t\t\tthis.columns.splice(parentIndex, 0, column);\n\n\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t} else {\n\n\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\n\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t}\n\t} else {\n\n\t\tif (before) {\n\n\t\t\tthis.columns.unshift(column);\n\n\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t} else {\n\n\t\t\tthis.columns.push(column);\n\n\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t}\n\n\t\tcolumn.columnRendered();\n\t}\n\n\treturn column;\n};\n\nColumnManager.prototype.registerColumnField = function (col) {\n\n\tif (col.definition.field) {\n\n\t\tthis.columnsByField[col.definition.field] = col;\n\t}\n};\n\nColumnManager.prototype.registerColumnPosition = function (col) {\n\n\tthis.columnsByIndex.push(col);\n};\n\nColumnManager.prototype._reIndexColumns = function () {\n\n\tthis.columnsByIndex = [];\n\n\tthis.columns.forEach(function (column) {\n\n\t\tcolumn.reRegisterPosition();\n\t});\n};\n\n//ensure column headers take up the correct amount of space in column groups\n\nColumnManager.prototype._verticalAlignHeaders = function () {\n\n\tvar self = this,\n\t    minHeight = 0;\n\n\tself.columns.forEach(function (column) {\n\n\t\tvar height;\n\n\t\tcolumn.clearVerticalAlign();\n\n\t\theight = column.getHeight();\n\n\t\tif (height > minHeight) {\n\n\t\t\tminHeight = height;\n\t\t}\n\t});\n\n\tself.columns.forEach(function (column) {\n\n\t\tcolumn.verticalAlign(self.table.options.columnHeaderVertAlign, minHeight);\n\t});\n\n\tself.rowManager.adjustTableSize();\n};\n\n//////////////// Column Details /////////////////\n\n\nColumnManager.prototype.findColumn = function (subject) {\n\n\tvar self = this;\n\n\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\n\n\t\tif (subject instanceof Column) {\n\n\t\t\t//subject is column element\n\n\t\t\treturn subject;\n\t\t} else if (subject instanceof ColumnComponent) {\n\n\t\t\t//subject is public column component\n\n\t\t\treturn subject._getSelf() || false;\n\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\n\n\t\t\t//subject is a HTML element of the column header\n\n\t\t\tvar match = self.columns.find(function (column) {\n\n\t\t\t\treturn column.element === subject;\n\t\t\t});\n\n\t\t\treturn match || false;\n\t\t}\n\t} else {\n\n\t\t//subject should be treated as the field name of the column\n\n\t\treturn this.columnsByField[subject] || false;\n\t}\n\n\t//catch all for any other type of input\n\n\n\treturn false;\n};\n\nColumnManager.prototype.getColumnByField = function (field) {\n\n\treturn this.columnsByField[field];\n};\n\nColumnManager.prototype.getColumnsByFieldRoot = function (root) {\n\tvar _this = this;\n\n\tvar matches = [];\n\n\tObject.keys(this.columnsByField).forEach(function (field) {\n\n\t\tvar fieldRoot = field.split(\".\")[0];\n\n\t\tif (fieldRoot === root) {\n\n\t\t\tmatches.push(_this.columnsByField[field]);\n\t\t}\n\t});\n\n\treturn matches;\n};\n\nColumnManager.prototype.getColumnByIndex = function (index) {\n\n\treturn this.columnsByIndex[index];\n};\n\nColumnManager.prototype.getFirstVisibileColumn = function (index) {\n\n\tvar index = this.columnsByIndex.findIndex(function (col) {\n\n\t\treturn col.visible;\n\t});\n\n\treturn index > -1 ? this.columnsByIndex[index] : false;\n};\n\nColumnManager.prototype.getColumns = function () {\n\n\treturn this.columns;\n};\n\nColumnManager.prototype.findColumnIndex = function (column) {\n\n\treturn this.columnsByIndex.findIndex(function (col) {\n\n\t\treturn column === col;\n\t});\n};\n\n//return all columns that are not groups\n\nColumnManager.prototype.getRealColumns = function () {\n\n\treturn this.columnsByIndex;\n};\n\n//travers across columns and call action\n\nColumnManager.prototype.traverse = function (callback) {\n\n\tvar self = this;\n\n\tself.columnsByIndex.forEach(function (column, i) {\n\n\t\tcallback(column, i);\n\t});\n};\n\n//get defintions of actual columns\n\nColumnManager.prototype.getDefinitions = function (active) {\n\n\tvar self = this,\n\t    output = [];\n\n\tself.columnsByIndex.forEach(function (column) {\n\n\t\tif (!active || active && column.visible) {\n\n\t\t\toutput.push(column.getDefinition());\n\t\t}\n\t});\n\n\treturn output;\n};\n\n//get full nested definition tree\n\nColumnManager.prototype.getDefinitionTree = function () {\n\n\tvar self = this,\n\t    output = [];\n\n\tself.columns.forEach(function (column) {\n\n\t\toutput.push(column.getDefinition(true));\n\t});\n\n\treturn output;\n};\n\nColumnManager.prototype.getComponents = function (structured) {\n\n\tvar self = this,\n\t    output = [],\n\t    columns = structured ? self.columns : self.columnsByIndex;\n\n\tcolumns.forEach(function (column) {\n\n\t\toutput.push(column.getComponent());\n\t});\n\n\treturn output;\n};\n\nColumnManager.prototype.getWidth = function () {\n\n\tvar width = 0;\n\n\tthis.columnsByIndex.forEach(function (column) {\n\n\t\tif (column.visible) {\n\n\t\t\twidth += column.getWidth();\n\t\t}\n\t});\n\n\treturn width;\n};\n\nColumnManager.prototype.moveColumn = function (from, to, after) {\n\n\tthis.moveColumnActual(from, to, after);\n\n\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\tthis.table.modules.responsiveLayout.initialize();\n\t}\n\n\tif (this.table.modExists(\"columnCalcs\")) {\n\n\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\n\t}\n\n\tto.element.parentNode.insertBefore(from.element, to.element);\n\n\tif (after) {\n\n\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t}\n\n\tthis._verticalAlignHeaders();\n\n\tthis.table.rowManager.reinitialize();\n};\n\nColumnManager.prototype.moveColumnActual = function (from, to, after) {\n\n\tif (from.parent.isGroup) {\n\n\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t} else {\n\n\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t}\n\n\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\n\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\tthis.table.modules.responsiveLayout.initialize();\n\t}\n\n\tif (this.table.options.virtualDomHoz) {\n\n\t\tthis.table.vdomHoz.reinitialize(true);\n\t}\n\n\tif (this.table.options.columnMoved) {\n\n\t\tthis.table.options.columnMoved.call(this.table, from.getComponent(), this.table.columnManager.getComponents());\n\t}\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\n\n\t\tthis.table.modules.persistence.save(\"columns\");\n\t}\n};\n\nColumnManager.prototype._moveColumnInArray = function (columns, from, to, after, updateRows) {\n\tvar _this2 = this;\n\n\tvar fromIndex = columns.indexOf(from),\n\t    toIndex,\n\t    rows = [];\n\n\tif (fromIndex > -1) {\n\n\t\tcolumns.splice(fromIndex, 1);\n\n\t\ttoIndex = columns.indexOf(to);\n\n\t\tif (toIndex > -1) {\n\n\t\t\tif (after) {\n\n\t\t\t\ttoIndex = toIndex + 1;\n\t\t\t}\n\t\t} else {\n\n\t\t\ttoIndex = fromIndex;\n\t\t}\n\n\t\tcolumns.splice(toIndex, 0, from);\n\n\t\tif (updateRows) {\n\n\t\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\n\n\t\t\t\tthis.table.rowManager.rows.forEach(function (row) {\n\n\t\t\t\t\trows = rows.concat(_this2.table.modules.dataTree.getTreeChildren(row, false, true));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trows = rows.concat(this.table.rowManager.rows);\n\n\t\t\trows.forEach(function (row) {\n\n\t\t\t\tif (row.cells.length) {\n\n\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\n\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n\nColumnManager.prototype.scrollToColumn = function (column, position, ifVisible) {\n\tvar _this3 = this;\n\n\tvar left = 0,\n\t    offset = 0,\n\t    adjust = 0,\n\t    colEl = column.getElement();\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tif (typeof position === \"undefined\") {\n\n\t\t\tposition = _this3.table.options.scrollToColumnPosition;\n\t\t}\n\n\t\tif (typeof ifVisible === \"undefined\") {\n\n\t\t\tifVisible = _this3.table.options.scrollToColumnIfVisible;\n\t\t}\n\n\t\tif (column.visible) {\n\n\t\t\t//align to correct position\n\n\t\t\tswitch (position) {\n\n\t\t\t\tcase \"middle\":\n\n\t\t\t\tcase \"center\":\n\n\t\t\t\t\tadjust = -_this3.element.clientWidth / 2;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"right\":\n\n\t\t\t\t\tadjust = colEl.clientWidth - _this3.headersElement.clientWidth;\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\t//check column visibility\n\n\t\t\tif (!ifVisible) {\n\n\t\t\t\toffset = colEl.offsetLeft;\n\n\t\t\t\tif (offset > 0 && offset + colEl.offsetWidth < _this3.element.clientWidth) {\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate scroll position\n\n\t\t\tleft = colEl.offsetLeft + adjust;\n\n\t\t\tleft = Math.max(Math.min(left, _this3.table.rowManager.element.scrollWidth - _this3.table.rowManager.element.clientWidth), 0);\n\n\t\t\t_this3.table.rowManager.scrollHorizontal(left);\n\n\t\t\t_this3.scrollHorizontal(left);\n\n\t\t\tresolve();\n\t\t} else {\n\n\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\n\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t}\n\t});\n};\n\n//////////////// Cell Management /////////////////\n\n\nColumnManager.prototype.generateCells = function (row) {\n\n\tvar self = this;\n\n\tvar cells = [];\n\n\tself.columnsByIndex.forEach(function (column) {\n\n\t\tcells.push(column.generateCell(row));\n\t});\n\n\treturn cells;\n};\n\n//////////////// Column Management /////////////////\n\n\nColumnManager.prototype.getFlexBaseWidth = function () {\n\n\tvar self = this,\n\t    totalWidth = self.table.element.clientWidth,\n\t    //table element width\n\n\tfixedWidth = 0;\n\n\t//adjust for vertical scrollbar if present\n\n\tif (self.rowManager.element.scrollHeight > self.rowManager.element.clientHeight) {\n\n\t\ttotalWidth -= self.rowManager.element.offsetWidth - self.rowManager.element.clientWidth;\n\t}\n\n\tthis.columnsByIndex.forEach(function (column) {\n\n\t\tvar width, minWidth, colWidth;\n\n\t\tif (column.visible) {\n\n\t\t\twidth = column.definition.width || 0;\n\n\t\t\tminWidth = typeof column.minWidth == \"undefined\" ? self.table.options.columnMinWidth : parseInt(column.minWidth);\n\n\t\t\tif (typeof width == \"string\") {\n\n\t\t\t\tif (width.indexOf(\"%\") > -1) {\n\n\t\t\t\t\tcolWidth = totalWidth / 100 * parseInt(width);\n\t\t\t\t} else {\n\n\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tcolWidth = width;\n\t\t\t}\n\n\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t}\n\t});\n\n\treturn fixedWidth;\n};\n\nColumnManager.prototype.addColumn = function (definition, before, nextToColumn) {\n\tvar _this4 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tvar column = _this4._addColumn(definition, before, nextToColumn);\n\n\t\t_this4._reIndexColumns();\n\n\t\tif (_this4.table.options.responsiveLayout && _this4.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\t_this4.table.modules.responsiveLayout.initialize();\n\t\t}\n\n\t\tif (_this4.table.modExists(\"columnCalcs\")) {\n\n\t\t\t_this4.table.modules.columnCalcs.recalc(_this4.table.rowManager.activeRows);\n\t\t}\n\n\t\t_this4.redraw(true);\n\n\t\tif (_this4.table.modules.layout.getMode() != \"fitColumns\") {\n\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\t_this4._verticalAlignHeaders();\n\n\t\t_this4.table.rowManager.reinitialize();\n\n\t\tif (_this4.table.options.virtualDomHoz) {\n\n\t\t\t_this4.table.vdomHoz.reinitialize();\n\t\t}\n\n\t\tresolve(column);\n\t});\n};\n\n//remove column from system\n\nColumnManager.prototype.deregisterColumn = function (column) {\n\n\tvar field = column.getField(),\n\t    index;\n\n\t//remove from field list\n\n\tif (field) {\n\n\t\tdelete this.columnsByField[field];\n\t}\n\n\t//remove from index list\n\n\tindex = this.columnsByIndex.indexOf(column);\n\n\tif (index > -1) {\n\n\t\tthis.columnsByIndex.splice(index, 1);\n\t}\n\n\t//remove from column list\n\n\tindex = this.columns.indexOf(column);\n\n\tif (index > -1) {\n\n\t\tthis.columns.splice(index, 1);\n\t}\n\n\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\tthis.table.modules.responsiveLayout.initialize();\n\t}\n\n\tthis._verticalAlignHeaders();\n\n\tthis.redraw();\n};\n\n//redraw columns\n\nColumnManager.prototype.redraw = function (force) {\n\n\tif (force) {\n\n\t\tif (Tabulator.prototype.helpers.elVisible(this.element)) {\n\n\t\t\tthis._verticalAlignHeaders();\n\t\t}\n\n\t\tthis.table.rowManager.resetScroll();\n\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\n\tif ([\"fitColumns\", \"fitDataStretch\"].indexOf(this.table.modules.layout.getMode()) > -1) {\n\n\t\tthis.table.modules.layout.layout();\n\t} else {\n\n\t\tif (force) {\n\n\t\t\tthis.table.modules.layout.layout();\n\t\t} else {\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tif (this.table.modExists(\"frozenColumns\")) {\n\n\t\tthis.table.modules.frozenColumns.layout();\n\t}\n\n\tif (this.table.modExists(\"columnCalcs\")) {\n\n\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\n\t}\n\n\tif (force) {\n\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\n\n\t\t\tthis.table.modules.persistence.save(\"columns\");\n\t\t}\n\n\t\tif (this.table.modExists(\"columnCalcs\")) {\n\n\t\t\tthis.table.modules.columnCalcs.redraw();\n\t\t}\n\t}\n\n\tthis.table.footerManager.redraw();\n};\n\n//public column object\nvar ColumnComponent = function ColumnComponent(column) {\n\tthis._column = column;\n\tthis.type = \"ColumnComponent\";\n};\n\nColumnComponent.prototype.getElement = function () {\n\treturn this._column.getElement();\n};\n\nColumnComponent.prototype.getDefinition = function () {\n\treturn this._column.getDefinition();\n};\n\nColumnComponent.prototype.getField = function () {\n\treturn this._column.getField();\n};\n\nColumnComponent.prototype.getCells = function () {\n\tvar cells = [];\n\n\tthis._column.cells.forEach(function (cell) {\n\t\tcells.push(cell.getComponent());\n\t});\n\n\treturn cells;\n};\n\nColumnComponent.prototype.getVisibility = function () {\n\tconsole.warn(\"getVisibility function is deprecated, you should now use the isVisible function\");\n\treturn this._column.visible;\n};\n\nColumnComponent.prototype.isVisible = function () {\n\treturn this._column.visible;\n};\n\nColumnComponent.prototype.show = function () {\n\tif (this._column.isGroup) {\n\t\tthis._column.columns.forEach(function (column) {\n\t\t\tcolumn.show();\n\t\t});\n\t} else {\n\t\tthis._column.show();\n\t}\n};\n\nColumnComponent.prototype.hide = function () {\n\tif (this._column.isGroup) {\n\t\tthis._column.columns.forEach(function (column) {\n\t\t\tcolumn.hide();\n\t\t});\n\t} else {\n\t\tthis._column.hide();\n\t}\n};\n\nColumnComponent.prototype.toggle = function () {\n\tif (this._column.visible) {\n\t\tthis.hide();\n\t} else {\n\t\tthis.show();\n\t}\n};\n\nColumnComponent.prototype.delete = function () {\n\treturn this._column.delete();\n};\n\nColumnComponent.prototype.getSubColumns = function () {\n\tvar output = [];\n\n\tif (this._column.columns.length) {\n\t\tthis._column.columns.forEach(function (column) {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t}\n\n\treturn output;\n};\n\nColumnComponent.prototype.getParentColumn = function () {\n\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n};\n\nColumnComponent.prototype._getSelf = function () {\n\treturn this._column;\n};\n\nColumnComponent.prototype.scrollTo = function () {\n\treturn this._column.table.columnManager.scrollToColumn(this._column);\n};\n\nColumnComponent.prototype.getTable = function () {\n\treturn this._column.table;\n};\n\nColumnComponent.prototype.headerFilterFocus = function () {\n\tif (this._column.table.modExists(\"filter\", true)) {\n\t\tthis._column.table.modules.filter.setHeaderFilterFocus(this._column);\n\t}\n};\n\nColumnComponent.prototype.reloadHeaderFilter = function () {\n\tif (this._column.table.modExists(\"filter\", true)) {\n\t\tthis._column.table.modules.filter.reloadHeaderFilter(this._column);\n\t}\n};\n\nColumnComponent.prototype.getHeaderFilterValue = function () {\n\tif (this._column.table.modExists(\"filter\", true)) {\n\t\treturn this._column.table.modules.filter.getHeaderFilterValue(this._column);\n\t}\n};\n\nColumnComponent.prototype.setHeaderFilterValue = function (value) {\n\tif (this._column.table.modExists(\"filter\", true)) {\n\t\tthis._column.table.modules.filter.setHeaderFilterValue(this._column, value);\n\t}\n};\n\nColumnComponent.prototype.move = function (to, after) {\n\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\tif (toColumn) {\n\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t} else {\n\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t}\n};\n\nColumnComponent.prototype.getNextColumn = function () {\n\tvar nextCol = this._column.nextColumn();\n\n\treturn nextCol ? nextCol.getComponent() : false;\n};\n\nColumnComponent.prototype.getPrevColumn = function () {\n\tvar prevCol = this._column.prevColumn();\n\n\treturn prevCol ? prevCol.getComponent() : false;\n};\n\nColumnComponent.prototype.updateDefinition = function (updates) {\n\treturn this._column.updateDefinition(updates);\n};\n\nColumnComponent.prototype.getWidth = function () {\n\treturn this._column.getWidth();\n};\n\nColumnComponent.prototype.setWidth = function (width) {\n\tvar result;\n\n\tif (width === true) {\n\t\tresult = this._column.reinitializeWidth(true);\n\t} else {\n\t\tresult = this._column.setWidth(width);\n\t}\n\n\tif (this._column.table.options.virtualDomHoz) {\n\t\tthis._column.table.vdomHoz.reinitialize(true);\n\t}\n\n\treturn result;\n};\n\nColumnComponent.prototype.validate = function () {\n\treturn this._column.validate();\n};\n\nvar Column = function Column(def, parent) {\n\tvar self = this;\n\n\tthis.table = parent.table;\n\tthis.definition = def; //column definition\n\tthis.parent = parent; //hold parent object\n\tthis.type = \"column\"; //type of element\n\tthis.columns = []; //child columns\n\tthis.cells = []; //cells bound to this column\n\tthis.element = this.createElement(); //column header element\n\tthis.contentElement = false;\n\tthis.titleHolderElement = false;\n\tthis.titleElement = false;\n\tthis.groupElement = this.createGroupElement(); //column group holder element\n\tthis.isGroup = false;\n\tthis.tooltip = false; //hold column tooltip\n\tthis.hozAlign = \"\"; //horizontal text alignment\n\tthis.vertAlign = \"\"; //vert text alignment\n\n\t//multi dimensional filed handling\n\tthis.field = \"\";\n\tthis.fieldStructure = \"\";\n\tthis.getFieldValue = \"\";\n\tthis.setFieldValue = \"\";\n\n\tthis.titleFormatterRendered = false;\n\n\tthis.setField(this.definition.field);\n\n\tif (this.table.options.invalidOptionWarnings) {\n\t\tthis.checkDefinition();\n\t}\n\n\tthis.modules = {}; //hold module variables;\n\n\tthis.cellEvents = {\n\t\tcellClick: false,\n\t\tcellDblClick: false,\n\t\tcellContext: false,\n\t\tcellTap: false,\n\t\tcellDblTap: false,\n\t\tcellTapHold: false,\n\t\tcellMouseEnter: false,\n\t\tcellMouseLeave: false,\n\t\tcellMouseOver: false,\n\t\tcellMouseOut: false,\n\t\tcellMouseMove: false\n\t};\n\n\tthis.width = null; //column width\n\tthis.widthStyled = \"\"; //column width prestyled to improve render efficiency\n\tthis.minWidth = null; //column minimum width\n\tthis.minWidthStyled = \"\"; //column minimum prestyled to improve render efficiency\n\tthis.widthFixed = false; //user has specified a width for this column\n\n\tthis.visible = true; //default visible state\n\n\tthis.component = null;\n\n\tthis._mapDepricatedFunctionality();\n\n\t//initialize column\n\tif (def.columns) {\n\n\t\tthis.isGroup = true;\n\n\t\tdef.columns.forEach(function (def, i) {\n\t\t\tvar newCol = new Column(def, self);\n\t\t\tself.attachColumn(newCol);\n\t\t});\n\n\t\tself.checkColumnVisibility();\n\t} else {\n\t\tparent.registerColumnField(this);\n\t}\n\n\tif (def.rowHandle && this.table.options.movableRows !== false && this.table.modExists(\"moveRow\")) {\n\t\tthis.table.modules.moveRow.setHandle(true);\n\t}\n\n\tthis._buildHeader();\n\n\tthis.bindModuleColumns();\n};\n\nColumn.prototype.createElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-col\");\n\tel.setAttribute(\"role\", \"columnheader\");\n\tel.setAttribute(\"aria-sort\", \"none\");\n\n\treturn el;\n};\n\nColumn.prototype.createGroupElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-col-group-cols\");\n\n\treturn el;\n};\n\nColumn.prototype.checkDefinition = function () {\n\tvar _this5 = this;\n\n\tObject.keys(this.definition).forEach(function (key) {\n\t\tif (_this5.defaultOptionList.indexOf(key) === -1) {\n\t\t\tconsole.warn(\"Invalid column definition option in '\" + (_this5.field || _this5.definition.title) + \"' column:\", key);\n\t\t}\n\t});\n};\n\nColumn.prototype.setField = function (field) {\n\tthis.field = field;\n\tthis.fieldStructure = field ? this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field] : [];\n\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n};\n\n//register column position with column manager\nColumn.prototype.registerColumnPosition = function (column) {\n\tthis.parent.registerColumnPosition(column);\n};\n\n//register column position with column manager\nColumn.prototype.registerColumnField = function (column) {\n\tthis.parent.registerColumnField(column);\n};\n\n//trigger position registration\nColumn.prototype.reRegisterPosition = function () {\n\tif (this.isGroup) {\n\t\tthis.columns.forEach(function (column) {\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t} else {\n\t\tthis.registerColumnPosition(this);\n\t}\n};\n\nColumn.prototype._mapDepricatedFunctionality = function () {\n\tif (typeof this.definition.hideInHtml !== \"undefined\") {\n\t\tthis.definition.htmlOutput = !this.definition.hideInHtml;\n\t\tconsole.warn(\"hideInHtml column definition property is deprecated, you should now use htmlOutput\");\n\t}\n\n\tif (typeof this.definition.align !== \"undefined\") {\n\t\tthis.definition.hozAlign = this.definition.align;\n\t\tconsole.warn(\"align column definition property is deprecated, you should now use hozAlign\");\n\t}\n\n\tif (typeof this.definition.downloadTitle !== \"undefined\") {\n\t\tthis.definition.titleDownload = this.definition.downloadTitle;\n\t\tconsole.warn(\"downloadTitle definition property is deprecated, you should now use titleDownload\");\n\t}\n};\n\nColumn.prototype.setTooltip = function () {\n\tvar self = this,\n\t    def = self.definition;\n\n\t//set header tooltips\n\tvar tooltip = def.headerTooltip || def.tooltip === false ? def.headerTooltip : self.table.options.tooltipsHeader;\n\n\tif (tooltip) {\n\t\tif (tooltip === true) {\n\t\t\tif (def.field) {\n\t\t\t\tself.table.modules.localize.bind(\"columns|\" + def.field, function (value) {\n\t\t\t\t\tself.element.setAttribute(\"title\", value || def.title);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.element.setAttribute(\"title\", def.title);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof tooltip == \"function\") {\n\t\t\t\ttooltip = tooltip(self.getComponent());\n\n\t\t\t\tif (tooltip === false) {\n\t\t\t\t\ttooltip = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.element.setAttribute(\"title\", tooltip);\n\t\t}\n\t} else {\n\t\tself.element.setAttribute(\"title\", \"\");\n\t}\n};\n\n//build header element\nColumn.prototype._buildHeader = function () {\n\tvar self = this,\n\t    def = self.definition;\n\n\twhile (self.element.firstChild) {\n\t\tself.element.removeChild(self.element.firstChild);\n\t}if (def.headerVertical) {\n\t\tself.element.classList.add(\"tabulator-col-vertical\");\n\n\t\tif (def.headerVertical === \"flip\") {\n\t\t\tself.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t}\n\t}\n\n\tself.contentElement = self._bindEvents();\n\n\tself.contentElement = self._buildColumnHeaderContent();\n\n\tself.element.appendChild(self.contentElement);\n\n\tif (self.isGroup) {\n\t\tself._buildGroupHeader();\n\t} else {\n\t\tself._buildColumnHeader();\n\t}\n\n\tself.setTooltip();\n\n\t//set resizable handles\n\tif (self.table.options.resizableColumns && self.table.modExists(\"resizeColumns\")) {\n\t\tself.table.modules.resizeColumns.initializeColumn(\"header\", self, self.element);\n\t}\n\n\t//set resizable handles\n\tif (def.headerFilter && self.table.modExists(\"filter\") && self.table.modExists(\"edit\")) {\n\t\tif (typeof def.headerFilterPlaceholder !== \"undefined\" && def.field) {\n\t\t\tself.table.modules.localize.setHeaderFilterColumnPlaceholder(def.field, def.headerFilterPlaceholder);\n\t\t}\n\n\t\tself.table.modules.filter.initializeColumn(self);\n\t}\n\n\t//set resizable handles\n\tif (self.table.modExists(\"frozenColumns\")) {\n\t\tself.table.modules.frozenColumns.initializeColumn(self);\n\t}\n\n\t//set movable column\n\tif (self.table.options.movableColumns && !self.isGroup && self.table.modExists(\"moveColumn\")) {\n\t\tself.table.modules.moveColumn.initializeColumn(self);\n\t}\n\n\t//set calcs column\n\tif ((def.topCalc || def.bottomCalc) && self.table.modExists(\"columnCalcs\")) {\n\t\tself.table.modules.columnCalcs.initializeColumn(self);\n\t}\n\n\t//handle persistence\n\tif (self.table.modExists(\"persistence\") && self.table.modules.persistence.config.columns) {\n\t\tself.table.modules.persistence.initializeColumn(self);\n\t}\n\n\t//update header tooltip on mouse enter\n\tself.element.addEventListener(\"mouseenter\", function (e) {\n\t\tself.setTooltip();\n\t});\n};\n\nColumn.prototype._bindEvents = function () {\n\n\tvar self = this,\n\t    def = self.definition,\n\t    dblTap,\n\t    tapHold,\n\t    tap;\n\n\t//setup header click event bindings\n\tif (typeof def.headerClick == \"function\") {\n\t\tself.element.addEventListener(\"click\", function (e) {\n\t\t\tdef.headerClick(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (typeof def.headerDblClick == \"function\") {\n\t\tself.element.addEventListener(\"dblclick\", function (e) {\n\t\t\tdef.headerDblClick(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (typeof def.headerContext == \"function\") {\n\t\tself.element.addEventListener(\"contextmenu\", function (e) {\n\t\t\tdef.headerContext(e, self.getComponent());\n\t\t});\n\t}\n\n\t//setup header tap event bindings\n\tif (typeof def.headerTap == \"function\") {\n\t\ttap = false;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\ttap = true;\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tif (tap) {\n\t\t\t\tdef.headerTap(e, self.getComponent());\n\t\t\t}\n\n\t\t\ttap = false;\n\t\t});\n\t}\n\n\tif (typeof def.headerDblTap == \"function\") {\n\t\tdblTap = null;\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\n\t\t\tif (dblTap) {\n\t\t\t\tclearTimeout(dblTap);\n\t\t\t\tdblTap = null;\n\n\t\t\t\tdef.headerDblTap(e, self.getComponent());\n\t\t\t} else {\n\n\t\t\t\tdblTap = setTimeout(function () {\n\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\tdblTap = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (typeof def.headerTapHold == \"function\") {\n\t\ttapHold = null;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\n\t\t\ttapHold = setTimeout(function () {\n\t\t\t\tclearTimeout(tapHold);\n\t\t\t\ttapHold = null;\n\t\t\t\ttap = false;\n\t\t\t\tdef.headerTapHold(e, self.getComponent());\n\t\t\t}, 1000);\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\t\t\ttapHold = null;\n\t\t});\n\t}\n\n\t//store column cell click event bindings\n\tif (typeof def.cellClick == \"function\") {\n\t\tself.cellEvents.cellClick = def.cellClick;\n\t}\n\n\tif (typeof def.cellDblClick == \"function\") {\n\t\tself.cellEvents.cellDblClick = def.cellDblClick;\n\t}\n\n\tif (typeof def.cellContext == \"function\") {\n\t\tself.cellEvents.cellContext = def.cellContext;\n\t}\n\n\t//store column mouse event bindings\n\tif (typeof def.cellMouseEnter == \"function\") {\n\t\tself.cellEvents.cellMouseEnter = def.cellMouseEnter;\n\t}\n\n\tif (typeof def.cellMouseLeave == \"function\") {\n\t\tself.cellEvents.cellMouseLeave = def.cellMouseLeave;\n\t}\n\n\tif (typeof def.cellMouseOver == \"function\") {\n\t\tself.cellEvents.cellMouseOver = def.cellMouseOver;\n\t}\n\n\tif (typeof def.cellMouseOut == \"function\") {\n\t\tself.cellEvents.cellMouseOut = def.cellMouseOut;\n\t}\n\n\tif (typeof def.cellMouseMove == \"function\") {\n\t\tself.cellEvents.cellMouseMove = def.cellMouseMove;\n\t}\n\n\t//setup column cell tap event bindings\n\tif (typeof def.cellTap == \"function\") {\n\t\tself.cellEvents.cellTap = def.cellTap;\n\t}\n\n\tif (typeof def.cellDblTap == \"function\") {\n\t\tself.cellEvents.cellDblTap = def.cellDblTap;\n\t}\n\n\tif (typeof def.cellTapHold == \"function\") {\n\t\tself.cellEvents.cellTapHold = def.cellTapHold;\n\t}\n\n\t//setup column cell edit callbacks\n\tif (typeof def.cellEdited == \"function\") {\n\t\tself.cellEvents.cellEdited = def.cellEdited;\n\t}\n\n\tif (typeof def.cellEditing == \"function\") {\n\t\tself.cellEvents.cellEditing = def.cellEditing;\n\t}\n\n\tif (typeof def.cellEditCancelled == \"function\") {\n\t\tself.cellEvents.cellEditCancelled = def.cellEditCancelled;\n\t}\n};\n\n//build header element for header\nColumn.prototype._buildColumnHeader = function () {\n\tvar _this6 = this;\n\n\tvar def = this.definition,\n\t    table = this.table,\n\t    sortable;\n\n\t//set column sorter\n\tif (table.modExists(\"sort\")) {\n\t\ttable.modules.sort.initializeColumn(this, this.titleHolderElement);\n\t}\n\n\t//set column header context menu\n\tif ((def.headerContextMenu || def.headerClickMenu || def.headerMenu) && table.modExists(\"menu\")) {\n\t\ttable.modules.menu.initializeColumnHeader(this);\n\t}\n\n\t//set column formatter\n\tif (table.modExists(\"format\")) {\n\t\ttable.modules.format.initializeColumn(this);\n\t}\n\n\t//set column editor\n\tif (typeof def.editor != \"undefined\" && table.modExists(\"edit\")) {\n\t\ttable.modules.edit.initializeColumn(this);\n\t}\n\n\t//set colum validator\n\tif (typeof def.validator != \"undefined\" && table.modExists(\"validate\")) {\n\t\ttable.modules.validate.initializeColumn(this);\n\t}\n\n\t//set column mutator\n\tif (table.modExists(\"mutator\")) {\n\t\ttable.modules.mutator.initializeColumn(this);\n\t}\n\n\t//set column accessor\n\tif (table.modExists(\"accessor\")) {\n\t\ttable.modules.accessor.initializeColumn(this);\n\t}\n\n\t//set respoviveLayout\n\tif (_typeof(table.options.responsiveLayout) && table.modExists(\"responsiveLayout\")) {\n\t\ttable.modules.responsiveLayout.initializeColumn(this);\n\t}\n\n\t//set column visibility\n\tif (typeof def.visible != \"undefined\") {\n\t\tif (def.visible) {\n\t\t\tthis.show(true);\n\t\t} else {\n\t\t\tthis.hide(true);\n\t\t}\n\t}\n\n\t//asign additional css classes to column header\n\tif (def.cssClass) {\n\t\tvar classeNames = def.cssClass.split(\" \");\n\t\tclasseNames.forEach(function (className) {\n\t\t\t_this6.element.classList.add(className);\n\t\t});\n\t}\n\n\tif (def.field) {\n\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t}\n\n\t//set min width if present\n\tthis.setMinWidth(typeof def.minWidth == \"undefined\" ? this.table.options.columnMinWidth : parseInt(def.minWidth));\n\n\tthis.reinitializeWidth();\n\n\t//set tooltip if present\n\tthis.tooltip = this.definition.tooltip || this.definition.tooltip === false ? this.definition.tooltip : this.table.options.tooltips;\n\n\t//set orizontal text alignment\n\tthis.hozAlign = typeof this.definition.hozAlign == \"undefined\" ? this.table.options.cellHozAlign : this.definition.hozAlign;\n\tthis.vertAlign = typeof this.definition.vertAlign == \"undefined\" ? this.table.options.cellVertAlign : this.definition.vertAlign;\n\n\tthis.titleElement.style.textAlign = this.definition.headerHozAlign || this.table.options.headerHozAlign;\n};\n\nColumn.prototype._buildColumnHeaderContent = function () {\n\tvar def = this.definition,\n\t    table = this.table;\n\n\tvar contentElement = document.createElement(\"div\");\n\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\tthis.titleHolderElement = document.createElement(\"div\");\n\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\tcontentElement.appendChild(this.titleHolderElement);\n\n\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\treturn contentElement;\n};\n\n//build title element of column\nColumn.prototype._buildColumnHeaderTitle = function () {\n\tvar self = this,\n\t    def = self.definition,\n\t    table = self.table,\n\t    title;\n\n\tvar titleHolderElement = document.createElement(\"div\");\n\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\n\tif (def.editableTitle) {\n\t\tvar titleElement = document.createElement(\"input\");\n\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\ttitleElement.addEventListener(\"click\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\ttitleElement.focus();\n\t\t});\n\n\t\ttitleElement.addEventListener(\"change\", function () {\n\t\t\tdef.title = titleElement.value;\n\t\t\ttable.options.columnTitleChanged.call(self.table, self.getComponent());\n\t\t});\n\n\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\tif (def.field) {\n\t\t\ttable.modules.localize.bind(\"columns|\" + def.field, function (text) {\n\t\t\t\ttitleElement.value = text || def.title || \"&nbsp;\";\n\t\t\t});\n\t\t} else {\n\t\t\ttitleElement.value = def.title || \"&nbsp;\";\n\t\t}\n\t} else {\n\t\tif (def.field) {\n\t\t\ttable.modules.localize.bind(\"columns|\" + def.field, function (text) {\n\t\t\t\tself._formatColumnHeaderTitle(titleHolderElement, text || def.title || \"&nbsp;\");\n\t\t\t});\n\t\t} else {\n\t\t\tself._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t}\n\t}\n\n\treturn titleHolderElement;\n};\n\nColumn.prototype._formatColumnHeaderTitle = function (el, title) {\n\tvar _this7 = this;\n\n\tvar formatter, contents, params, mockCell, onRendered;\n\n\tif (this.definition.titleFormatter && this.table.modExists(\"format\")) {\n\n\t\tformatter = this.table.modules.format.getFormatter(this.definition.titleFormatter);\n\n\t\tonRendered = function onRendered(callback) {\n\t\t\t_this7.titleFormatterRendered = callback;\n\t\t};\n\n\t\tmockCell = {\n\t\t\tgetValue: function getValue() {\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tgetElement: function getElement() {\n\t\t\t\treturn el;\n\t\t\t}\n\t\t};\n\n\t\tparams = this.definition.titleFormatterParams || {};\n\n\t\tparams = typeof params === \"function\" ? params() : params;\n\n\t\tcontents = formatter.call(this.table.modules.format, mockCell, params, onRendered);\n\n\t\tswitch (typeof contents === 'undefined' ? 'undefined' : _typeof(contents)) {\n\t\t\tcase \"object\":\n\t\t\t\tif (contents instanceof Node) {\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t} else {\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\tcase \"null\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t} else {\n\t\tel.innerHTML = title;\n\t}\n};\n\n//build header element for column group\nColumn.prototype._buildGroupHeader = function () {\n\tvar _this8 = this;\n\n\tthis.element.classList.add(\"tabulator-col-group\");\n\tthis.element.setAttribute(\"role\", \"columngroup\");\n\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t//asign additional css classes to column header\n\tif (this.definition.cssClass) {\n\t\tvar classeNames = this.definition.cssClass.split(\" \");\n\t\tclasseNames.forEach(function (className) {\n\t\t\t_this8.element.classList.add(className);\n\t\t});\n\t}\n\n\t//set column header context menu\n\tif ((this.definition.headerContextMenu || this.definition.headerMenu) && this.table.modExists(\"menu\")) {\n\t\tthis.table.modules.menu.initializeColumnHeader(this);\n\t}\n\n\tthis.element.appendChild(this.groupElement);\n};\n\n//flat field lookup\nColumn.prototype._getFlatData = function (data) {\n\treturn data[this.field];\n};\n\n//nested field lookup\nColumn.prototype._getNestedData = function (data) {\n\tvar dataObj = data,\n\t    structure = this.fieldStructure,\n\t    length = structure.length,\n\t    output;\n\n\tfor (var _i = 0; _i < length; _i++) {\n\n\t\tdataObj = dataObj[structure[_i]];\n\n\t\toutput = dataObj;\n\n\t\tif (!dataObj) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn output;\n};\n\n//flat field set\nColumn.prototype._setFlatData = function (data, value) {\n\tif (this.field) {\n\t\tdata[this.field] = value;\n\t}\n};\n\n//nested field set\nColumn.prototype._setNestedData = function (data, value) {\n\tvar dataObj = data,\n\t    structure = this.fieldStructure,\n\t    length = structure.length;\n\n\tfor (var _i2 = 0; _i2 < length; _i2++) {\n\n\t\tif (_i2 == length - 1) {\n\t\t\tdataObj[structure[_i2]] = value;\n\t\t} else {\n\t\t\tif (!dataObj[structure[_i2]]) {\n\t\t\t\tif (typeof value !== \"undefined\") {\n\t\t\t\t\tdataObj[structure[_i2]] = {};\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdataObj = dataObj[structure[_i2]];\n\t\t}\n\t}\n};\n\n//attach column to this group\nColumn.prototype.attachColumn = function (column) {\n\tvar self = this;\n\n\tif (self.groupElement) {\n\t\tself.columns.push(column);\n\t\tself.groupElement.appendChild(column.getElement());\n\t} else {\n\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t}\n};\n\n//vertically align header in column\nColumn.prototype.verticalAlign = function (alignment, height) {\n\n\t//calculate height of column header and group holder element\n\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : height || this.parent.getHeadersElement().clientHeight;\n\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\tthis.element.style.height = parentHeight + \"px\";\n\n\tif (this.isGroup) {\n\t\tthis.groupElement.style.minHeight = parentHeight - this.contentElement.offsetHeight + \"px\";\n\t}\n\n\t//vertically align cell contents\n\tif (!this.isGroup && alignment !== \"top\") {\n\t\tif (alignment === \"bottom\") {\n\t\t\tthis.element.style.paddingTop = this.element.clientHeight - this.contentElement.offsetHeight + \"px\";\n\t\t} else {\n\t\t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) / 2 + \"px\";\n\t\t}\n\t}\n\n\tthis.columns.forEach(function (column) {\n\t\tcolumn.verticalAlign(alignment);\n\t});\n};\n\n//clear vertical alignmenet\nColumn.prototype.clearVerticalAlign = function () {\n\tthis.element.style.paddingTop = \"\";\n\tthis.element.style.height = \"\";\n\tthis.element.style.minHeight = \"\";\n\tthis.groupElement.style.minHeight = \"\";\n\n\tthis.columns.forEach(function (column) {\n\t\tcolumn.clearVerticalAlign();\n\t});\n};\n\nColumn.prototype.bindModuleColumns = function () {\n\t//check if rownum formatter is being used on a column\n\tif (this.definition.formatter == \"rownum\") {\n\t\tthis.table.rowManager.rowNumColumn = this;\n\t}\n};\n\n//// Retreive Column Information ////\n\n//return column header element\nColumn.prototype.getElement = function () {\n\treturn this.element;\n};\n\n//return colunm group element\nColumn.prototype.getGroupElement = function () {\n\treturn this.groupElement;\n};\n\n//return field name\nColumn.prototype.getField = function () {\n\treturn this.field;\n};\n\n//return the first column in a group\nColumn.prototype.getFirstColumn = function () {\n\tif (!this.isGroup) {\n\t\treturn this;\n\t} else {\n\t\tif (this.columns.length) {\n\t\t\treturn this.columns[0].getFirstColumn();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\n//return the last column in a group\nColumn.prototype.getLastColumn = function () {\n\tif (!this.isGroup) {\n\t\treturn this;\n\t} else {\n\t\tif (this.columns.length) {\n\t\t\treturn this.columns[this.columns.length - 1].getLastColumn();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\n//return all columns in a group\nColumn.prototype.getColumns = function () {\n\treturn this.columns;\n};\n\n//return all columns in a group\nColumn.prototype.getCells = function () {\n\treturn this.cells;\n};\n\n//retreive the top column in a group of columns\nColumn.prototype.getTopColumn = function () {\n\tif (this.parent.isGroup) {\n\t\treturn this.parent.getTopColumn();\n\t} else {\n\t\treturn this;\n\t}\n};\n\n//return column definition object\nColumn.prototype.getDefinition = function (updateBranches) {\n\tvar colDefs = [];\n\n\tif (this.isGroup && updateBranches) {\n\t\tthis.columns.forEach(function (column) {\n\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t});\n\n\t\tthis.definition.columns = colDefs;\n\t}\n\n\treturn this.definition;\n};\n\n//////////////////// Actions ////////////////////\n\nColumn.prototype.checkColumnVisibility = function () {\n\tvar visible = false;\n\n\tthis.columns.forEach(function (column) {\n\t\tif (column.visible) {\n\t\t\tvisible = true;\n\t\t}\n\t});\n\n\tif (visible) {\n\t\tthis.show();\n\t\tthis.parent.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), false);\n\t} else {\n\t\tthis.hide();\n\t}\n};\n\n//show column\nColumn.prototype.show = function (silent, responsiveToggle) {\n\tif (!this.visible) {\n\t\tthis.visible = true;\n\n\t\tthis.element.style.display = \"\";\n\n\t\tif (this.parent.isGroup) {\n\t\t\tthis.parent.checkColumnVisibility();\n\t\t}\n\n\t\tthis.cells.forEach(function (cell) {\n\t\t\tcell.show();\n\t\t});\n\n\t\tif (!this.isGroup && this.width === null) {\n\t\t\tthis.reinitializeWidth();\n\t\t}\n\n\t\tthis.table.columnManager._verticalAlignHeaders();\n\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\n\t\t\tthis.table.modules.persistence.save(\"columns\");\n\t\t}\n\n\t\tif (!responsiveToggle && this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\tthis.table.modules.responsiveLayout.updateColumnVisibility(this, this.visible);\n\t\t}\n\n\t\tif (!silent) {\n\t\t\tthis.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), true);\n\t\t}\n\n\t\tif (this.parent.isGroup) {\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tif (!this.silent && this.table.options.virtualDomHoz) {\n\t\t\tthis.table.vdomHoz.reinitialize();\n\t\t}\n\t}\n};\n\n//hide column\nColumn.prototype.hide = function (silent, responsiveToggle) {\n\tif (this.visible) {\n\t\tthis.visible = false;\n\n\t\tthis.element.style.display = \"none\";\n\n\t\tthis.table.columnManager._verticalAlignHeaders();\n\n\t\tif (this.parent.isGroup) {\n\t\t\tthis.parent.checkColumnVisibility();\n\t\t}\n\n\t\tthis.cells.forEach(function (cell) {\n\t\t\tcell.hide();\n\t\t});\n\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\n\t\t\tthis.table.modules.persistence.save(\"columns\");\n\t\t}\n\n\t\tif (!responsiveToggle && this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\tthis.table.modules.responsiveLayout.updateColumnVisibility(this, this.visible);\n\t\t}\n\n\t\tif (!silent) {\n\t\t\tthis.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), false);\n\t\t}\n\n\t\tif (this.parent.isGroup) {\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tif (!this.silent && this.table.options.virtualDomHoz) {\n\t\t\tthis.table.vdomHoz.reinitialize();\n\t\t}\n\t}\n};\n\nColumn.prototype.matchChildWidths = function () {\n\tvar childWidth = 0;\n\n\tif (this.contentElement && this.columns.length) {\n\t\tthis.columns.forEach(function (column) {\n\t\t\tif (column.visible) {\n\t\t\t\tchildWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tthis.contentElement.style.maxWidth = childWidth - 1 + \"px\";\n\n\t\tif (this.parent.isGroup) {\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\t}\n};\n\nColumn.prototype.removeChild = function (child) {\n\tvar index = this.columns.indexOf(child);\n\n\tif (index > -1) {\n\t\tthis.columns.splice(index, 1);\n\t}\n\n\tif (!this.columns.length) {\n\t\tthis.delete();\n\t}\n};\n\nColumn.prototype.setWidth = function (width) {\n\tthis.widthFixed = true;\n\tthis.setWidthActual(width);\n};\n\nColumn.prototype.setWidthActual = function (width) {\n\tif (isNaN(width)) {\n\t\twidth = Math.floor(this.table.element.clientWidth / 100 * parseInt(width));\n\t}\n\n\twidth = Math.max(this.minWidth, width);\n\n\tthis.width = width;\n\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\tthis.element.style.width = this.widthStyled;\n\n\tif (!this.isGroup) {\n\t\tthis.cells.forEach(function (cell) {\n\t\t\tcell.setWidth();\n\t\t});\n\t}\n\n\tif (this.parent.isGroup) {\n\t\tthis.parent.matchChildWidths();\n\t}\n\n\t//set resizable handles\n\tif (this.table.modExists(\"frozenColumns\")) {\n\t\tthis.table.modules.frozenColumns.layout();\n\t}\n};\n\nColumn.prototype.checkCellHeights = function () {\n\tvar rows = [];\n\n\tthis.cells.forEach(function (cell) {\n\t\tif (cell.row.heightInitialized) {\n\t\t\tif (cell.row.getElement().offsetParent !== null) {\n\t\t\t\trows.push(cell.row);\n\t\t\t\tcell.row.clearCellHeight();\n\t\t\t} else {\n\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t}\n\t\t}\n\t});\n\n\trows.forEach(function (row) {\n\t\trow.calcHeight();\n\t});\n\n\trows.forEach(function (row) {\n\t\trow.setCellHeight();\n\t});\n};\n\nColumn.prototype.getWidth = function () {\n\tvar width = 0;\n\n\tif (this.isGroup) {\n\t\tthis.columns.forEach(function (column) {\n\t\t\tif (column.visible) {\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t} else {\n\t\twidth = this.width;\n\t}\n\n\treturn width;\n};\n\nColumn.prototype.getHeight = function () {\n\treturn this.element.offsetHeight;\n};\n\nColumn.prototype.setMinWidth = function (minWidth) {\n\tthis.minWidth = minWidth;\n\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\tthis.element.style.minWidth = this.minWidthStyled;\n\n\tthis.cells.forEach(function (cell) {\n\t\tcell.setMinWidth();\n\t});\n};\n\nColumn.prototype.delete = function () {\n\tvar _this9 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar index;\n\n\t\tif (_this9.isGroup) {\n\t\t\t_this9.columns.forEach(function (column) {\n\t\t\t\tcolumn.delete();\n\t\t\t});\n\t\t}\n\n\t\t//cancel edit if column is currently being edited\n\t\tif (_this9.table.modExists(\"edit\")) {\n\t\t\tif (_this9.table.modules.edit.currentCell.column === _this9) {\n\t\t\t\t_this9.table.modules.edit.cancelEdit();\n\t\t\t}\n\t\t}\n\n\t\tvar cellCount = _this9.cells.length;\n\n\t\tfor (var _i3 = 0; _i3 < cellCount; _i3++) {\n\t\t\t_this9.cells[0].delete();\n\t\t}\n\n\t\tif (_this9.element.parentNode) {\n\t\t\t_this9.element.parentNode.removeChild(_this9.element);\n\t\t}\n\n\t\t_this9.element = false;\n\t\t_this9.contentElement = false;\n\t\t_this9.titleElement = false;\n\t\t_this9.groupElement = false;\n\n\t\tif (_this9.parent.isGroup) {\n\t\t\t_this9.parent.removeChild(_this9);\n\t\t}\n\n\t\t_this9.table.columnManager.deregisterColumn(_this9);\n\n\t\tif (_this9.table.options.virtualDomHoz) {\n\t\t\t_this9.table.vdomHoz.reinitialize(true);\n\t\t}\n\n\t\tresolve();\n\t});\n};\n\nColumn.prototype.columnRendered = function () {\n\tif (this.titleFormatterRendered) {\n\t\tthis.titleFormatterRendered();\n\t}\n};\n\nColumn.prototype.validate = function () {\n\tvar invalid = [];\n\n\tthis.cells.forEach(function (cell) {\n\t\tif (!cell.validate()) {\n\t\t\tinvalid.push(cell.getComponent());\n\t\t}\n\t});\n\n\treturn invalid.length ? invalid : true;\n};\n\n//////////////// Cell Management /////////////////\n\n//generate cell for this column\nColumn.prototype.generateCell = function (row) {\n\tvar self = this;\n\n\tvar cell = new Cell(self, row);\n\n\tthis.cells.push(cell);\n\n\treturn cell;\n};\n\nColumn.prototype.nextColumn = function () {\n\tvar index = this.table.columnManager.findColumnIndex(this);\n\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n};\n\nColumn.prototype._nextVisibleColumn = function (index) {\n\tvar column = this.table.columnManager.getColumnByIndex(index);\n\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n};\n\nColumn.prototype.prevColumn = function () {\n\tvar index = this.table.columnManager.findColumnIndex(this);\n\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n};\n\nColumn.prototype._prevVisibleColumn = function (index) {\n\tvar column = this.table.columnManager.getColumnByIndex(index);\n\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n};\n\nColumn.prototype.reinitializeWidth = function (force) {\n\tthis.widthFixed = false;\n\n\t//set width if present\n\tif (typeof this.definition.width !== \"undefined\" && !force) {\n\t\tthis.setWidth(this.definition.width);\n\t}\n\n\t//hide header filters to prevent them altering column width\n\tif (this.table.modExists(\"filter\")) {\n\t\tthis.table.modules.filter.hideHeaderFilterElements();\n\t}\n\n\tthis.fitToData();\n\n\t//show header filters again after layout is complete\n\tif (this.table.modExists(\"filter\")) {\n\t\tthis.table.modules.filter.showHeaderFilterElements();\n\t}\n};\n\n//set column width to maximum cell width\nColumn.prototype.fitToData = function () {\n\tvar self = this;\n\n\tif (!this.widthFixed) {\n\t\tthis.element.style.width = \"\";\n\n\t\tself.cells.forEach(function (cell) {\n\t\t\tcell.clearWidth();\n\t\t});\n\t}\n\n\tvar maxWidth = this.element.offsetWidth;\n\n\tif (!self.width || !this.widthFixed) {\n\t\tself.cells.forEach(function (cell) {\n\t\t\tvar width = cell.getWidth();\n\n\t\t\tif (width > maxWidth) {\n\t\t\t\tmaxWidth = width;\n\t\t\t}\n\t\t});\n\n\t\tif (maxWidth) {\n\t\t\tself.setWidthActual(maxWidth + 1);\n\t\t}\n\t}\n};\n\nColumn.prototype.updateDefinition = function (updates) {\n\tvar _this10 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar definition;\n\n\t\tif (!_this10.isGroup) {\n\t\t\tdefinition = Object.assign({}, _this10.getDefinition());\n\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t_this10.table.columnManager.addColumn(definition, false, _this10).then(function (column) {\n\n\t\t\t\tif (definition.field == _this10.field) {\n\t\t\t\t\t_this10.field = false; //cleair field name to prevent deletion of duplicate column from arrays\n\t\t\t\t}\n\n\t\t\t\t_this10.delete().then(function () {\n\t\t\t\t\tresolve(column.getComponent());\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\treject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t});\n};\n\nColumn.prototype.deleteCell = function (cell) {\n\tvar index = this.cells.indexOf(cell);\n\n\tif (index > -1) {\n\t\tthis.cells.splice(index, 1);\n\t}\n};\n\nColumn.prototype.defaultOptionList = [\"title\", \"field\", \"columns\", \"visible\", \"align\", \"hozAlign\", \"vertAlign\", \"width\", \"minWidth\", \"widthGrow\", \"widthShrink\", \"resizable\", \"frozen\", \"responsive\", \"tooltip\", \"cssClass\", \"rowHandle\", \"hideInHtml\", \"print\", \"htmlOutput\", \"sorter\", \"sorterParams\", \"formatter\", \"formatterParams\", \"variableHeight\", \"editable\", \"editor\", \"editorParams\", \"validator\", \"mutator\", \"mutatorParams\", \"mutatorData\", \"mutatorDataParams\", \"mutatorEdit\", \"mutatorEditParams\", \"mutatorClipboard\", \"mutatorClipboardParams\", \"accessor\", \"accessorParams\", \"accessorData\", \"accessorDataParams\", \"accessorDownload\", \"accessorDownloadParams\", \"accessorClipboard\", \"accessorClipboardParams\", \"accessorPrint\", \"accessorPrintParams\", \"accessorHtmlOutput\", \"accessorHtmlOutputParams\", \"clipboard\", \"download\", \"downloadTitle\", \"topCalc\", \"topCalcParams\", \"topCalcFormatter\", \"topCalcFormatterParams\", \"bottomCalc\", \"bottomCalcParams\", \"bottomCalcFormatter\", \"bottomCalcFormatterParams\", \"cellClick\", \"cellDblClick\", \"cellContext\", \"cellTap\", \"cellDblTap\", \"cellTapHold\", \"cellMouseEnter\", \"cellMouseLeave\", \"cellMouseOver\", \"cellMouseOut\", \"cellMouseMove\", \"cellEditing\", \"cellEdited\", \"cellEditCancelled\", \"headerSort\", \"headerSortStartingDir\", \"headerSortTristate\", \"headerClick\", \"headerDblClick\", \"headerContext\", \"headerTap\", \"headerDblTap\", \"headerTapHold\", \"headerTooltip\", \"headerVertical\", \"headerHozAlign\", \"editableTitle\", \"titleFormatter\", \"titleFormatterParams\", \"headerFilter\", \"headerFilterPlaceholder\", \"headerFilterParams\", \"headerFilterEmptyCheck\", \"headerFilterFunc\", \"headerFilterFuncParams\", \"headerFilterLiveFilter\", \"print\", \"headerContextMenu\", \"headerMenu\", \"contextMenu\",\n// \"headerClickMenu\",\n\"clickMenu\", \"formatterPrint\", \"formatterPrintParams\", \"formatterClipboard\", \"formatterClipboardParams\", \"formatterHtmlOutput\", \"formatterHtmlOutputParams\", \"titlePrint\", \"titleClipboard\", \"titleHtmlOutput\", \"titleDownload\"];\n\n//////////////// Event Bindings /////////////////\n\n//////////////// Object Generation /////////////////\nColumn.prototype.getComponent = function () {\n\tif (!this.component) {\n\t\tthis.component = new ColumnComponent(this);\n\t}\n\n\treturn this.component;\n};\n\nvar RowManager = function RowManager(table) {\n\n\tthis.table = table;\n\tthis.element = this.createHolderElement(); //containing element\n\tthis.tableElement = this.createTableElement(); //table element\n\tthis.heightFixer = this.createTableElement(); //table element\n\tthis.columnManager = null; //hold column manager object\n\tthis.height = 0; //hold height of table element\n\n\tthis.firstRender = false; //handle first render\n\tthis.renderMode = \"virtual\"; //current rendering mode\n\tthis.fixedHeight = false; //current rendering mode\n\n\tthis.rows = []; //hold row data objects\n\tthis.activeRows = []; //rows currently available to on display in the table\n\tthis.activeRowsCount = 0; //count of active rows\n\n\tthis.displayRows = []; //rows currently on display in the table\n\tthis.displayRowsCount = 0; //count of display rows\n\n\tthis.scrollTop = 0;\n\tthis.scrollLeft = 0;\n\n\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\tthis.vDomBottom = 0; //hold possition for last rendered row in the virtual DOM\n\n\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\n\tthis.rowNumColumn = false; //hold column component for row number column\n\n\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations becore continuing\n\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\tthis.redrawBlockRederInPosition = false; //store latest redraw function calls for when redraw is needed\n};\n\n//////////////// Setup Functions /////////////////\n\nRowManager.prototype.createHolderElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-tableHolder\");\n\tel.setAttribute(\"tabindex\", 0);\n\n\treturn el;\n};\n\nRowManager.prototype.createTableElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-table\");\n\n\treturn el;\n};\n\n//return containing element\nRowManager.prototype.getElement = function () {\n\treturn this.element;\n};\n\n//return table element\nRowManager.prototype.getTableElement = function () {\n\treturn this.tableElement;\n};\n\n//return position of row in table\nRowManager.prototype.getRowPosition = function (row, active) {\n\tif (active) {\n\t\treturn this.activeRows.indexOf(row);\n\t} else {\n\t\treturn this.rows.indexOf(row);\n\t}\n};\n\n//link to column manager\nRowManager.prototype.setColumnManager = function (manager) {\n\tthis.columnManager = manager;\n};\n\nRowManager.prototype.initialize = function () {\n\tvar self = this;\n\n\tself.setRenderMode();\n\n\t//initialize manager\n\tself.element.appendChild(self.tableElement);\n\n\tself.firstRender = true;\n\n\t//scroll header along with table body\n\tself.element.addEventListener(\"scroll\", function () {\n\t\tvar left = self.element.scrollLeft;\n\n\t\t//handle horizontal scrolling\n\t\tif (self.scrollLeft != left) {\n\t\t\tself.columnManager.scrollHorizontal(left);\n\n\t\t\tif (self.table.options.groupBy) {\n\t\t\t\tself.table.modules.groupRows.scrollHeaders(left);\n\t\t\t}\n\n\t\t\tif (self.table.modExists(\"columnCalcs\")) {\n\t\t\t\tself.table.modules.columnCalcs.scrollHorizontal(left);\n\t\t\t}\n\n\t\t\tself.table.options.scrollHorizontal(left);\n\t\t}\n\n\t\tself.scrollLeft = left;\n\t});\n\n\t//handle virtual dom scrolling\n\tif (this.renderMode === \"virtual\") {\n\n\t\tself.element.addEventListener(\"scroll\", function () {\n\t\t\tvar top = self.element.scrollTop;\n\t\t\tvar dir = self.scrollTop > top;\n\n\t\t\t//handle verical scrolling\n\t\t\tif (self.scrollTop != top) {\n\t\t\t\tself.scrollTop = top;\n\t\t\t\tself.scrollVertical(dir);\n\n\t\t\t\tif (self.table.options.ajaxProgressiveLoad == \"scroll\") {\n\t\t\t\t\tself.table.modules.ajax.nextPage(self.element.scrollHeight - self.element.clientHeight - top);\n\t\t\t\t}\n\n\t\t\t\tself.table.options.scrollVertical(top);\n\t\t\t} else {\n\t\t\t\tself.scrollTop = top;\n\t\t\t}\n\t\t});\n\t}\n};\n\n////////////////// Row Manipulation //////////////////\n\nRowManager.prototype.findRow = function (subject) {\n\tvar self = this;\n\n\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\n\n\t\tif (subject instanceof Row) {\n\t\t\t//subject is row element\n\t\t\treturn subject;\n\t\t} else if (subject instanceof RowComponent) {\n\t\t\t//subject is public row component\n\t\t\treturn subject._getSelf() || false;\n\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\n\t\t\t//subject is a HTML element of the row\n\t\t\tvar match = self.rows.find(function (row) {\n\t\t\t\treturn row.element === subject;\n\t\t\t});\n\n\t\t\treturn match || false;\n\t\t}\n\t} else if (typeof subject == \"undefined\" || subject === null) {\n\t\treturn false;\n\t} else {\n\t\t//subject should be treated as the index of the row\n\t\tvar _match = self.rows.find(function (row) {\n\t\t\treturn row.data[self.table.options.index] == subject;\n\t\t});\n\n\t\treturn _match || false;\n\t}\n\n\t//catch all for any other type of input\n\n\treturn false;\n};\n\nRowManager.prototype.getRowFromDataObject = function (data) {\n\tvar match = this.rows.find(function (row) {\n\t\treturn row.data === data;\n\t});\n\n\treturn match || false;\n};\n\nRowManager.prototype.getRowFromPosition = function (position, active) {\n\tif (active) {\n\t\treturn this.activeRows[position];\n\t} else {\n\t\treturn this.rows[position];\n\t}\n};\n\nRowManager.prototype.scrollToRow = function (row, position, ifVisible) {\n\tvar _this11 = this;\n\n\tvar rowIndex = this.getDisplayRows().indexOf(row),\n\t    rowEl = row.getElement(),\n\t    rowTop,\n\t    offset = 0;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (rowIndex > -1) {\n\n\t\t\tif (typeof position === \"undefined\") {\n\t\t\t\tposition = _this11.table.options.scrollToRowPosition;\n\t\t\t}\n\n\t\t\tif (typeof ifVisible === \"undefined\") {\n\t\t\t\tifVisible = _this11.table.options.scrollToRowIfVisible;\n\t\t\t}\n\n\t\t\tif (position === \"nearest\") {\n\t\t\t\tswitch (_this11.renderMode) {\n\t\t\t\t\tcase \"classic\":\n\t\t\t\t\t\trowTop = Tabulator.prototype.helpers.elOffset(rowEl).top;\n\t\t\t\t\t\tposition = Math.abs(_this11.element.scrollTop - rowTop) > Math.abs(_this11.element.scrollTop + _this11.element.clientHeight - rowTop) ? \"bottom\" : \"top\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"virtual\":\n\t\t\t\t\t\tposition = Math.abs(_this11.vDomTop - rowIndex) > Math.abs(_this11.vDomBottom - rowIndex) ? \"bottom\" : \"top\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//check row visibility\n\t\t\tif (!ifVisible) {\n\t\t\t\tif (Tabulator.prototype.helpers.elVisible(rowEl)) {\n\t\t\t\t\toffset = Tabulator.prototype.helpers.elOffset(rowEl).top - Tabulator.prototype.helpers.elOffset(_this11.element).top;\n\n\t\t\t\t\tif (offset > 0 && offset < _this11.element.clientHeight - rowEl.offsetHeight) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//scroll to row\n\t\t\tswitch (_this11.renderMode) {\n\t\t\t\tcase \"classic\":\n\t\t\t\t\t_this11.element.scrollTop = Tabulator.prototype.helpers.elOffset(rowEl).top - Tabulator.prototype.helpers.elOffset(_this11.element).top + _this11.element.scrollTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"virtual\":\n\t\t\t\t\t_this11._virtualRenderFill(rowIndex, true);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t//align to correct position\n\t\t\tswitch (position) {\n\t\t\t\tcase \"middle\":\n\t\t\t\tcase \"center\":\n\n\t\t\t\t\tif (_this11.element.scrollHeight - _this11.element.scrollTop == _this11.element.clientHeight) {\n\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop + (rowEl.offsetTop - _this11.element.scrollTop) - (_this11.element.scrollHeight - rowEl.offsetTop) / 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - _this11.element.clientHeight / 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\tif (_this11.element.scrollHeight - _this11.element.scrollTop == _this11.element.clientHeight) {\n\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - (_this11.element.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - _this11.element.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t} else {\n\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t}\n\t});\n};\n\n////////////////// Data Handling //////////////////\n\nRowManager.prototype.setData = function (data, renderInPosition, columnsChanged) {\n\tvar _this12 = this;\n\n\tvar self = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (renderInPosition && _this12.getDisplayRows().length) {\n\t\t\tif (self.table.options.pagination) {\n\t\t\t\tself._setDataActual(data, true);\n\t\t\t} else {\n\t\t\t\t_this12.reRenderInPosition(function () {\n\t\t\t\t\tself._setDataActual(data);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (_this12.table.options.autoColumns && columnsChanged) {\n\t\t\t\t_this12.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t}\n\t\t\t_this12.resetScroll();\n\n\t\t\t_this12._setDataActual(data);\n\t\t}\n\n\t\tresolve();\n\t});\n};\n\nRowManager.prototype._setDataActual = function (data, renderInPosition) {\n\tvar self = this;\n\n\tself.table.options.dataLoading.call(this.table, data);\n\n\tthis._wipeElements();\n\n\tif (this.table.options.history && this.table.modExists(\"history\")) {\n\t\tthis.table.modules.history.clear();\n\t}\n\n\tif (Array.isArray(data)) {\n\n\t\tif (this.table.modExists(\"selectRow\")) {\n\t\t\tthis.table.modules.selectRow.clearSelectionData();\n\t\t}\n\n\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {\n\t\t\tthis.table.modules.reactiveData.watchData(data);\n\t\t}\n\n\t\tdata.forEach(function (def, i) {\n\t\t\tif (def && (typeof def === 'undefined' ? 'undefined' : _typeof(def)) === \"object\") {\n\t\t\t\tvar row = new Row(def, self);\n\t\t\t\tself.rows.push(row);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t}\n\t\t});\n\n\t\tself.refreshActiveData(false, false, renderInPosition);\n\n\t\tself.table.options.dataLoaded.call(this.table, data);\n\t} else {\n\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data === 'undefined' ? 'undefined' : _typeof(data), \"\\nData:     \", data);\n\t}\n};\n\nRowManager.prototype._wipeElements = function () {\n\tthis.rows.forEach(function (row) {\n\t\trow.wipe();\n\t});\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\tthis.table.modules.groupRows.wipe();\n\t}\n\n\tthis.rows = [];\n\tthis.activeRows = [];\n\tthis.activeRowsCount = 0;\n\tthis.displayRows = [];\n\tthis.displayRowsCount = 0;\n\n\tthis.adjustTableSize();\n};\n\nRowManager.prototype.deleteRow = function (row, blockRedraw) {\n\tvar allIndex = this.rows.indexOf(row),\n\t    activeIndex = this.activeRows.indexOf(row);\n\n\tif (activeIndex > -1) {\n\t\tthis.activeRows.splice(activeIndex, 1);\n\t}\n\n\tif (allIndex > -1) {\n\t\tthis.rows.splice(allIndex, 1);\n\t}\n\n\tthis.setActiveRows(this.activeRows);\n\n\tthis.displayRowIterator(function (rows) {\n\t\tvar displayIndex = rows.indexOf(row);\n\n\t\tif (displayIndex > -1) {\n\t\t\trows.splice(displayIndex, 1);\n\t\t}\n\t});\n\n\tif (!blockRedraw) {\n\t\tthis.reRenderInPosition();\n\t}\n\n\tthis.regenerateRowNumbers();\n\n\tthis.table.options.rowDeleted.call(this.table, row.getComponent());\n\n\tif (this.table.options.dataChanged) {\n\t\tthis.table.options.dataChanged.call(this.table, this.getData());\n\t}\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t} else if (this.table.options.pagination && this.table.modExists(\"page\")) {\n\t\tthis.refreshActiveData(false, false, true);\n\t} else {\n\t\tif (this.table.options.pagination && this.table.modExists(\"page\")) {\n\t\t\tthis.refreshActiveData(\"page\");\n\t\t}\n\t}\n};\n\nRowManager.prototype.addRow = function (data, pos, index, blockRedraw) {\n\n\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\n\tif (this.table.options.history && this.table.modExists(\"history\")) {\n\t\tthis.table.modules.history.action(\"rowAdd\", row, { data: data, pos: pos, index: index });\n\t}\n\n\treturn row;\n};\n\n//add multiple rows\nRowManager.prototype.addRows = function (data, pos, index) {\n\tvar _this13 = this;\n\n\tvar self = this,\n\t    length = 0,\n\t    rows = [];\n\n\treturn new Promise(function (resolve, reject) {\n\t\tpos = _this13.findAddRowPos(pos);\n\n\t\tif (!Array.isArray(data)) {\n\t\t\tdata = [data];\n\t\t}\n\n\t\tlength = data.length - 1;\n\n\t\tif (typeof index == \"undefined\" && pos || typeof index !== \"undefined\" && !pos) {\n\t\t\tdata.reverse();\n\t\t}\n\n\t\tdata.forEach(function (item, i) {\n\t\t\tvar row = self.addRow(item, pos, index, true);\n\t\t\trows.push(row);\n\t\t});\n\n\t\tif (_this13.table.options.groupBy && _this13.table.modExists(\"groupRows\")) {\n\t\t\t_this13.table.modules.groupRows.updateGroupRows(true);\n\t\t} else if (_this13.table.options.pagination && _this13.table.modExists(\"page\")) {\n\t\t\t_this13.refreshActiveData(false, false, true);\n\t\t} else {\n\t\t\t_this13.reRenderInPosition();\n\t\t}\n\n\t\t//recalc column calculations if present\n\t\tif (_this13.table.modExists(\"columnCalcs\")) {\n\t\t\t_this13.table.modules.columnCalcs.recalc(_this13.table.rowManager.activeRows);\n\t\t}\n\n\t\t_this13.regenerateRowNumbers();\n\t\tresolve(rows);\n\t});\n};\n\nRowManager.prototype.findAddRowPos = function (pos) {\n\tif (typeof pos === \"undefined\") {\n\t\tpos = this.table.options.addRowPos;\n\t}\n\n\tif (pos === \"pos\") {\n\t\tpos = true;\n\t}\n\n\tif (pos === \"bottom\") {\n\t\tpos = false;\n\t}\n\n\treturn pos;\n};\n\nRowManager.prototype.addRowActual = function (data, pos, index, blockRedraw) {\n\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t    top = this.findAddRowPos(pos),\n\t    allIndex = -1,\n\t    activeIndex,\n\t    dispRows;\n\n\tif (!index && this.table.options.pagination && this.table.options.paginationAddRow == \"page\") {\n\t\tdispRows = this.getDisplayRows();\n\n\t\tif (top) {\n\t\t\tif (dispRows.length) {\n\t\t\t\tindex = dispRows[0];\n\t\t\t} else {\n\t\t\t\tif (this.activeRows.length) {\n\t\t\t\t\tindex = this.activeRows[this.activeRows.length - 1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (dispRows.length) {\n\t\t\t\tindex = dispRows[dispRows.length - 1];\n\t\t\t\ttop = dispRows.length < this.table.modules.page.getPageSize() ? false : true;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (typeof index !== \"undefined\") {\n\t\tindex = this.findRow(index);\n\t}\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\tthis.table.modules.groupRows.assignRowToGroup(row);\n\n\t\tvar groupRows = row.getGroup().rows;\n\n\t\tif (groupRows.length > 1) {\n\n\t\t\tif (!index || index && groupRows.indexOf(index) == -1) {\n\t\t\t\tif (top) {\n\t\t\t\t\tif (groupRows[0] !== row) {\n\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (groupRows[groupRows.length - 1] !== row) {\n\t\t\t\t\t\tindex = groupRows[groupRows.length - 1];\n\t\t\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (index) {\n\t\tallIndex = this.rows.indexOf(index);\n\t}\n\n\tif (index && allIndex > -1) {\n\t\tactiveIndex = this.activeRows.indexOf(index);\n\n\t\tthis.displayRowIterator(function (rows) {\n\t\t\tvar displayIndex = rows.indexOf(index);\n\n\t\t\tif (displayIndex > -1) {\n\t\t\t\trows.splice(top ? displayIndex : displayIndex + 1, 0, row);\n\t\t\t}\n\t\t});\n\n\t\tif (activeIndex > -1) {\n\t\t\tthis.activeRows.splice(top ? activeIndex : activeIndex + 1, 0, row);\n\t\t}\n\n\t\tthis.rows.splice(top ? allIndex : allIndex + 1, 0, row);\n\t} else {\n\n\t\tif (top) {\n\n\t\t\tthis.displayRowIterator(function (rows) {\n\t\t\t\trows.unshift(row);\n\t\t\t});\n\n\t\t\tthis.activeRows.unshift(row);\n\t\t\tthis.rows.unshift(row);\n\t\t} else {\n\t\t\tthis.displayRowIterator(function (rows) {\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\tthis.activeRows.push(row);\n\t\t\tthis.rows.push(row);\n\t\t}\n\t}\n\n\tthis.setActiveRows(this.activeRows);\n\n\tthis.table.options.rowAdded.call(this.table, row.getComponent());\n\n\tif (this.table.options.dataChanged) {\n\t\tthis.table.options.dataChanged.call(this.table, this.getData());\n\t}\n\n\tif (!blockRedraw) {\n\t\tthis.reRenderInPosition();\n\t}\n\n\treturn row;\n};\n\nRowManager.prototype.moveRow = function (from, to, after) {\n\tif (this.table.options.history && this.table.modExists(\"history\")) {\n\t\tthis.table.modules.history.action(\"rowMove\", from, { posFrom: this.getRowPosition(from), posTo: this.getRowPosition(to), to: to, after: after });\n\t}\n\n\tthis.moveRowActual(from, to, after);\n\n\tthis.regenerateRowNumbers();\n\n\tthis.table.options.rowMoved.call(this.table, from.getComponent());\n};\n\nRowManager.prototype.moveRowActual = function (from, to, after) {\n\tvar _this14 = this;\n\n\tthis._moveRowInArray(this.rows, from, to, after);\n\tthis._moveRowInArray(this.activeRows, from, to, after);\n\n\tthis.displayRowIterator(function (rows) {\n\t\t_this14._moveRowInArray(rows, from, to, after);\n\t});\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\n\t\tif (!after && to instanceof Group) {\n\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t}\n\n\t\tvar toGroup = to.getGroup();\n\t\tvar fromGroup = from.getGroup();\n\n\t\tif (toGroup === fromGroup) {\n\t\t\tthis._moveRowInArray(toGroup.rows, from, to, after);\n\t\t} else {\n\t\t\tif (fromGroup) {\n\t\t\t\tfromGroup.removeRow(from);\n\t\t\t}\n\n\t\t\ttoGroup.insertRow(from, to, after);\n\t\t}\n\t}\n};\n\nRowManager.prototype._moveRowInArray = function (rows, from, to, after) {\n\tvar fromIndex, toIndex, start, end;\n\n\tif (from !== to) {\n\n\t\tfromIndex = rows.indexOf(from);\n\n\t\tif (fromIndex > -1) {\n\n\t\t\trows.splice(fromIndex, 1);\n\n\t\t\ttoIndex = rows.indexOf(to);\n\n\t\t\tif (toIndex > -1) {\n\n\t\t\t\tif (after) {\n\t\t\t\t\trows.splice(toIndex + 1, 0, from);\n\t\t\t\t} else {\n\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t}\n\t\t}\n\n\t\t//restyle rows\n\t\tif (rows === this.getDisplayRows()) {\n\n\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex + 1;\n\n\t\t\tfor (var _i4 = start; _i4 <= end; _i4++) {\n\t\t\t\tif (rows[_i4]) {\n\t\t\t\t\tthis.styleRow(rows[_i4], _i4);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nRowManager.prototype.clearData = function () {\n\tthis.setData([]);\n};\n\nRowManager.prototype.getRowIndex = function (row) {\n\treturn this.findRowIndex(row, this.rows);\n};\n\nRowManager.prototype.getDisplayRowIndex = function (row) {\n\tvar index = this.getDisplayRows().indexOf(row);\n\treturn index > -1 ? index : false;\n};\n\nRowManager.prototype.nextDisplayRow = function (row, rowOnly) {\n\tvar index = this.getDisplayRowIndex(row),\n\t    nextRow = false;\n\n\tif (index !== false && index < this.displayRowsCount - 1) {\n\t\tnextRow = this.getDisplayRows()[index + 1];\n\t}\n\n\tif (nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")) {\n\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t}\n\n\treturn nextRow;\n};\n\nRowManager.prototype.prevDisplayRow = function (row, rowOnly) {\n\tvar index = this.getDisplayRowIndex(row),\n\t    prevRow = false;\n\n\tif (index) {\n\t\tprevRow = this.getDisplayRows()[index - 1];\n\t}\n\n\tif (rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")) {\n\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t}\n\n\treturn prevRow;\n};\n\nRowManager.prototype.findRowIndex = function (row, list) {\n\tvar rowIndex;\n\n\trow = this.findRow(row);\n\n\tif (row) {\n\t\trowIndex = list.indexOf(row);\n\n\t\tif (rowIndex > -1) {\n\t\t\treturn rowIndex;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nRowManager.prototype.getData = function (active, transform) {\n\tvar output = [],\n\t    rows = this.getRows(active);\n\n\trows.forEach(function (row) {\n\t\tif (row.type == \"row\") {\n\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t}\n\t});\n\n\treturn output;\n};\n\nRowManager.prototype.getComponents = function (active) {\n\tvar output = [],\n\t    rows = this.getRows(active);\n\n\trows.forEach(function (row) {\n\t\toutput.push(row.getComponent());\n\t});\n\n\treturn output;\n};\n\nRowManager.prototype.getDataCount = function (active) {\n\tvar rows = this.getRows(active);\n\n\treturn rows.length;\n};\n\nRowManager.prototype._genRemoteRequest = function () {\n\tvar _this15 = this;\n\n\tvar table = this.table,\n\t    options = table.options,\n\t    params = {};\n\n\tif (table.modExists(\"page\")) {\n\t\t//set sort data if defined\n\t\tif (options.ajaxSorting) {\n\t\t\tvar sorters = this.table.modules.sort.getSort();\n\n\t\t\tsorters.forEach(function (item) {\n\t\t\t\tdelete item.column;\n\t\t\t});\n\n\t\t\tparams[this.table.modules.page.paginationDataSentNames.sorters] = sorters;\n\t\t}\n\n\t\t//set filter data if defined\n\t\tif (options.ajaxFiltering) {\n\t\t\tvar filters = this.table.modules.filter.getFilters(true, true);\n\n\t\t\tparams[this.table.modules.page.paginationDataSentNames.filters] = filters;\n\t\t}\n\n\t\tthis.table.modules.ajax.setParams(params, true);\n\t}\n\n\ttable.modules.ajax.sendRequest().then(function (data) {\n\t\t_this15._setDataActual(data, true);\n\t}).catch(function (e) {});\n};\n\n//choose the path to refresh data after a filter update\nRowManager.prototype.filterRefresh = function () {\n\tvar table = this.table,\n\t    options = table.options,\n\t    left = this.scrollLeft;\n\n\tif (options.ajaxFiltering) {\n\t\tif (options.pagination == \"remote\" && table.modExists(\"page\")) {\n\t\t\ttable.modules.page.reset(true);\n\t\t\ttable.modules.page.setPage(1).then(function () {}).catch(function () {});\n\t\t} else if (options.ajaxProgressiveLoad) {\n\t\t\ttable.modules.ajax.loadData().then(function () {}).catch(function () {});\n\t\t} else {\n\t\t\t//assume data is url, make ajax call to url to get data\n\t\t\tthis._genRemoteRequest();\n\t\t}\n\t} else {\n\t\tthis.refreshActiveData(\"filter\");\n\t}\n\n\tthis.scrollHorizontal(left);\n};\n\n//choose the path to refresh data after a sorter update\nRowManager.prototype.sorterRefresh = function (loadOrignalData) {\n\tvar table = this.table,\n\t    options = this.table.options,\n\t    left = this.scrollLeft;\n\n\tif (options.ajaxSorting) {\n\t\tif ((options.pagination == \"remote\" || options.progressiveLoad) && table.modExists(\"page\")) {\n\t\t\ttable.modules.page.reset(true);\n\t\t\ttable.modules.page.setPage(1).then(function () {}).catch(function () {});\n\t\t} else if (options.ajaxProgressiveLoad) {\n\t\t\ttable.modules.ajax.loadData().then(function () {}).catch(function () {});\n\t\t} else {\n\t\t\t//assume data is url, make ajax call to url to get data\n\t\t\tthis._genRemoteRequest();\n\t\t}\n\t} else {\n\t\tthis.refreshActiveData(loadOrignalData ? \"filter\" : \"sort\");\n\t}\n\n\tthis.scrollHorizontal(left);\n};\n\nRowManager.prototype.scrollHorizontal = function (left) {\n\tthis.scrollLeft = left;\n\tthis.element.scrollLeft = left;\n\n\tif (this.table.options.groupBy) {\n\t\tthis.table.modules.groupRows.scrollHeaders(left);\n\t}\n\n\tif (this.table.modExists(\"columnCalcs\")) {\n\t\tthis.table.modules.columnCalcs.scrollHorizontal(left);\n\t}\n};\n\n//set active data set\nRowManager.prototype.refreshActiveData = function (stage, skipStage, renderInPosition) {\n\tvar self = this,\n\t    table = this.table,\n\t    cascadeOrder = [\"all\", \"filter\", \"sort\", \"display\", \"freeze\", \"group\", \"tree\", \"page\"],\n\t    displayIndex;\n\n\tif (this.redrawBlock) {\n\n\t\tif (!this.redrawBlockRestoreConfig || cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage)) {\n\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\tstage: stage,\n\t\t\t\tskipStage: skipStage,\n\t\t\t\trenderInPosition: renderInPosition\n\t\t\t};\n\t\t}\n\n\t\treturn;\n\t} else {\n\n\t\tif (self.table.modExists(\"edit\")) {\n\t\t\tself.table.modules.edit.cancelEdit();\n\t\t}\n\n\t\tif (!stage) {\n\t\t\tstage = \"all\";\n\t\t}\n\n\t\tif (table.options.selectable && !table.options.selectablePersistence && table.modExists(\"selectRow\")) {\n\t\t\ttable.modules.selectRow.deselectRows();\n\t\t}\n\n\t\t//cascade through data refresh stages\n\t\tswitch (stage) {\n\t\t\tcase \"all\":\n\n\t\t\tcase \"filter\":\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (table.modExists(\"filter\")) {\n\t\t\t\t\t\tself.setActiveRows(table.modules.filter.filter(self.rows));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.setActiveRows(self.rows.slice(0));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\n\t\t\tcase \"sort\":\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (table.modExists(\"sort\")) {\n\t\t\t\t\t\ttable.modules.sort.sort(this.activeRows);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\n\t\t\t\t//regenerate row numbers for row number formatter if in use\n\t\t\t\tthis.regenerateRowNumbers();\n\n\t\t\t//generic stage to allow for pipeline trigger after the data manipulation stage\n\t\t\tcase \"display\":\n\t\t\t\tthis.resetDisplayRows();\n\n\t\t\tcase \"freeze\":\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (this.table.modExists(\"frozenRows\")) {\n\t\t\t\t\t\tif (table.modules.frozenRows.isFrozen()) {\n\t\t\t\t\t\t\tif (!table.modules.frozenRows.getDisplayIndex()) {\n\t\t\t\t\t\t\t\ttable.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex());\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdisplayIndex = table.modules.frozenRows.getDisplayIndex();\n\n\t\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.frozenRows.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\n\n\t\t\t\t\t\t\tif (displayIndex !== true) {\n\t\t\t\t\t\t\t\ttable.modules.frozenRows.setDisplayIndex(displayIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\n\t\t\tcase \"group\":\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (table.options.groupBy && table.modExists(\"groupRows\")) {\n\n\t\t\t\t\t\tif (!table.modules.groupRows.getDisplayIndex()) {\n\t\t\t\t\t\t\ttable.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdisplayIndex = table.modules.groupRows.getDisplayIndex();\n\n\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.groupRows.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\n\n\t\t\t\t\t\tif (displayIndex !== true) {\n\t\t\t\t\t\t\ttable.modules.groupRows.setDisplayIndex(displayIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\n\t\t\tcase \"tree\":\n\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (table.options.dataTree && table.modExists(\"dataTree\")) {\n\t\t\t\t\t\tif (!table.modules.dataTree.getDisplayIndex()) {\n\t\t\t\t\t\t\ttable.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdisplayIndex = table.modules.dataTree.getDisplayIndex();\n\n\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.dataTree.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\n\n\t\t\t\t\t\tif (displayIndex !== true) {\n\t\t\t\t\t\t\ttable.modules.dataTree.setDisplayIndex(displayIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\n\t\t\t\tif (table.options.pagination && table.modExists(\"page\") && !renderInPosition) {\n\t\t\t\t\tif (table.modules.page.getMode() == \"local\") {\n\t\t\t\t\t\ttable.modules.page.reset();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tcase \"page\":\n\t\t\t\tif (!skipStage) {\n\t\t\t\t\tif (table.options.pagination && table.modExists(\"page\")) {\n\n\t\t\t\t\t\tif (!table.modules.page.getDisplayIndex()) {\n\t\t\t\t\t\t\ttable.modules.page.setDisplayIndex(this.getNextDisplayIndex());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdisplayIndex = table.modules.page.getDisplayIndex();\n\n\t\t\t\t\t\tif (table.modules.page.getMode() == \"local\") {\n\t\t\t\t\t\t\ttable.modules.page.setMaxRows(this.getDisplayRows(displayIndex - 1).length);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.page.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\n\n\t\t\t\t\t\tif (displayIndex !== true) {\n\t\t\t\t\t\t\ttable.modules.page.setDisplayIndex(displayIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskipStage = false;\n\t\t\t\t}\n\t\t}\n\n\t\tif (Tabulator.prototype.helpers.elVisible(self.element)) {\n\t\t\tif (renderInPosition) {\n\t\t\t\tself.reRenderInPosition();\n\t\t\t} else {\n\n\t\t\t\tif (stage === \"all\" && this.table.options.virtualDomHoz) {\n\t\t\t\t\tthis.table.vdomHoz.dataChange();\n\t\t\t\t}\n\n\t\t\t\tself.renderTable();\n\n\t\t\t\tif (table.options.layoutColumnsOnNewData) {\n\t\t\t\t\tself.table.columnManager.redraw(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (table.modExists(\"columnCalcs\")) {\n\t\t\ttable.modules.columnCalcs.recalc(this.activeRows);\n\t\t}\n\t}\n};\n\n//regenerate row numbers for row number formatter if in use\nRowManager.prototype.regenerateRowNumbers = function () {\n\tvar _this16 = this;\n\n\tif (this.rowNumColumn) {\n\t\tthis.activeRows.forEach(function (row) {\n\t\t\tvar cell = row.getCell(_this16.rowNumColumn);\n\n\t\t\tif (cell) {\n\t\t\t\tcell._generateContents();\n\t\t\t}\n\t\t});\n\t}\n};\n\nRowManager.prototype.setActiveRows = function (activeRows) {\n\tthis.activeRows = activeRows;\n\tthis.activeRowsCount = this.activeRows.length;\n};\n\n//reset display rows array\nRowManager.prototype.resetDisplayRows = function () {\n\tthis.displayRows = [];\n\n\tthis.displayRows.push(this.activeRows.slice(0));\n\n\tthis.displayRowsCount = this.displayRows[0].length;\n\n\tif (this.table.modExists(\"frozenRows\")) {\n\t\tthis.table.modules.frozenRows.setDisplayIndex(0);\n\t}\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\tthis.table.modules.groupRows.setDisplayIndex(0);\n\t}\n\n\tif (this.table.options.pagination && this.table.modExists(\"page\")) {\n\t\tthis.table.modules.page.setDisplayIndex(0);\n\t}\n};\n\nRowManager.prototype.getNextDisplayIndex = function () {\n\treturn this.displayRows.length;\n};\n\n//set display row pipeline data\nRowManager.prototype.setDisplayRows = function (displayRows, index) {\n\n\tvar output = true;\n\n\tif (index && typeof this.displayRows[index] != \"undefined\") {\n\t\tthis.displayRows[index] = displayRows;\n\t\toutput = true;\n\t} else {\n\t\tthis.displayRows.push(displayRows);\n\t\toutput = index = this.displayRows.length - 1;\n\t}\n\n\tif (index == this.displayRows.length - 1) {\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length - 1].length;\n\t}\n\n\treturn output;\n};\n\nRowManager.prototype.getDisplayRows = function (index) {\n\tif (typeof index == \"undefined\") {\n\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length - 1] : [];\n\t} else {\n\t\treturn this.displayRows[index] || [];\n\t}\n};\n\nRowManager.prototype.getVisibleRows = function (viewable) {\n\tvar topEdge = this.element.scrollTop,\n\t    bottomEdge = this.element.clientHeight + topEdge,\n\t    topFound = false,\n\t    topRow = 0,\n\t    bottomRow = 0,\n\t    rows = this.getDisplayRows();\n\n\tif (viewable) {\n\n\t\tthis.getDisplayRows();\n\t\tfor (var i = this.vDomTop; i <= this.vDomBottom; i++) {\n\t\t\tif (rows[i]) {\n\t\t\t\tif (!topFound) {\n\t\t\t\t\tif (topEdge - rows[i].getElement().offsetTop >= 0) {\n\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\tif (bottomEdge - rows[i].getElement().offsetTop >= 0) {\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (bottomEdge - rows[i].getElement().offsetTop >= 0) {\n\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttopRow = this.vDomTop;\n\t\tbottomRow = this.vDomBottom;\n\t}\n\n\treturn rows.slice(topRow, bottomRow + 1);\n};\n\n//repeat action accross display rows\nRowManager.prototype.displayRowIterator = function (callback) {\n\tthis.displayRows.forEach(callback);\n\n\tthis.displayRowsCount = this.displayRows[this.displayRows.length - 1].length;\n};\n\n//return only actual rows (not group headers etc)\nRowManager.prototype.getRows = function (active) {\n\tvar rows;\n\n\tswitch (active) {\n\t\tcase \"active\":\n\t\t\trows = this.activeRows;\n\t\t\tbreak;\n\n\t\tcase \"display\":\n\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\tbreak;\n\n\t\tcase \"visible\":\n\t\t\trows = this.getVisibleRows(true);\n\t\t\tbreak;\n\n\t\tcase \"selected\":\n\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\trows = this.rows;\n\t}\n\n\treturn rows;\n};\n\n///////////////// Table Rendering /////////////////\n\n//trigger rerender of table in current position\nRowManager.prototype.reRenderInPosition = function (callback) {\n\tif (this.getRenderMode() == \"virtual\") {\n\n\t\tif (this.redrawBlock) {\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis.redrawBlockRederInPosition = true;\n\t\t\t}\n\t\t} else {\n\t\t\tvar scrollTop = this.element.scrollTop;\n\t\t\tvar topRow = false;\n\t\t\tvar topOffset = false;\n\n\t\t\tvar left = this.scrollLeft;\n\n\t\t\tvar rows = this.getDisplayRows();\n\n\t\t\tfor (var i = this.vDomTop; i <= this.vDomBottom; i++) {\n\n\t\t\t\tif (rows[i]) {\n\t\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\t\tif (topOffset === false || Math.abs(diff) < topOffset) {\n\t\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\n\t\t\tthis._virtualRenderFill(topRow === false ? this.displayRowsCount - 1 : topRow, true, topOffset || 0);\n\n\t\t\tthis.scrollHorizontal(left);\n\t\t}\n\t} else {\n\t\tthis.renderTable();\n\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t}\n};\n\nRowManager.prototype.setRenderMode = function () {\n\n\tif (this.table.options.virtualDom) {\n\n\t\tthis.renderMode = \"virtual\";\n\n\t\tif (this.table.element.clientHeight || this.table.options.height) {\n\t\t\tthis.fixedHeight = true;\n\t\t} else {\n\t\t\tthis.fixedHeight = false;\n\t\t}\n\t} else {\n\t\tthis.renderMode = \"classic\";\n\t}\n};\n\nRowManager.prototype.getRenderMode = function () {\n\treturn this.renderMode;\n};\n\nRowManager.prototype.renderTable = function () {\n\n\tthis.table.options.renderStarted.call(this.table);\n\n\tthis.element.scrollTop = 0;\n\n\tswitch (this.renderMode) {\n\t\tcase \"classic\":\n\t\t\tthis._simpleRender();\n\t\t\tbreak;\n\n\t\tcase \"virtual\":\n\t\t\tthis._virtualRenderFill();\n\t\t\tbreak;\n\t}\n\n\tif (this.firstRender) {\n\t\tif (this.displayRowsCount) {\n\t\t\tthis.firstRender = false;\n\t\t\tthis.table.modules.layout.layout();\n\t\t} else {\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t}\n\n\tif (this.table.modExists(\"frozenColumns\")) {\n\t\tthis.table.modules.frozenColumns.layout();\n\t}\n\n\tif (!this.displayRowsCount) {\n\t\tif (this.table.options.placeholder) {\n\n\t\t\tthis.table.options.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\n\t\t\tthis.getElement().appendChild(this.table.options.placeholder);\n\t\t\tthis.table.options.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t}\n\t}\n\n\tthis.table.options.renderComplete.call(this.table);\n};\n\n//simple render on heightless table\nRowManager.prototype._simpleRender = function () {\n\tthis._clearVirtualDom();\n\n\tif (this.displayRowsCount) {\n\t\tthis.checkClassicModeGroupHeaderWidth();\n\t} else {\n\t\tthis.renderEmptyScroll();\n\t}\n};\n\nRowManager.prototype.checkClassicModeGroupHeaderWidth = function () {\n\tvar self = this,\n\t    element = this.tableElement,\n\t    onlyGroupHeaders = true;\n\n\tself.getDisplayRows().forEach(function (row, index) {\n\t\tself.styleRow(row, index);\n\t\telement.appendChild(row.getElement());\n\t\trow.initialize(true);\n\n\t\tif (row.type !== \"group\") {\n\t\t\tonlyGroupHeaders = false;\n\t\t}\n\t});\n\n\tif (onlyGroupHeaders) {\n\t\telement.style.minWidth = self.table.columnManager.getWidth() + \"px\";\n\t} else {\n\t\telement.style.minWidth = \"\";\n\t}\n};\n\n//show scrollbars on empty table div\nRowManager.prototype.renderEmptyScroll = function () {\n\tif (this.table.options.placeholder) {\n\t\tthis.tableElement.style.display = \"none\";\n\t} else {\n\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t// this.tableElement.style.visibility = \"hidden\";\n\t}\n};\n\nRowManager.prototype._clearVirtualDom = function () {\n\tvar element = this.tableElement;\n\n\tif (this.table.options.placeholder && this.table.options.placeholder.parentNode) {\n\t\tthis.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);\n\t}\n\n\t// element.children.detach();\n\twhile (element.firstChild) {\n\t\telement.removeChild(element.firstChild);\n\t}element.style.paddingTop = \"\";\n\telement.style.paddingBottom = \"\";\n\telement.style.minWidth = \"\";\n\telement.style.minHeight = \"\";\n\telement.style.display = \"\";\n\telement.style.visibility = \"\";\n\n\tthis.scrollTop = 0;\n\tthis.scrollLeft = 0;\n\tthis.vDomTop = 0;\n\tthis.vDomBottom = 0;\n\tthis.vDomTopPad = 0;\n\tthis.vDomBottomPad = 0;\n};\n\nRowManager.prototype.styleRow = function (row, index) {\n\tvar rowEl = row.getElement();\n\n\tif (index % 2) {\n\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t} else {\n\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t}\n};\n\n//full virtual render\nRowManager.prototype._virtualRenderFill = function (position, forceMove, offset) {\n\tvar self = this,\n\t    element = self.tableElement,\n\t    holder = self.element,\n\t    topPad = 0,\n\t    rowsHeight = 0,\n\t    topPadHeight = 0,\n\t    i = 0,\n\t    onlyGroupHeaders = true,\n\t    rows = self.getDisplayRows();\n\n\tposition = position || 0;\n\n\toffset = offset || 0;\n\n\tif (!position) {\n\t\tself._clearVirtualDom();\n\t} else {\n\t\twhile (element.firstChild) {\n\t\t\telement.removeChild(element.firstChild);\n\t\t} //check if position is too close to bottom of table\n\t\tvar heightOccupied = (self.displayRowsCount - position + 1) * self.vDomRowHeight;\n\n\t\tif (heightOccupied < self.height) {\n\t\t\tposition -= Math.ceil((self.height - heightOccupied) / self.vDomRowHeight);\n\n\t\t\tif (position < 0) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\t\t}\n\n\t\t//calculate initial pad\n\t\ttopPad = Math.min(Math.max(Math.floor(self.vDomWindowBuffer / self.vDomRowHeight), self.vDomWindowMinMarginRows), position);\n\t\tposition -= topPad;\n\t}\n\n\tif (self.displayRowsCount && Tabulator.prototype.helpers.elVisible(self.element)) {\n\n\t\tself.vDomTop = position;\n\n\t\tself.vDomBottom = position - 1;\n\n\t\twhile ((rowsHeight <= self.height + self.vDomWindowBuffer || i < self.vDomWindowMinTotalRows) && self.vDomBottom < self.displayRowsCount - 1) {\n\t\t\tvar index = self.vDomBottom + 1,\n\t\t\t    row = rows[index],\n\t\t\t    rowHeight = 0;\n\n\t\t\tself.styleRow(row, index);\n\n\t\t\telement.appendChild(row.getElement());\n\n\t\t\trow.initialize();\n\n\t\t\tif (!row.heightInitialized) {\n\t\t\t\trow.normalizeHeight(true);\n\t\t\t}\n\n\t\t\t// if(!row.initialized){\n\t\t\t// \trow.initialize(true);\n\t\t\t// }else{\n\t\t\t// \tif(!row.heightInitialized){\n\t\t\t// \t\trow.normalizeHeight(true);\n\t\t\t// \t}\n\t\t\t// }\n\n\t\t\trowHeight = row.getHeight();\n\n\t\t\tif (i < topPad) {\n\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t} else {\n\t\t\t\trowsHeight += rowHeight;\n\t\t\t}\n\n\t\t\tif (rowHeight > this.vDomWindowBuffer) {\n\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t}\n\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\n\t\t\tself.vDomBottom++;\n\t\t\ti++;\n\t\t}\n\n\t\tif (!position) {\n\t\t\tthis.vDomTopPad = 0;\n\t\t\t//adjust rowheight to match average of rendered elements\n\t\t\tself.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / i);\n\t\t\tself.vDomBottomPad = self.vDomRowHeight * (self.displayRowsCount - self.vDomBottom - 1);\n\n\t\t\tself.vDomScrollHeight = topPadHeight + rowsHeight + self.vDomBottomPad - self.height;\n\t\t} else {\n\t\t\tself.vDomTopPad = !forceMove ? self.scrollTop - topPadHeight : self.vDomRowHeight * this.vDomTop + offset;\n\t\t\tself.vDomBottomPad = self.vDomBottom == self.displayRowsCount - 1 ? 0 : Math.max(self.vDomScrollHeight - self.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t}\n\n\t\telement.style.paddingTop = self.vDomTopPad + \"px\";\n\t\telement.style.paddingBottom = self.vDomBottomPad + \"px\";\n\n\t\tif (forceMove) {\n\t\t\tthis.scrollTop = self.vDomTopPad + topPadHeight + offset - (this.element.scrollWidth > this.element.clientWidth ? this.element.offsetHeight - this.element.clientHeight : 0);\n\t\t}\n\n\t\tthis.scrollTop = Math.min(this.scrollTop, this.element.scrollHeight - this.height);\n\n\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\tif (this.element.scrollWidth > this.element.offsetWidth && forceMove) {\n\t\t\tthis.scrollTop += this.element.offsetHeight - this.element.clientHeight;\n\t\t}\n\n\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\tholder.scrollTop = this.scrollTop;\n\n\t\telement.style.minWidth = onlyGroupHeaders ? self.table.columnManager.getWidth() + \"px\" : \"\";\n\n\t\tif (self.table.options.groupBy) {\n\t\t\tif (self.table.modules.layout.getMode() != \"fitDataFill\" && self.displayRowsCount == self.table.modules.groupRows.countGroups()) {\n\t\t\t\tself.tableElement.style.minWidth = self.table.columnManager.getWidth();\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthis.renderEmptyScroll();\n\t}\n\n\tif (!this.fixedHeight) {\n\t\tthis.adjustTableSize();\n\t}\n};\n\n//handle vertical scrolling\nRowManager.prototype.scrollVertical = function (dir) {\n\tvar topDiff = this.scrollTop - this.vDomScrollPosTop;\n\tvar bottomDiff = this.scrollTop - this.vDomScrollPosBottom;\n\tvar margin = this.vDomWindowBuffer * 2;\n\n\tif (-topDiff > margin || bottomDiff > margin) {\n\t\t//if big scroll redraw table;\n\t\tvar left = this.scrollLeft;\n\t\tthis._virtualRenderFill(Math.floor(this.element.scrollTop / this.element.scrollHeight * this.displayRowsCount));\n\t\tthis.scrollHorizontal(left);\n\t} else {\n\n\t\tif (dir) {\n\t\t\t//scrolling up\n\t\t\tif (topDiff < 0) {\n\n\t\t\t\tthis._addTopRow(-topDiff);\n\t\t\t}\n\n\t\t\tif (bottomDiff < 0) {\n\n\t\t\t\t//hide bottom row if needed\n\t\t\t\tif (this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer) {\n\t\t\t\t\tthis._removeBottomRow(-bottomDiff);\n\t\t\t\t} else {\n\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t//scrolling down\n\t\t\tif (topDiff >= 0) {\n\n\t\t\t\t//hide top row if needed\n\t\t\t\tif (this.scrollTop > this.vDomWindowBuffer) {\n\n\t\t\t\t\tthis._removeTopRow(topDiff);\n\t\t\t\t} else {\n\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (bottomDiff >= 0) {\n\n\t\t\t\tthis._addBottomRow(bottomDiff);\n\t\t\t}\n\t\t}\n\t}\n};\n\nRowManager.prototype._addTopRow = function (topDiff) {\n\tvar i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\tvar table = this.tableElement,\n\t    rows = this.getDisplayRows();\n\n\tif (this.vDomTop) {\n\t\tvar index = this.vDomTop - 1,\n\t\t    topRow = rows[index],\n\t\t    topRowHeight = topRow.getHeight() || this.vDomRowHeight;\n\n\t\t//hide top row if needed\n\t\tif (topDiff >= topRowHeight) {\n\t\t\tthis.styleRow(topRow, index);\n\t\t\ttable.insertBefore(topRow.getElement(), table.firstChild);\n\t\t\tif (!topRow.initialized || !topRow.heightInitialized) {\n\t\t\t\tthis.vDomTopNewRows.push(topRow);\n\n\t\t\t\tif (!topRow.heightInitialized) {\n\t\t\t\t\ttopRow.clearCellHeight();\n\t\t\t\t}\n\t\t\t}\n\t\t\ttopRow.initialize();\n\n\t\t\tthis.vDomTopPad -= topRowHeight;\n\n\t\t\tif (this.vDomTopPad < 0) {\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif (!index) {\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= topRowHeight;\n\t\t\tthis.vDomTop--;\n\t\t}\n\n\t\ttopDiff = -(this.scrollTop - this.vDomScrollPosTop);\n\n\t\tif (topRow.getHeight() > this.vDomWindowBuffer) {\n\t\t\tthis.vDomWindowBuffer = topRow.getHeight() * 2;\n\t\t}\n\n\t\tif (i < this.vDomMaxRenderChain && this.vDomTop && topDiff >= (rows[this.vDomTop - 1].getHeight() || this.vDomRowHeight)) {\n\t\t\tthis._addTopRow(topDiff, i + 1);\n\t\t} else {\n\t\t\tthis._quickNormalizeRowHeight(this.vDomTopNewRows);\n\t\t}\n\t}\n};\n\nRowManager.prototype._removeTopRow = function (topDiff) {\n\tvar table = this.tableElement,\n\t    topRow = this.getDisplayRows()[this.vDomTop],\n\t    topRowHeight = topRow.getHeight() || this.vDomRowHeight;\n\n\tif (topDiff >= topRowHeight) {\n\n\t\tvar rowEl = topRow.getElement();\n\t\trowEl.parentNode.removeChild(rowEl);\n\n\t\tthis.vDomTopPad += topRowHeight;\n\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\tthis.vDomScrollPosTop += this.vDomTop ? topRowHeight : topRowHeight + this.vDomWindowBuffer;\n\t\tthis.vDomTop++;\n\n\t\ttopDiff = this.scrollTop - this.vDomScrollPosTop;\n\n\t\tthis._removeTopRow(topDiff);\n\t}\n};\n\nRowManager.prototype._addBottomRow = function (bottomDiff) {\n\tvar i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\tvar table = this.tableElement,\n\t    rows = this.getDisplayRows();\n\n\tif (this.vDomBottom < this.displayRowsCount - 1) {\n\t\tvar index = this.vDomBottom + 1,\n\t\t    bottomRow = rows[index],\n\t\t    bottomRowHeight = bottomRow.getHeight() || this.vDomRowHeight;\n\n\t\t//hide bottom row if needed\n\t\tif (bottomDiff >= bottomRowHeight) {\n\t\t\tthis.styleRow(bottomRow, index);\n\t\t\ttable.appendChild(bottomRow.getElement());\n\n\t\t\tif (!bottomRow.initialized || !bottomRow.heightInitialized) {\n\t\t\t\tthis.vDomBottomNewRows.push(bottomRow);\n\n\t\t\t\tif (!bottomRow.heightInitialized) {\n\t\t\t\t\tbottomRow.clearCellHeight();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbottomRow.initialize();\n\n\t\t\tthis.vDomBottomPad -= bottomRowHeight;\n\n\t\t\tif (this.vDomBottomPad < 0 || index == this.displayRowsCount - 1) {\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += bottomRowHeight;\n\t\t\tthis.vDomBottom++;\n\t\t}\n\n\t\tbottomDiff = this.scrollTop - this.vDomScrollPosBottom;\n\n\t\tif (bottomRow.getHeight() > this.vDomWindowBuffer) {\n\t\t\tthis.vDomWindowBuffer = bottomRow.getHeight() * 2;\n\t\t}\n\n\t\tif (i < this.vDomMaxRenderChain && this.vDomBottom < this.displayRowsCount - 1 && bottomDiff >= (rows[this.vDomBottom + 1].getHeight() || this.vDomRowHeight)) {\n\t\t\tthis._addBottomRow(bottomDiff, i + 1);\n\t\t} else {\n\t\t\tthis._quickNormalizeRowHeight(this.vDomBottomNewRows);\n\t\t}\n\t}\n};\n\nRowManager.prototype._removeBottomRow = function (bottomDiff) {\n\tvar table = this.tableElement,\n\t    bottomRow = this.getDisplayRows()[this.vDomBottom],\n\t    bottomRowHeight = bottomRow.getHeight() || this.vDomRowHeight;\n\n\tif (bottomDiff >= bottomRowHeight) {\n\n\t\tvar rowEl = bottomRow.getElement();\n\n\t\tif (rowEl.parentNode) {\n\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t}\n\n\t\tthis.vDomBottomPad += bottomRowHeight;\n\n\t\tif (this.vDomBottomPad < 0) {\n\t\t\tthis.vDomBottomPad = 0;\n\t\t}\n\n\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\tthis.vDomScrollPosBottom -= bottomRowHeight;\n\t\tthis.vDomBottom--;\n\n\t\tbottomDiff = -(this.scrollTop - this.vDomScrollPosBottom);\n\n\t\tthis._removeBottomRow(bottomDiff);\n\t}\n};\n\nRowManager.prototype._quickNormalizeRowHeight = function (rows) {\n\trows.forEach(function (row) {\n\t\trow.calcHeight();\n\t});\n\n\trows.forEach(function (row) {\n\t\trow.setCellHeight();\n\t});\n\n\trows.length = 0;\n};\n\n//normalize height of active rows\nRowManager.prototype.normalizeHeight = function () {\n\tthis.activeRows.forEach(function (row) {\n\t\trow.normalizeHeight();\n\t});\n};\n\n//adjust the height of the table holder to fit in the Tabulator element\nRowManager.prototype.adjustTableSize = function () {\n\tvar initialHeight = this.element.clientHeight,\n\t    modExists;\n\n\tif (this.renderMode === \"virtual\") {\n\t\tvar otherHeight = Math.floor(this.columnManager.getElement().offsetHeight + (this.table.footerManager && !this.table.footerManager.external ? this.table.footerManager.getElement().offsetHeight : 0));\n\n\t\tif (this.fixedHeight) {\n\t\t\tthis.element.style.minHeight = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\tthis.element.style.height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\tthis.element.style.maxHeight = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t} else {\n\t\t\tthis.element.style.height = \"\";\n\t\t\tthis.element.style.height = Math.floor(this.table.element.clientHeight) - otherHeight + \"px\";\n\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t}\n\n\t\tthis.height = this.element.clientHeight;\n\t\tthis.vDomWindowBuffer = this.table.options.virtualDomBuffer || this.height;\n\n\t\t//check if the table has changed size when dealing with variable height tables\n\t\tif (!this.fixedHeight && Math.floor(initialHeight) != Math.floor(this.element.clientHeight)) {\n\t\t\tmodExists = this.table.modExists(\"resizeTable\");\n\n\t\t\tif (modExists && !this.table.modules.resizeTable.autoResize || !modExists) {\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t}\n\t}\n};\n\n//renitialize all rows\nRowManager.prototype.reinitialize = function () {\n\tthis.rows.forEach(function (row) {\n\t\trow.reinitialize(true);\n\t});\n};\n\n//prevent table from being redrawn\nRowManager.prototype.blockRedraw = function () {\n\tthis.redrawBlock = true;\n\tthis.redrawBlockRestoreConfig = false;\n};\n\n//restore table redrawing\nRowManager.prototype.restoreRedraw = function () {\n\tthis.redrawBlock = false;\n\n\tif (this.redrawBlockRestoreConfig) {\n\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.stage, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\n\t\tthis.redrawBlockRestoreConfig = false;\n\t} else {\n\t\tif (this.redrawBlockRederInPosition) {\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t}\n\n\tthis.redrawBlockRederInPosition = false;\n};\n\n//redraw table\nRowManager.prototype.redraw = function (force) {\n\tvar pos = 0,\n\t    left = this.scrollLeft;\n\n\tthis.adjustTableSize();\n\n\tthis.table.tableWidth = this.table.element.clientWidth;\n\n\tif (!force) {\n\t\tif (this.renderMode == \"classic\") {\n\n\t\t\tif (this.table.options.groupBy) {\n\t\t\t\tthis.refreshActiveData(\"group\", false, false);\n\t\t\t} else {\n\t\t\t\tthis._simpleRender();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(left);\n\t\t}\n\n\t\tif (!this.displayRowsCount) {\n\t\t\tif (this.table.options.placeholder) {\n\t\t\t\tthis.getElement().appendChild(this.table.options.placeholder);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthis.renderTable();\n\t}\n};\n\nRowManager.prototype.resetScroll = function () {\n\tthis.element.scrollLeft = 0;\n\tthis.element.scrollTop = 0;\n\n\tif (this.table.browser === \"ie\") {\n\t\tvar event = document.createEvent(\"Event\");\n\t\tevent.initEvent(\"scroll\", false, true);\n\t\tthis.element.dispatchEvent(event);\n\t} else {\n\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t}\n};\n\nvar VDomHoz = function VDomHoz(table) {\n\tthis.table = table;\n\n\tthis.element = this.table.rowManager.tableElement;\n\tthis.holderEl = this.table.rowManager.element;\n\n\tthis.leftCol = 0;\n\tthis.rightCol = 0;\n\tthis.scrollLeft = 0;\n\n\tthis.vDomScrollPosLeft = 0;\n\tthis.vDomScrollPosRight = 0;\n\n\tthis.vDomPadLeft = 0;\n\tthis.vDomPadRight = 0;\n\n\tthis.fitDataColAvg = 0;\n\n\tthis.window = 200; //pixel margin to make column visible before it is shown on screen\n\n\tthis.initialized = false;\n\n\tthis.columns = [];\n\n\tif (this.compatabilityCheck()) {\n\t\tthis.initialize();\n\t}\n};\n\nVDomHoz.prototype.compatabilityCheck = function () {\n\tvar options = this.table.options,\n\t    frozen = false,\n\t    ok = true;\n\n\tif (options.layout == \"fitDataTable\") {\n\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with fitDataTable layout mode\");\n\t\tok = false;\n\t}\n\n\tif (options.responsiveLayout) {\n\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with responsive columns\");\n\t\tok = false;\n\t}\n\n\tif (this.table.rtl) {\n\t\tconsole.warn(\"Horizontal Vitrual DOM is not currently compatible with RTL text direction\");\n\t\tok = false;\n\t}\n\n\t// if(options.rowFormatter){\n\t// \tconsole.warn(\"Horizontal Vitrual DOM is not compatible with row formatters\");\n\t// \tok = false;\n\t// }\n\n\tif (options.columns) {\n\t\tfrozen = options.columns.find(function (col) {\n\t\t\treturn col.frozen;\n\t\t});\n\n\t\tif (frozen) {\n\t\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with frozen columns\");\n\t\t\tok = false;\n\t\t}\n\t}\n\n\tif (!ok) {\n\t\toptions.virtualDomHoz = false;\n\t}\n\n\treturn ok;\n};\n\nVDomHoz.prototype.initialize = function () {\n\tvar _this17 = this;\n\n\tthis.holderEl.addEventListener(\"scroll\", function () {\n\t\tvar left = _this17.holderEl.scrollLeft;\n\n\t\tif (_this17.scrollLeft != left) {\n\t\t\t_this17.scrollLeft = left;\n\t\t\t_this17.scroll(left - (_this17.vDomScrollPosLeft + _this17.window));\n\t\t}\n\t});\n};\n\nVDomHoz.prototype.deinitialize = function () {\n\tthis.initialized = false;\n};\n\nVDomHoz.prototype.clear = function () {\n\tthis.columns = [];\n\n\tthis.leftCol = -1;\n\tthis.rightCol = 0;\n\n\tthis.vDomScrollPosLeft = 0;\n\tthis.vDomScrollPosRight = 0;\n\tthis.vDomPadLeft = 0;\n\tthis.vDomPadRight = 0;\n};\n\nVDomHoz.prototype.dataChange = function () {\n\tvar change = false,\n\t    collsWidth = 0,\n\t    colEnd = 0,\n\t    group,\n\t    row,\n\t    rowEl;\n\n\tif (this.table.options.layout === \"fitData\") {\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\n\t\t\tif (!column.definition.width && column.visible) {\n\t\t\t\tchange = true;\n\t\t\t}\n\t\t});\n\n\t\tif (change) {\n\t\t\tif (change && this.table.rowManager.getDisplayRows().length) {\n\t\t\t\t// this.table.vdomHoz.deinitialize();\n\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.holderEl.clientWidth + this.window;\n\n\t\t\t\tif (this.table.options.groupBy) {\n\t\t\t\t\tgroup = this.table.modules.groupRows.getGroups(false)[0];\n\n\t\t\t\t\trow = group.getRows(false)[0];\n\t\t\t\t} else {\n\t\t\t\t\trow = this.table.rowManager.getDisplayRows()[0];\n\t\t\t\t}\n\n\t\t\t\tif (row) {\n\n\t\t\t\t\trowEl = row.getElement();\n\n\t\t\t\t\trow.generateCells();\n\n\t\t\t\t\tthis.element.appendChild(rowEl);\n\n\t\t\t\t\tfor (var colEnd = 0; colEnd < row.cells.length; colEnd++) {\n\t\t\t\t\t\tvar cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\n\t\t\t\t\t\tcollsWidth += cell.column.getWidth();\n\n\t\t\t\t\t\tif (collsWidth > this.vDomScrollPosRight) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\n\t\t\t\t\tthis.fitDataColAvg = Math.floor(collsWidth / (colEnd + 1));\n\n\t\t\t\t\tfor (colEnd; colEnd < this.table.columnManager.columnsByIndex.length; colEnd++) {\n\t\t\t\t\t\tthis.table.columnManager.columnsByIndex[colEnd].setWidth(this.fitDataColAvg);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.reinitialize(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (this.table.options.layout === \"fitColumns\") {\n\t\t\tthis.table.modules.layout.layout();\n\t\t\tthis.table.vdomHoz.reinitialize(false, true);\n\t\t}\n\t}\n};\n\nVDomHoz.prototype.fitDataLayoutOverride = function () {\n\tfor (var _i5 = this.leftCol; _i5 <= this.rightCol; _i5++) {\n\t\tthis.columns[_i5].reinitializeWidth();\n\t}\n};\n\nVDomHoz.prototype.reinitialize = function (update, blockRedraw) {\n\tvar _this18 = this;\n\n\tvar old = {\n\t\tcols: this.columns,\n\t\tleftCol: this.leftCol,\n\t\trightCol: this.rightCol\n\t};\n\n\tif (update && !this.initialized) {\n\t\treturn;\n\t}\n\n\tthis.clear();\n\n\tthis.scrollLeft = this.holderEl.scrollLeft;\n\n\tthis.vDomScrollPosLeft = this.scrollLeft - this.window;\n\tthis.vDomScrollPosRight = this.scrollLeft + this.holderEl.clientWidth + this.window;\n\n\tvar colPos = 0;\n\n\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\n\t\tvar config = {};\n\n\t\tif (column.visible) {\n\t\t\tvar width = column.getWidth();\n\n\t\t\tconfig.leftPos = colPos;\n\t\t\tconfig.rightPos = colPos + width;\n\n\t\t\tif (colPos + width > _this18.vDomScrollPosLeft && colPos < _this18.vDomScrollPosRight) {\n\t\t\t\t//column is visible\n\n\t\t\t\tif (_this18.leftCol == -1) {\n\t\t\t\t\t_this18.leftCol = _this18.columns.length;\n\t\t\t\t\t_this18.vDomPadLeft = colPos;\n\t\t\t\t}\n\n\t\t\t\t_this18.rightCol = _this18.columns.length;\n\t\t\t} else {\n\t\t\t\t// column is hidden\n\t\t\t\tif (_this18.leftCol !== -1) {\n\t\t\t\t\t_this18.vDomPadRight += width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this18.columns.push(column);\n\n\t\t\tcolumn.modules.vdomHoz = config;\n\n\t\t\tcolPos += width;\n\t\t}\n\t});\n\n\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\n\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\n\n\tthis.initialized = true;\n\n\tif (!blockRedraw) {\n\t\tif (!update || this.reinitChanged(old)) {\n\t\t\tthis.renitializeRows();\n\t\t}\n\t}\n\n\tthis.holderEl.scrollLeft = this.scrollLeft;\n};\n\nVDomHoz.prototype.reinitChanged = function (old) {\n\tvar _this19 = this;\n\n\tvar match = true;\n\n\tif (old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol) {\n\t\treturn true;\n\t}\n\n\told.cols.forEach(function (col, i) {\n\t\tif (col !== _this19.columns[i]) {\n\t\t\tmatch = false;\n\t\t}\n\t});\n\n\treturn !match;\n};\n\nVDomHoz.prototype.renitializeRows = function () {\n\tvar _this20 = this;\n\n\tvar rows = this.table.rowManager.getVisibleRows();\n\trows.forEach(function (row) {\n\t\t_this20.reinitializeRow(row, true);\n\t});\n};\n\nVDomHoz.prototype.scroll = function (diff) {\n\tthis.vDomScrollPosLeft += diff;\n\tthis.vDomScrollPosRight += diff;\n\n\tif (diff > this.holderEl.clientWidth * .8) {\n\t\tthis.reinitialize();\n\t} else {\n\t\tif (diff > 0) {\n\t\t\t//scroll right\n\t\t\tthis.addColRight();\n\t\t\tthis.removeColLeft();\n\t\t} else {\n\t\t\t//scroll left\n\t\t\tthis.addColLeft();\n\t\t\tthis.removeColRight();\n\t\t}\n\t}\n};\n\nVDomHoz.prototype.colPositionAdjust = function (start, end, diff) {\n\tfor (var _i6 = start; _i6 < end; _i6++) {\n\t\tvar column = this.columns[_i6];\n\n\t\tcolumn.modules.vdomHoz.leftPos -= diff;\n\t\tcolumn.modules.vdomHoz.rightPos -= diff;\n\t}\n};\n\nVDomHoz.prototype.addColRight = function () {\n\tvar column = this.columns[this.rightCol + 1],\n\t    rows,\n\t    oldWidth,\n\t    widthDiff;\n\n\tif (column && column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight) {\n\n\t\trows = this.table.rowManager.getVisibleRows();\n\n\t\trows.forEach(function (row) {\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t}\n\t\t});\n\n\t\tif (this.fitDataColAvg) {\n\n\t\t\toldWidth = column.getWidth();\n\n\t\t\tif (oldWidth === this.fitDataColAvg) {\n\t\t\t\tcolumn.reinitializeWidth();\n\n\t\t\t\twidthDiff = oldWidth - column.getWidth();\n\n\t\t\t\tif (widthDiff) {\n\t\t\t\t\tcolumn.modules.vdomHoz.rightPos -= widthDiff;\n\t\t\t\t\tthis.colPositionAdjust(this.rightCol + 1, this.columns.length, widthDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.rightCol++;\n\n\t\tif (this.rightCol >= this.columns.length - 1) {\n\t\t\tthis.vDomPadRight = 0;\n\t\t} else {\n\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t}\n\n\t\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\n\n\t\tthis.addColRight();\n\t}\n};\n\nVDomHoz.prototype.addColLeft = function () {\n\tvar column = this.columns[this.leftCol - 1],\n\t    rows;\n\n\tif (column && column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft) {\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\n\t\trows.forEach(function (row) {\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\trow.getElement().prepend(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t}\n\t\t});\n\n\t\tif (!this.leftCol) {\n\t\t\tthis.vDomPadLeft = 0;\n\t\t} else {\n\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t}\n\n\t\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\n\n\t\tthis.leftCol--;\n\n\t\tthis.addColLeft();\n\t}\n};\n\nVDomHoz.prototype.removeColRight = function (column) {\n\tvar column = this.columns[this.rightCol],\n\t    rows;\n\n\tif (column && column.modules.vdomHoz.leftPos > this.vDomScrollPosRight) {\n\t\trows = this.table.rowManager.getVisibleRows();\n\n\t\tcolumn.modules.vdomHoz.visible = false;\n\n\t\trows.forEach(function (row) {\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t}\n\t\t});\n\n\t\tthis.vDomPadRight += column.getWidth();\n\t\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\n\n\t\tthis.rightCol--;\n\n\t\tthis.removeColRight();\n\t}\n};\n\nVDomHoz.prototype.removeColLeft = function () {\n\tvar column = this.columns[this.leftCol],\n\t    rows;\n\n\tif (column && column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft) {\n\n\t\trows = this.table.rowManager.getVisibleRows();\n\n\t\trows.forEach(function (row) {\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t}\n\t\t});\n\n\t\tthis.vDomPadLeft += column.getWidth();\n\t\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\n\n\t\tthis.leftCol++;\n\n\t\tthis.removeColLeft();\n\t}\n};\n\nVDomHoz.prototype.initializeRow = function (row) {\n\tif (row.type !== \"group\") {\n\t\trow.modules.vdomHoz = {\n\t\t\tleftCol: this.leftCol,\n\t\t\trightCol: this.rightCol\n\t\t};\n\n\t\tfor (var _i7 = this.leftCol; _i7 <= this.rightCol; _i7++) {\n\t\t\tvar column = this.columns[_i7];\n\n\t\t\tif (column.visible) {\n\t\t\t\tvar cell = row.getCell(column);\n\n\t\t\t\trow.element.appendChild(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t}\n\t\t}\n\t}\n};\n\nVDomHoz.prototype.reinitializeRow = function (row, force) {\n\tif (row.type !== \"group\") {\n\t\tif (force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol) {\n\t\t\twhile (row.element.firstChild) {\n\t\t\t\trow.element.removeChild(row.element.firstChild);\n\t\t\t}this.initializeRow(row);\n\t\t}\n\t}\n};\n//public row object\nvar RowComponent = function RowComponent(row) {\n\tthis._row = row;\n};\n\nRowComponent.prototype.getData = function (transform) {\n\treturn this._row.getData(transform);\n};\n\nRowComponent.prototype.getElement = function () {\n\treturn this._row.getElement();\n};\n\nRowComponent.prototype.getCells = function () {\n\tvar cells = [];\n\n\tthis._row.getCells().forEach(function (cell) {\n\t\tcells.push(cell.getComponent());\n\t});\n\n\treturn cells;\n};\n\nRowComponent.prototype.getCell = function (column) {\n\tvar cell = this._row.getCell(column);\n\treturn cell ? cell.getComponent() : false;\n};\n\nRowComponent.prototype.getIndex = function () {\n\treturn this._row.getData(\"data\")[this._row.table.options.index];\n};\n\nRowComponent.prototype.getPosition = function (active) {\n\treturn this._row.table.rowManager.getRowPosition(this._row, active);\n};\n\nRowComponent.prototype.delete = function () {\n\treturn this._row.delete();\n};\n\nRowComponent.prototype.scrollTo = function () {\n\treturn this._row.table.rowManager.scrollToRow(this._row);\n};\n\nRowComponent.prototype.pageTo = function () {\n\tif (this._row.table.modExists(\"page\", true)) {\n\t\treturn this._row.table.modules.page.setPageToRow(this._row);\n\t}\n};\n\nRowComponent.prototype.move = function (to, after) {\n\tthis._row.moveToRow(to, after);\n};\n\nRowComponent.prototype.update = function (data) {\n\treturn this._row.updateData(data);\n};\n\nRowComponent.prototype.normalizeHeight = function () {\n\tthis._row.normalizeHeight(true);\n};\n\nRowComponent.prototype.select = function () {\n\tthis._row.table.modules.selectRow.selectRows(this._row);\n};\n\nRowComponent.prototype.deselect = function () {\n\tthis._row.table.modules.selectRow.deselectRows(this._row);\n};\n\nRowComponent.prototype.toggleSelect = function () {\n\tthis._row.table.modules.selectRow.toggleRow(this._row);\n};\n\nRowComponent.prototype.isSelected = function () {\n\treturn this._row.table.modules.selectRow.isRowSelected(this._row);\n};\n\nRowComponent.prototype._getSelf = function () {\n\treturn this._row;\n};\n\nRowComponent.prototype.validate = function () {\n\treturn this._row.validate();\n};\n\nRowComponent.prototype.freeze = function () {\n\tif (this._row.table.modExists(\"frozenRows\", true)) {\n\t\tthis._row.table.modules.frozenRows.freezeRow(this._row);\n\t}\n};\n\nRowComponent.prototype.unfreeze = function () {\n\tif (this._row.table.modExists(\"frozenRows\", true)) {\n\t\tthis._row.table.modules.frozenRows.unfreezeRow(this._row);\n\t}\n};\n\nRowComponent.prototype.isFrozen = function () {\n\tif (this._row.table.modExists(\"frozenRows\", true)) {\n\t\tvar index = this._row.table.modules.frozenRows.rows.indexOf(this._row);\n\t\treturn index > -1;\n\t}\n\n\treturn false;\n};\n\nRowComponent.prototype.treeCollapse = function () {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\tthis._row.table.modules.dataTree.collapseRow(this._row);\n\t}\n};\n\nRowComponent.prototype.treeExpand = function () {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\tthis._row.table.modules.dataTree.expandRow(this._row);\n\t}\n};\n\nRowComponent.prototype.treeToggle = function () {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\tthis._row.table.modules.dataTree.toggleRow(this._row);\n\t}\n};\n\nRowComponent.prototype.getTreeParent = function () {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\treturn this._row.table.modules.dataTree.getTreeParent(this._row);\n\t}\n\n\treturn false;\n};\n\nRowComponent.prototype.getTreeChildren = function () {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\treturn this._row.table.modules.dataTree.getTreeChildren(this._row, true);\n\t}\n\n\treturn false;\n};\n\nRowComponent.prototype.addTreeChild = function (data, pos, index) {\n\tif (this._row.table.modExists(\"dataTree\", true)) {\n\t\treturn this._row.table.modules.dataTree.addTreeChildRow(this._row, data, pos, index);\n\t}\n\n\treturn false;\n};\n\nRowComponent.prototype.reformat = function () {\n\treturn this._row.reinitialize();\n};\n\nRowComponent.prototype.getGroup = function () {\n\treturn this._row.getGroup().getComponent();\n};\n\nRowComponent.prototype.getTable = function () {\n\treturn this._row.table;\n};\n\nRowComponent.prototype.getNextRow = function () {\n\tvar row = this._row.nextRow();\n\treturn row ? row.getComponent() : row;\n};\n\nRowComponent.prototype.getPrevRow = function () {\n\tvar row = this._row.prevRow();\n\treturn row ? row.getComponent() : row;\n};\n\nvar Row = function Row(data, parent) {\n\tvar type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"row\";\n\n\tthis.table = parent.table;\n\tthis.parent = parent;\n\tthis.data = {};\n\tthis.type = type; //type of element\n\tthis.element = this.createElement();\n\tthis.modules = {}; //hold module variables;\n\tthis.cells = [];\n\tthis.height = 0; //hold element height\n\tthis.heightStyled = \"\"; //hold element height prestyled to improve render efficiency\n\tthis.manualHeight = false; //user has manually set row height\n\tthis.outerHeight = 0; //holde lements outer height\n\tthis.initialized = false; //element has been rendered\n\tthis.heightInitialized = false; //element has resized cells to fit\n\n\tthis.component = null;\n\n\tthis.setData(data);\n\tthis.generateElement();\n};\n\nRow.prototype.createElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-row\");\n\tel.setAttribute(\"role\", \"row\");\n\n\treturn el;\n};\n\nRow.prototype.getElement = function () {\n\treturn this.element;\n};\n\nRow.prototype.detachElement = function () {\n\tif (this.element && this.element.parentNode) {\n\t\tthis.element.parentNode.removeChild(this.element);\n\t}\n};\n\nRow.prototype.generateElement = function () {\n\tvar self = this,\n\t    dblTap,\n\t    tapHold,\n\t    tap;\n\n\t//set row selection characteristics\n\tif (self.table.options.selectable !== false && self.table.modExists(\"selectRow\")) {\n\t\tself.table.modules.selectRow.initializeRow(this);\n\t}\n\n\t//setup movable rows\n\tif (self.table.options.movableRows !== false && self.table.modExists(\"moveRow\")) {\n\t\tself.table.modules.moveRow.initializeRow(this);\n\t}\n\n\t//setup data tree\n\tif (self.table.options.dataTree !== false && self.table.modExists(\"dataTree\")) {\n\t\tself.table.modules.dataTree.initializeRow(this);\n\t}\n\n\t//setup column colapse container\n\tif (self.table.options.responsiveLayout === \"collapse\" && self.table.modExists(\"responsiveLayout\")) {\n\t\tself.table.modules.responsiveLayout.initializeRow(this);\n\t}\n\n\t//set column menu\n\tif ((self.table.options.rowContextMenu || self.table.options.rowClickMenu) && this.table.modExists(\"menu\")) {\n\t\tself.table.modules.menu.initializeRow(this);\n\t}\n\n\t//handle row click events\n\tif (self.table.options.rowClick) {\n\t\tself.element.addEventListener(\"click\", function (e) {\n\t\t\tself.table.options.rowClick(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowDblClick) {\n\t\tself.element.addEventListener(\"dblclick\", function (e) {\n\t\t\tself.table.options.rowDblClick(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowContext) {\n\t\tself.element.addEventListener(\"contextmenu\", function (e) {\n\t\t\tself.table.options.rowContext(e, self.getComponent());\n\t\t});\n\t}\n\n\t//handle mouse events\n\tif (self.table.options.rowMouseEnter) {\n\t\tself.element.addEventListener(\"mouseenter\", function (e) {\n\t\t\tself.table.options.rowMouseEnter(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowMouseLeave) {\n\t\tself.element.addEventListener(\"mouseleave\", function (e) {\n\t\t\tself.table.options.rowMouseLeave(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowMouseOver) {\n\t\tself.element.addEventListener(\"mouseover\", function (e) {\n\t\t\tself.table.options.rowMouseOver(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowMouseOut) {\n\t\tself.element.addEventListener(\"mouseout\", function (e) {\n\t\t\tself.table.options.rowMouseOut(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowMouseMove) {\n\t\tself.element.addEventListener(\"mousemove\", function (e) {\n\t\t\tself.table.options.rowMouseMove(e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.table.options.rowTap) {\n\n\t\ttap = false;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\ttap = true;\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tif (tap) {\n\t\t\t\tself.table.options.rowTap(e, self.getComponent());\n\t\t\t}\n\n\t\t\ttap = false;\n\t\t});\n\t}\n\n\tif (self.table.options.rowDblTap) {\n\n\t\tdblTap = null;\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\n\t\t\tif (dblTap) {\n\t\t\t\tclearTimeout(dblTap);\n\t\t\t\tdblTap = null;\n\n\t\t\t\tself.table.options.rowDblTap(e, self.getComponent());\n\t\t\t} else {\n\n\t\t\t\tdblTap = setTimeout(function () {\n\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\tdblTap = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (self.table.options.rowTapHold) {\n\n\t\ttapHold = null;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\n\t\t\ttapHold = setTimeout(function () {\n\t\t\t\tclearTimeout(tapHold);\n\t\t\t\ttapHold = null;\n\t\t\t\ttap = false;\n\t\t\t\tself.table.options.rowTapHold(e, self.getComponent());\n\t\t\t}, 1000);\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\t\t\ttapHold = null;\n\t\t});\n\t}\n};\n\nRow.prototype.generateCells = function () {\n\tthis.cells = this.table.columnManager.generateCells(this);\n};\n\n//functions to setup on first render\nRow.prototype.initialize = function (force) {\n\tvar _this21 = this;\n\n\tif (!this.initialized || force) {\n\n\t\tthis.deleteCells();\n\n\t\twhile (this.element.firstChild) {\n\t\t\tthis.element.removeChild(this.element.firstChild);\n\t\t} //handle frozen cells\n\t\tif (this.table.modExists(\"frozenColumns\")) {\n\t\t\tthis.table.modules.frozenColumns.layoutRow(this);\n\t\t}\n\n\t\tthis.generateCells();\n\n\t\tif (this.table.options.virtualDomHoz && this.table.vdomHoz.initialized) {\n\t\t\tthis.table.vdomHoz.initializeRow(this);\n\t\t} else {\n\t\t\tthis.cells.forEach(function (cell) {\n\t\t\t\t_this21.element.appendChild(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\n\t\tif (force) {\n\t\t\tthis.normalizeHeight();\n\t\t}\n\n\t\t//setup movable rows\n\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\")) {\n\t\t\tthis.table.modules.dataTree.layoutRow(this);\n\t\t}\n\n\t\t//setup column colapse container\n\t\tif (this.table.options.responsiveLayout === \"collapse\" && this.table.modExists(\"responsiveLayout\")) {\n\t\t\tthis.table.modules.responsiveLayout.layoutRow(this);\n\t\t}\n\n\t\tif (this.table.options.rowFormatter) {\n\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t}\n\n\t\t//set resizable handles\n\t\tif (this.table.options.resizableRows && this.table.modExists(\"resizeRows\")) {\n\t\t\tthis.table.modules.resizeRows.initializeRow(this);\n\t\t}\n\n\t\tthis.initialized = true;\n\t} else {\n\t\tif (this.table.options.virtualDomHoz) {\n\t\t\tthis.table.vdomHoz.reinitializeRow(this);\n\t\t}\n\t}\n};\n\nRow.prototype.reinitializeHeight = function () {\n\tthis.heightInitialized = false;\n\n\tif (this.element.offsetParent !== null) {\n\t\tthis.normalizeHeight(true);\n\t}\n};\n\nRow.prototype.reinitialize = function (children) {\n\tthis.initialized = false;\n\tthis.heightInitialized = false;\n\n\tif (!this.manualHeight) {\n\t\tthis.height = 0;\n\t\tthis.heightStyled = \"\";\n\t}\n\n\tif (this.element.offsetParent !== null) {\n\t\tthis.initialize(true);\n\t}\n\n\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\n\t\tthis.table.modules.dataTree.getTreeChildren(this, false, true).forEach(function (child) {\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n};\n\n//get heights when doing bulk row style calcs in virtual DOM\nRow.prototype.calcHeight = function (force) {\n\n\tvar maxHeight = 0,\n\t    minHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\n\tthis.cells.forEach(function (cell) {\n\t\tvar height = cell.getHeight();\n\t\tif (height > maxHeight) {\n\t\t\tmaxHeight = height;\n\t\t}\n\t});\n\n\tif (force) {\n\t\tthis.height = Math.max(maxHeight, minHeight);\n\t} else {\n\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t}\n\n\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\tthis.outerHeight = this.element.offsetHeight;\n};\n\n//set of cells\nRow.prototype.setCellHeight = function () {\n\tthis.cells.forEach(function (cell) {\n\t\tcell.setHeight();\n\t});\n\n\tthis.heightInitialized = true;\n};\n\nRow.prototype.clearCellHeight = function () {\n\tthis.cells.forEach(function (cell) {\n\t\tcell.clearHeight();\n\t});\n};\n\n//normalize the height of elements in the row\nRow.prototype.normalizeHeight = function (force) {\n\n\tif (force) {\n\t\tthis.clearCellHeight();\n\t}\n\n\tthis.calcHeight(force);\n\n\tthis.setCellHeight();\n};\n\n// Row.prototype.setHeight = function(height){\n// \tthis.height = height;\n\n// \tthis.setCellHeight();\n// };\n\n//set height of rows\nRow.prototype.setHeight = function (height, force) {\n\tif (this.height != height || force) {\n\n\t\tthis.manualHeight = true;\n\n\t\tthis.height = height;\n\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\n\t\tthis.setCellHeight();\n\n\t\t// this.outerHeight = this.element.outerHeight();\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n};\n\n//return rows outer height\nRow.prototype.getHeight = function () {\n\treturn this.outerHeight;\n};\n\n//return rows outer Width\nRow.prototype.getWidth = function () {\n\treturn this.element.offsetWidth;\n};\n\n//////////////// Cell Management /////////////////\n\nRow.prototype.deleteCell = function (cell) {\n\tvar index = this.cells.indexOf(cell);\n\n\tif (index > -1) {\n\t\tthis.cells.splice(index, 1);\n\t}\n};\n\n//////////////// Data Management /////////////////\n\nRow.prototype.setData = function (data) {\n\tif (this.table.modExists(\"mutator\")) {\n\t\tdata = this.table.modules.mutator.transformRow(data, \"data\");\n\t}\n\n\tthis.data = data;\n\n\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {\n\t\tthis.table.modules.reactiveData.watchRow(this);\n\t}\n};\n\n//update the rows data\nRow.prototype.updateData = function (updatedData) {\n\tvar _this22 = this;\n\n\tvar visible = Tabulator.prototype.helpers.elVisible(this.element),\n\t    tempData = {},\n\t    newRowData;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tif (typeof updatedData === \"string\") {\n\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t}\n\n\t\tif (_this22.table.options.reactiveData && _this22.table.modExists(\"reactiveData\", true)) {\n\t\t\t_this22.table.modules.reactiveData.block();\n\t\t}\n\n\t\t//mutate incomming data if needed\n\t\tif (_this22.table.modExists(\"mutator\")) {\n\n\t\t\ttempData = Object.assign(tempData, _this22.data);\n\t\t\ttempData = Object.assign(tempData, updatedData);\n\n\t\t\tnewRowData = _this22.table.modules.mutator.transformRow(tempData, \"data\", updatedData);\n\t\t} else {\n\t\t\tnewRowData = updatedData;\n\t\t}\n\n\t\t//set data\n\t\tfor (var attrname in newRowData) {\n\t\t\t_this22.data[attrname] = newRowData[attrname];\n\t\t}\n\n\t\tif (_this22.table.options.reactiveData && _this22.table.modExists(\"reactiveData\", true)) {\n\t\t\t_this22.table.modules.reactiveData.unblock();\n\t\t}\n\n\t\t//update affected cells only\n\t\tfor (var attrname in updatedData) {\n\n\t\t\tvar columns = _this22.table.columnManager.getColumnsByFieldRoot(attrname);\n\n\t\t\tcolumns.forEach(function (column) {\n\t\t\t\tvar cell = _this22.getCell(column.getField());\n\n\t\t\t\tif (cell) {\n\t\t\t\t\tvar value = column.getFieldValue(newRowData);\n\t\t\t\t\tif (cell.getValue() != value) {\n\t\t\t\t\t\tcell.setValueProcessData(value);\n\n\t\t\t\t\t\tif (visible) {\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (_this22.table.options.groupUpdateOnCellEdit && _this22.table.options.groupBy && _this22.table.modExists(\"groupRows\")) {\n\t\t\t_this22.table.modules.groupRows.reassignRowToGroup(_this22.row);\n\t\t}\n\n\t\t//Partial reinitialization if visible\n\t\tif (visible) {\n\t\t\t_this22.normalizeHeight(true);\n\n\t\t\tif (_this22.table.options.rowFormatter) {\n\t\t\t\t_this22.table.options.rowFormatter(_this22.getComponent());\n\t\t\t}\n\t\t} else {\n\t\t\t_this22.initialized = false;\n\t\t\t_this22.height = 0;\n\t\t\t_this22.heightStyled = \"\";\n\t\t}\n\n\t\tif (_this22.table.options.dataTree !== false && _this22.table.modExists(\"dataTree\") && _this22.table.modules.dataTree.redrawNeeded(updatedData)) {\n\t\t\t_this22.table.modules.dataTree.initializeRow(_this22);\n\n\t\t\tif (visible) {\n\t\t\t\t_this22.table.modules.dataTree.layoutRow(_this22);\n\t\t\t\t_this22.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t\t\t}\n\t\t}\n\n\t\t//this.reinitialize();\n\n\t\t_this22.table.options.rowUpdated.call(_this22.table, _this22.getComponent());\n\n\t\tif (_this22.table.options.dataChanged) {\n\t\t\t_this22.table.options.dataChanged.call(_this22.table, _this22.table.rowManager.getData());\n\t\t}\n\n\t\tresolve();\n\t});\n};\n\nRow.prototype.getData = function (transform) {\n\tif (transform) {\n\t\tif (this.table.modExists(\"accessor\")) {\n\t\t\treturn this.table.modules.accessor.transformRow(this, transform);\n\t\t}\n\t}\n\n\treturn this.data;\n};\n\nRow.prototype.getCell = function (column) {\n\tvar match = false;\n\n\tcolumn = this.table.columnManager.findColumn(column);\n\n\tmatch = this.cells.find(function (cell) {\n\t\treturn cell.column === column;\n\t});\n\n\treturn match;\n};\n\nRow.prototype.getCellIndex = function (findCell) {\n\treturn this.cells.findIndex(function (cell) {\n\t\treturn cell === findCell;\n\t});\n};\n\nRow.prototype.findNextEditableCell = function (index) {\n\tvar nextCell = false;\n\n\tif (index < this.cells.length - 1) {\n\t\tfor (var i = index + 1; i < this.cells.length; i++) {\n\t\t\tvar cell = this.cells[i];\n\n\t\t\tif (cell.column.modules.edit && Tabulator.prototype.helpers.elVisible(cell.getElement())) {\n\t\t\t\tvar allowEdit = true;\n\n\t\t\t\tif (typeof cell.column.modules.edit.check == \"function\") {\n\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t}\n\n\t\t\t\tif (allowEdit) {\n\t\t\t\t\tnextCell = cell;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn nextCell;\n};\n\nRow.prototype.findPrevEditableCell = function (index) {\n\tvar prevCell = false;\n\n\tif (index > 0) {\n\t\tfor (var i = index - 1; i >= 0; i--) {\n\t\t\tvar cell = this.cells[i],\n\t\t\t    allowEdit = true;\n\n\t\t\tif (cell.column.modules.edit && Tabulator.prototype.helpers.elVisible(cell.getElement())) {\n\t\t\t\tif (typeof cell.column.modules.edit.check == \"function\") {\n\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t}\n\n\t\t\t\tif (allowEdit) {\n\t\t\t\t\tprevCell = cell;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn prevCell;\n};\n\nRow.prototype.getCells = function () {\n\treturn this.cells;\n};\n\nRow.prototype.nextRow = function () {\n\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\treturn row || false;\n};\n\nRow.prototype.prevRow = function () {\n\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\treturn row || false;\n};\n\nRow.prototype.moveToRow = function (to, before) {\n\tvar toRow = this.table.rowManager.findRow(to);\n\n\tif (toRow) {\n\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t} else {\n\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t}\n};\n\nRow.prototype.validate = function () {\n\tvar invalid = [];\n\n\tthis.cells.forEach(function (cell) {\n\t\tif (!cell.validate()) {\n\t\t\tinvalid.push(cell.getComponent());\n\t\t}\n\t});\n\n\treturn invalid.length ? invalid : true;\n};\n\n///////////////////// Actions  /////////////////////\n\nRow.prototype.delete = function () {\n\tvar _this23 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar index, rows;\n\n\t\tif (_this23.table.options.history && _this23.table.modExists(\"history\")) {\n\n\t\t\tif (_this23.table.options.groupBy && _this23.table.modExists(\"groupRows\")) {\n\t\t\t\trows = _this23.getGroup().rows;\n\t\t\t\tindex = rows.indexOf(_this23);\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = rows[index - 1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tindex = _this23.table.rowManager.getRowIndex(_this23);\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = _this23.table.rowManager.rows[index - 1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this23.table.modules.history.action(\"rowDelete\", _this23, { data: _this23.getData(), pos: !index, index: index });\n\t\t}\n\n\t\t_this23.deleteActual();\n\n\t\tresolve();\n\t});\n};\n\nRow.prototype.deleteActual = function (blockRedraw) {\n\tvar index = this.table.rowManager.getRowIndex(this);\n\n\tthis.detatchModules();\n\n\t// if(this.table.options.dataTree && this.table.modExists(\"dataTree\")){\n\t// \tthis.table.modules.dataTree.collapseRow(this, true);\n\t// }\n\n\t//remove any reactive data watchers from row object\n\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {}\n\t// this.table.modules.reactiveData.unwatchRow(this);\n\n\n\t//remove from group\n\tif (this.modules.group) {\n\t\tthis.modules.group.removeRow(this);\n\t}\n\n\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\n\tthis.deleteCells();\n\n\tthis.initialized = false;\n\tthis.heightInitialized = false;\n\tthis.element = false;\n\n\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\n\t\tthis.table.modules.dataTree.rowDelete(this);\n\t}\n\n\t//recalc column calculations if present\n\tif (this.table.modExists(\"columnCalcs\")) {\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\t\tthis.table.modules.columnCalcs.recalcRowGroup(this);\n\t\t} else {\n\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\n\t\t}\n\t}\n};\n\nRow.prototype.detatchModules = function () {\n\t//deselect row if it is selected\n\tif (this.table.modExists(\"selectRow\")) {\n\t\tthis.table.modules.selectRow._deselectRow(this, true);\n\t}\n\n\t//cancel edit if row is currently being edited\n\tif (this.table.modExists(\"edit\")) {\n\t\tif (this.table.modules.edit.currentCell.row === this) {\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}\n\t}\n\n\tif (this.table.modExists(\"frozenRows\")) {\n\t\tthis.table.modules.frozenRows.detachRow(this);\n\t}\n};\n\nRow.prototype.deleteCells = function () {\n\tvar cellCount = this.cells.length;\n\n\tfor (var _i8 = 0; _i8 < cellCount; _i8++) {\n\t\tthis.cells[0].delete();\n\t}\n};\n\nRow.prototype.wipe = function () {\n\tthis.detatchModules();\n\tthis.deleteCells();\n\n\twhile (this.element.firstChild) {\n\t\tthis.element.removeChild(this.element.firstChild);\n\t}this.element = false;\n\tthis.modules = {};\n\n\tif (this.element.parentNode) {\n\t\tthis.element.parentNode.removeChild(this.element);\n\t}\n};\n\nRow.prototype.getGroup = function () {\n\treturn this.modules.group || false;\n};\n\n//////////////// Object Generation /////////////////\nRow.prototype.getComponent = function () {\n\tif (!this.component) {\n\t\tthis.component = new RowComponent(this);\n\t}\n\n\treturn this.component;\n};\n\n//public row object\nvar CellComponent = function CellComponent(cell) {\n\tthis._cell = cell;\n};\n\nCellComponent.prototype.getValue = function () {\n\treturn this._cell.getValue();\n};\n\nCellComponent.prototype.getOldValue = function () {\n\treturn this._cell.getOldValue();\n};\n\nCellComponent.prototype.getInitialValue = function () {\n\treturn this._cell.initialValue;\n};\n\nCellComponent.prototype.getElement = function () {\n\treturn this._cell.getElement();\n};\n\nCellComponent.prototype.getRow = function () {\n\treturn this._cell.row.getComponent();\n};\n\nCellComponent.prototype.getData = function () {\n\treturn this._cell.row.getData();\n};\n\nCellComponent.prototype.getField = function () {\n\treturn this._cell.column.getField();\n};\n\nCellComponent.prototype.getColumn = function () {\n\treturn this._cell.column.getComponent();\n};\n\nCellComponent.prototype.setValue = function (value, mutate) {\n\tif (typeof mutate == \"undefined\") {\n\t\tmutate = true;\n\t}\n\n\tthis._cell.setValue(value, mutate);\n};\n\nCellComponent.prototype.restoreOldValue = function () {\n\tthis._cell.setValueActual(this._cell.getOldValue());\n};\n\nCellComponent.prototype.restoreInitialValue = function () {\n\tthis._cell.setValueActual(this._cell.initialValue);\n};\n\nCellComponent.prototype.edit = function (force) {\n\treturn this._cell.edit(force);\n};\n\nCellComponent.prototype.cancelEdit = function () {\n\tthis._cell.cancelEdit();\n};\n\nCellComponent.prototype.isEdited = function () {\n\treturn !!this._cell.modules.edit && this._cell.modules.edit.edited;\n};\n\nCellComponent.prototype.clearEdited = function () {\n\tif (self.table.modExists(\"edit\", true)) {\n\t\tthis._cell.table.modules.edit.clearEdited(this._cell);\n\t}\n};\n\nCellComponent.prototype.isValid = function () {\n\treturn this._cell.modules.validate ? !this._cell.modules.validate.invalid : true;\n};\n\nCellComponent.prototype.validate = function () {\n\treturn this._cell.validate();\n};\n\nCellComponent.prototype.clearValidation = function () {\n\tif (this._cell.table.modExists(\"validate\", true)) {\n\t\tthis._cell.table.modules.validate.clearValidation(this._cell);\n\t}\n};\n\nCellComponent.prototype.nav = function () {\n\treturn this._cell.nav();\n};\n\nCellComponent.prototype.checkHeight = function () {\n\tthis._cell.checkHeight();\n};\n\nCellComponent.prototype.getTable = function () {\n\treturn this._cell.table;\n};\n\nCellComponent.prototype._getSelf = function () {\n\treturn this._cell;\n};\n\nvar Cell = function Cell(column, row) {\n\n\tthis.table = column.table;\n\tthis.column = column;\n\tthis.row = row;\n\tthis.element = null;\n\tthis.value = null;\n\tthis.initialValue;\n\tthis.oldValue = null;\n\tthis.modules = {};\n\n\tthis.height = null;\n\tthis.width = null;\n\tthis.minWidth = null;\n\n\tthis.component = null;\n\n\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\tthis.build();\n};\n\n//////////////// Setup Functions /////////////////\n\n//generate element\nCell.prototype.build = function () {\n\tthis.generateElement();\n\n\tthis.setWidth();\n\n\tthis._configureCell();\n\n\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\tthis.initialValue = this.value;\n};\n\nCell.prototype.generateElement = function () {\n\tthis.element = document.createElement('div');\n\tthis.element.className = \"tabulator-cell\";\n\tthis.element.setAttribute(\"role\", \"gridcell\");\n\tthis.element = this.element;\n};\n\nCell.prototype._configureCell = function () {\n\tvar self = this,\n\t    cellEvents = self.column.cellEvents,\n\t    element = self.element,\n\t    field = this.column.getField(),\n\t    vertAligns = {\n\t\ttop: \"flex-start\",\n\t\tbottom: \"flex-end\",\n\t\tmiddle: \"center\"\n\t},\n\t    hozAligns = {\n\t\tleft: \"flex-start\",\n\t\tright: \"flex-end\",\n\t\tcenter: \"center\"\n\t};\n\n\t//set text alignment\n\telement.style.textAlign = self.column.hozAlign;\n\n\tif (self.column.vertAlign) {\n\t\telement.style.display = \"inline-flex\";\n\n\t\telement.style.alignItems = vertAligns[self.column.vertAlign] || \"\";\n\n\t\tif (self.column.hozAlign) {\n\t\t\telement.style.justifyContent = hozAligns[self.column.hozAlign] || \"\";\n\t\t}\n\t}\n\n\tif (field) {\n\t\telement.setAttribute(\"tabulator-field\", field);\n\t}\n\n\t//add class to cell if needed\n\tif (self.column.definition.cssClass) {\n\t\tvar classNames = self.column.definition.cssClass.split(\" \");\n\t\tclassNames.forEach(function (className) {\n\t\t\telement.classList.add(className);\n\t\t});\n\t}\n\n\t//update tooltip on mouse enter\n\tif (this.table.options.tooltipGenerationMode === \"hover\") {\n\t\telement.addEventListener(\"mouseenter\", function (e) {\n\t\t\tself._generateTooltip();\n\t\t});\n\t}\n\n\tself._bindClickEvents(cellEvents);\n\n\tself._bindTouchEvents(cellEvents);\n\n\tself._bindMouseEvents(cellEvents);\n\n\tif (self.column.modules.edit) {\n\t\tself.table.modules.edit.bindEditor(self);\n\t}\n\n\tif (self.column.definition.rowHandle && self.table.options.movableRows !== false && self.table.modExists(\"moveRow\")) {\n\t\tself.table.modules.moveRow.initializeCell(self);\n\t}\n\n\t//hide cell if not visible\n\tif (!self.column.visible) {\n\t\tself.hide();\n\t}\n};\n\nCell.prototype._bindClickEvents = function (cellEvents) {\n\tvar self = this,\n\t    element = self.element;\n\n\t//set event bindings\n\tif (cellEvents.cellClick || self.table.options.cellClick) {\n\t\telement.addEventListener(\"click\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellClick) {\n\t\t\t\tcellEvents.cellClick.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellClick) {\n\t\t\t\tself.table.options.cellClick.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellDblClick || this.table.options.cellDblClick) {\n\t\telement.addEventListener(\"dblclick\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellDblClick) {\n\t\t\t\tcellEvents.cellDblClick.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellDblClick) {\n\t\t\t\tself.table.options.cellDblClick.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t} else {\n\t\telement.addEventListener(\"dblclick\", function (e) {\n\n\t\t\tif (self.table.modExists(\"edit\")) {\n\t\t\t\tif (self.table.modules.edit.currentCell === self) {\n\t\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// IE\n\t\t\t\t\tvar range = document.body.createTextRange();\n\t\t\t\t\trange.moveToElementText(self.element);\n\t\t\t\t\trange.select();\n\t\t\t\t} else if (window.getSelection) {\n\t\t\t\t\tvar range = document.createRange();\n\t\t\t\t\trange.selectNode(self.element);\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t});\n\t}\n\n\tif (cellEvents.cellContext || this.table.options.cellContext) {\n\t\telement.addEventListener(\"contextmenu\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellContext) {\n\t\t\t\tcellEvents.cellContext.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellContext) {\n\t\t\t\tself.table.options.cellContext.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n};\n\nCell.prototype._bindMouseEvents = function (cellEvents) {\n\tvar self = this,\n\t    element = self.element;\n\n\tif (cellEvents.cellMouseEnter || self.table.options.cellMouseEnter) {\n\t\telement.addEventListener(\"mouseenter\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellMouseEnter) {\n\t\t\t\tcellEvents.cellMouseEnter.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellMouseEnter) {\n\t\t\t\tself.table.options.cellMouseEnter.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellMouseLeave || self.table.options.cellMouseLeave) {\n\t\telement.addEventListener(\"mouseleave\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellMouseLeave) {\n\t\t\t\tcellEvents.cellMouseLeave.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellMouseLeave) {\n\t\t\t\tself.table.options.cellMouseLeave.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellMouseOver || self.table.options.cellMouseOver) {\n\t\telement.addEventListener(\"mouseover\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellMouseOver) {\n\t\t\t\tcellEvents.cellMouseOver.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellMouseOver) {\n\t\t\t\tself.table.options.cellMouseOver.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellMouseOut || self.table.options.cellMouseOut) {\n\t\telement.addEventListener(\"mouseout\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellMouseOut) {\n\t\t\t\tcellEvents.cellMouseOut.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellMouseOut) {\n\t\t\t\tself.table.options.cellMouseOut.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellMouseMove || self.table.options.cellMouseMove) {\n\t\telement.addEventListener(\"mousemove\", function (e) {\n\t\t\tvar component = self.getComponent();\n\n\t\t\tif (cellEvents.cellMouseMove) {\n\t\t\t\tcellEvents.cellMouseMove.call(self.table, e, component);\n\t\t\t}\n\n\t\t\tif (self.table.options.cellMouseMove) {\n\t\t\t\tself.table.options.cellMouseMove.call(self.table, e, component);\n\t\t\t}\n\t\t});\n\t}\n};\n\nCell.prototype._bindTouchEvents = function (cellEvents) {\n\tvar self = this,\n\t    element = self.element,\n\t    dblTap,\n\t    tapHold,\n\t    tap;\n\n\tif (cellEvents.cellTap || this.table.options.cellTap) {\n\t\ttap = false;\n\n\t\telement.addEventListener(\"touchstart\", function (e) {\n\t\t\ttap = true;\n\t\t}, { passive: true });\n\n\t\telement.addEventListener(\"touchend\", function (e) {\n\t\t\tif (tap) {\n\t\t\t\tvar component = self.getComponent();\n\n\t\t\t\tif (cellEvents.cellTap) {\n\t\t\t\t\tcellEvents.cellTap.call(self.table, e, component);\n\t\t\t\t}\n\n\t\t\t\tif (self.table.options.cellTap) {\n\t\t\t\t\tself.table.options.cellTap.call(self.table, e, component);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttap = false;\n\t\t});\n\t}\n\n\tif (cellEvents.cellDblTap || this.table.options.cellDblTap) {\n\t\tdblTap = null;\n\n\t\telement.addEventListener(\"touchend\", function (e) {\n\n\t\t\tif (dblTap) {\n\t\t\t\tclearTimeout(dblTap);\n\t\t\t\tdblTap = null;\n\n\t\t\t\tvar component = self.getComponent();\n\n\t\t\t\tif (cellEvents.cellDblTap) {\n\t\t\t\t\tcellEvents.cellDblTap.call(self.table, e, component);\n\t\t\t\t}\n\n\t\t\t\tif (self.table.options.cellDblTap) {\n\t\t\t\t\tself.table.options.cellDblTap.call(self.table, e, component);\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tdblTap = setTimeout(function () {\n\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\tdblTap = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cellEvents.cellTapHold || this.table.options.cellTapHold) {\n\t\ttapHold = null;\n\n\t\telement.addEventListener(\"touchstart\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\n\t\t\ttapHold = setTimeout(function () {\n\t\t\t\tclearTimeout(tapHold);\n\t\t\t\ttapHold = null;\n\t\t\t\ttap = false;\n\t\t\t\tvar component = self.getComponent();\n\n\t\t\t\tif (cellEvents.cellTapHold) {\n\t\t\t\t\tcellEvents.cellTapHold.call(self.table, e, component);\n\t\t\t\t}\n\n\t\t\t\tif (self.table.options.cellTapHold) {\n\t\t\t\t\tself.table.options.cellTapHold.call(self.table, e, component);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}, { passive: true });\n\n\t\telement.addEventListener(\"touchend\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\t\t\ttapHold = null;\n\t\t});\n\t}\n};\n\n//generate cell contents\nCell.prototype._generateContents = function () {\n\tvar val;\n\n\tif (this.table.modExists(\"format\")) {\n\t\tval = this.table.modules.format.formatValue(this);\n\t} else {\n\t\tval = this.element.innerHTML = this.value;\n\t}\n\n\tswitch (typeof val === 'undefined' ? 'undefined' : _typeof(val)) {\n\t\tcase \"object\":\n\t\t\tif (val instanceof Node) {\n\n\t\t\t\t//clear previous cell contents\n\t\t\t\twhile (this.element.firstChild) {\n\t\t\t\t\tthis.element.removeChild(this.element.firstChild);\n\t\t\t\t}this.element.appendChild(val);\n\t\t\t} else {\n\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\tif (val != null) {\n\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"undefined\":\n\t\tcase \"null\":\n\t\t\tthis.element.innerHTML = \"\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthis.element.innerHTML = val;\n\t}\n};\n\nCell.prototype.cellRendered = function () {\n\tif (this.table.modExists(\"format\") && this.table.modules.format.cellRendered) {\n\t\tthis.table.modules.format.cellRendered(this);\n\t}\n};\n\n//generate tooltip text\nCell.prototype._generateTooltip = function () {\n\tvar tooltip = this.column.tooltip;\n\n\tif (tooltip) {\n\t\tif (tooltip === true) {\n\t\t\ttooltip = this.value;\n\t\t} else if (typeof tooltip == \"function\") {\n\t\t\ttooltip = tooltip(this.getComponent());\n\n\t\t\tif (tooltip === false) {\n\t\t\t\ttooltip = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (typeof tooltip === \"undefined\") {\n\t\t\ttooltip = \"\";\n\t\t}\n\n\t\tthis.element.setAttribute(\"title\", tooltip);\n\t} else {\n\t\tthis.element.setAttribute(\"title\", \"\");\n\t}\n};\n\n//////////////////// Getters ////////////////////\nCell.prototype.getElement = function () {\n\tif (!this.loaded) {\n\t\tthis.loaded = true;\n\t\tthis.layoutElement();\n\t}\n\n\treturn this.element;\n};\n\nCell.prototype.getValue = function () {\n\treturn this.value;\n};\n\nCell.prototype.getOldValue = function () {\n\treturn this.oldValue;\n};\n\n//////////////////// Actions ////////////////////\n\nCell.prototype.setValue = function (value, mutate) {\n\n\tvar changed = this.setValueProcessData(value, mutate),\n\t    component;\n\n\tif (changed) {\n\t\tif (this.table.options.history && this.table.modExists(\"history\")) {\n\t\t\tthis.table.modules.history.action(\"cellEdit\", this, { oldValue: this.oldValue, newValue: this.value });\n\t\t}\n\n\t\tcomponent = this.getComponent();\n\n\t\tif (this.column.cellEvents.cellEdited) {\n\t\t\tthis.column.cellEvents.cellEdited.call(this.table, component);\n\t\t}\n\n\t\tif (this.table.options.groupUpdateOnCellEdit && this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\t\tthis.table.modules.groupRows.reassignRowToGroup(this.row);\n\t\t}\n\n\t\tthis.cellRendered();\n\n\t\tthis.table.options.cellEdited.call(this.table, component);\n\n\t\tif (this.table.options.dataChanged) {\n\t\t\tthis.table.options.dataChanged.call(this.table, this.table.rowManager.getData());\n\t\t}\n\t}\n};\n\nCell.prototype.setValueProcessData = function (value, mutate) {\n\tvar changed = false;\n\n\tif (this.value != value) {\n\n\t\tchanged = true;\n\n\t\tif (mutate) {\n\t\t\tif (this.column.modules.mutate) {\n\t\t\t\tvalue = this.table.modules.mutator.transformCell(this, value);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.setValueActual(value);\n\n\tif (changed && this.table.modExists(\"columnCalcs\")) {\n\t\tif (this.column.definition.topCalc || this.column.definition.bottomCalc) {\n\t\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\n\t\t\t\tif (this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\") {\n\t\t\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\n\t\t\t\t}\n\n\t\t\t\tif (this.table.options.columnCalcs != \"table\") {\n\t\t\t\t\tthis.table.modules.columnCalcs.recalcRowGroup(this.row);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn changed;\n};\n\nCell.prototype.setValueActual = function (value) {\n\tthis.oldValue = this.value;\n\n\tthis.value = value;\n\n\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\")) {\n\t\tthis.table.modules.reactiveData.block();\n\t}\n\n\tthis.column.setFieldValue(this.row.data, value);\n\n\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\")) {\n\t\tthis.table.modules.reactiveData.unblock();\n\t}\n\n\tif (this.loaded) {\n\t\tthis.layoutElement();\n\t}\n};\n\nCell.prototype.layoutElement = function () {\n\tthis._generateContents();\n\tthis._generateTooltip();\n\n\t//set resizable handles\n\tif (this.table.options.resizableColumns && this.table.modExists(\"resizeColumns\") && this.row.type === \"row\") {\n\t\tthis.table.modules.resizeColumns.initializeColumn(\"cell\", this.column, this.element);\n\t}\n\n\tif ((this.column.definition.contextMenu || this.column.definition.clickMenu) && this.table.modExists(\"menu\")) {\n\t\tthis.table.modules.menu.initializeCell(this);\n\t}\n\n\t//handle frozen cells\n\tif (this.table.modExists(\"frozenColumns\")) {\n\t\tthis.table.modules.frozenColumns.layoutElement(this.element, this.column);\n\t}\n};\n\nCell.prototype.setWidth = function () {\n\tthis.width = this.column.width;\n\tthis.element.style.width = this.column.widthStyled;\n};\n\nCell.prototype.clearWidth = function () {\n\tthis.width = \"\";\n\tthis.element.style.width = \"\";\n};\n\nCell.prototype.getWidth = function () {\n\treturn this.width || this.element.offsetWidth;\n};\n\nCell.prototype.setMinWidth = function () {\n\tthis.minWidth = this.column.minWidth;\n\tthis.element.style.minWidth = this.column.minWidthStyled;\n};\n\nCell.prototype.checkHeight = function () {\n\t// var height = this.element.css(\"height\");\n\tthis.row.reinitializeHeight();\n};\n\nCell.prototype.clearHeight = function () {\n\tthis.element.style.height = \"\";\n\tthis.height = null;\n};\n\nCell.prototype.setHeight = function () {\n\tthis.height = this.row.height;\n\tthis.element.style.height = this.row.heightStyled;\n};\n\nCell.prototype.getHeight = function () {\n\treturn this.height || this.element.offsetHeight;\n};\n\nCell.prototype.show = function () {\n\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n};\n\nCell.prototype.hide = function () {\n\tthis.element.style.display = \"none\";\n};\n\nCell.prototype.edit = function (force) {\n\tif (this.table.modExists(\"edit\", true)) {\n\t\treturn this.table.modules.edit.editCell(this, force);\n\t}\n};\n\nCell.prototype.cancelEdit = function () {\n\tif (this.table.modExists(\"edit\", true)) {\n\t\tvar editing = this.table.modules.edit.getCurrentCell();\n\n\t\tif (editing && editing._getSelf() === this) {\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t} else {\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n};\n\nCell.prototype.validate = function () {\n\tif (this.column.modules.validate && this.table.modExists(\"validate\", true)) {\n\t\tvar valid = this.table.modules.validate.validate(this.column.modules.validate, this, this.getValue());\n\n\t\treturn valid === true;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nCell.prototype.delete = function () {\n\tif (!this.table.rowManager.redrawBlock && this.element.parentNode) {\n\t\tthis.element.parentNode.removeChild(this.element);\n\t}\n\n\tif (this.modules.validate && this.modules.validate.invalid) {\n\t\tthis.table.modules.validate.clearValidation(this);\n\t}\n\n\tif (this.modules.edit && this.modules.edit.edited) {\n\t\tthis.table.modules.edit.clearEdited(this);\n\t}\n\n\tif (this.table.options.history) {\n\t\tthis.table.modules.history.clearComponentHistory(this);\n\t}\n\n\tthis.element = false;\n\tthis.column.deleteCell(this);\n\tthis.row.deleteCell(this);\n\tthis.calcs = {};\n};\n\n//////////////// Navigation /////////////////\n\nCell.prototype.nav = function () {\n\n\tvar self = this,\n\t    nextCell = false,\n\t    index = this.row.getCellIndex(this);\n\n\treturn {\n\t\tnext: function next() {\n\t\t\tvar nextCell = this.right(),\n\t\t\t    nextRow;\n\n\t\t\tif (!nextCell) {\n\t\t\t\tnextRow = self.table.rowManager.nextDisplayRow(self.row, true);\n\n\t\t\t\tif (nextRow) {\n\t\t\t\t\tnextCell = nextRow.findNextEditableCell(-1);\n\n\t\t\t\t\tif (nextCell) {\n\t\t\t\t\t\tnextCell.edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tprev: function prev() {\n\t\t\tvar nextCell = this.left(),\n\t\t\t    prevRow;\n\n\t\t\tif (!nextCell) {\n\t\t\t\tprevRow = self.table.rowManager.prevDisplayRow(self.row, true);\n\n\t\t\t\tif (prevRow) {\n\t\t\t\t\tnextCell = prevRow.findPrevEditableCell(prevRow.cells.length);\n\n\t\t\t\t\tif (nextCell) {\n\t\t\t\t\t\tnextCell.edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tleft: function left() {\n\n\t\t\tnextCell = self.row.findPrevEditableCell(index);\n\n\t\t\tif (nextCell) {\n\t\t\t\tnextCell.edit();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tright: function right() {\n\t\t\tnextCell = self.row.findNextEditableCell(index);\n\n\t\t\tif (nextCell) {\n\t\t\t\tnextCell.edit();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tup: function up() {\n\t\t\tvar nextRow = self.table.rowManager.prevDisplayRow(self.row, true);\n\n\t\t\tif (nextRow) {\n\t\t\t\tnextRow.cells[index].edit();\n\t\t\t}\n\t\t},\n\t\tdown: function down() {\n\t\t\tvar nextRow = self.table.rowManager.nextDisplayRow(self.row, true);\n\n\t\t\tif (nextRow) {\n\t\t\t\tnextRow.cells[index].edit();\n\t\t\t}\n\t\t}\n\n\t};\n};\n\nCell.prototype.getIndex = function () {\n\tthis.row.getCellIndex(this);\n};\n\n//////////////// Object Generation /////////////////\nCell.prototype.getComponent = function () {\n\n\tif (!this.component) {\n\t\tthis.component = new CellComponent(this);\n\t}\n\n\treturn this.component;\n};\nvar FooterManager = function FooterManager(table) {\n\tthis.table = table;\n\tthis.active = false;\n\tthis.element = this.createElement(); //containing element\n\tthis.external = false;\n\tthis.links = [];\n\n\tthis._initialize();\n};\n\nFooterManager.prototype.createElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-footer\");\n\n\treturn el;\n};\n\nFooterManager.prototype._initialize = function (element) {\n\tif (this.table.options.footerElement) {\n\n\t\tswitch (_typeof(this.table.options.footerElement)) {\n\t\t\tcase \"string\":\n\n\t\t\t\tif (this.table.options.footerElement[0] === \"<\") {\n\t\t\t\t\tthis.element.innerHTML = this.table.options.footerElement;\n\t\t\t\t} else {\n\t\t\t\t\tthis.external = true;\n\t\t\t\t\tthis.element = document.querySelector(this.table.options.footerElement);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\nFooterManager.prototype.getElement = function () {\n\treturn this.element;\n};\n\nFooterManager.prototype.append = function (element, parent) {\n\tthis.activate(parent);\n\n\tthis.element.appendChild(element);\n\tthis.table.rowManager.adjustTableSize();\n};\n\nFooterManager.prototype.prepend = function (element, parent) {\n\tthis.activate(parent);\n\n\tthis.element.insertBefore(element, this.element.firstChild);\n\tthis.table.rowManager.adjustTableSize();\n};\n\nFooterManager.prototype.remove = function (element) {\n\telement.parentNode.removeChild(element);\n\tthis.deactivate();\n};\n\nFooterManager.prototype.deactivate = function (force) {\n\tif (!this.element.firstChild || force) {\n\t\tif (!this.external) {\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t\tthis.active = false;\n\t}\n\n\t// this.table.rowManager.adjustTableSize();\n};\n\nFooterManager.prototype.activate = function (parent) {\n\tif (!this.active) {\n\t\tthis.active = true;\n\t\tif (!this.external) {\n\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\tthis.table.element.style.display = '';\n\t\t}\n\t}\n\n\tif (parent) {\n\t\tthis.links.push(parent);\n\t}\n};\n\nFooterManager.prototype.redraw = function () {\n\tthis.links.forEach(function (link) {\n\t\tlink.footerRedraw();\n\t});\n};\n\nvar Tabulator = function Tabulator(element, options) {\n\n\tthis.options = {};\n\n\tthis.columnManager = null; // hold Column Manager\n\tthis.rowManager = null; //hold Row Manager\n\tthis.footerManager = null; //holder Footer Manager\n\tthis.vdomHoz = null; //holder horizontal virtual dom\n\n\n\tthis.browser = \"\"; //hold current browser type\n\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\tthis.browserMobile = false; //check if running on moble, prevent resize cancelling edit on keyboard appearence\n\tthis.rtl = false; //check if the table is in RTL mode\n\n\tthis.modules = {}; //hold all modules bound to this table\n\n\tif (this.initializeElement(element)) {\n\t\tthis.initializeOptions(options || {});\n\t\tthis._create();\n\t}\n\n\tTabulator.prototype.comms.register(this); //register table for inderdevice communication\n};\n\n//default setup options\nTabulator.prototype.defaultOptions = {\n\n\theight: false, //height of tabulator\n\tminHeight: false, //minimum height of tabulator\n\tmaxHeight: false, //maximum height of tabulator\n\n\tlayout: \"fitData\", ///layout type \"fitColumns\" | \"fitData\"\n\tlayoutColumnsOnNewData: false, //update column widths on setData\n\n\tcolumnMinWidth: 40, //minimum global width for a column\n\tcolumnHeaderVertAlign: \"top\", //vertical alignment of column headers\n\tcolumnVertAlign: false, // DEPRECATED - Left to allow warning\n\n\tresizableColumns: true, //resizable columns\n\tresizableRows: false, //resizable rows\n\tautoResize: true, //auto resize table\n\n\tcolumns: [], //store for colum header info\n\n\tcellHozAlign: \"\", //horizontal align columns\n\tcellVertAlign: \"\", //vertical align columns\n\theaderHozAlign: \"\", //horizontal header alignment\n\n\n\tdata: [], //default starting data\n\n\tautoColumns: false, //build columns from data row structure\n\tautoColumnsDefinitions: false,\n\n\treactiveData: false, //enable data reactivity\n\n\tnestedFieldSeparator: \".\", //seperatpr for nested data\n\n\ttooltips: false, //Tool tip value\n\ttooltipsHeader: false, //Tool tip for headers\n\ttooltipGenerationMode: \"load\", //when to generate tooltips\n\n\tinitialSort: false, //initial sorting criteria\n\tinitialFilter: false, //initial filtering criteria\n\tinitialHeaderFilter: false, //initial header filtering criteria\n\n\tcolumnHeaderSortMulti: true, //multiple or single column sorting\n\n\tsortOrderReverse: false, //reverse internal sort ordering\n\n\theaderSort: true, //set default global header sort\n\theaderSortTristate: false, //set default tristate header sorting\n\theaderSortElement: \"<div class='tabulator-arrow'></div>\", //header sort element\n\n\tfooterElement: false, //hold footer element\n\n\tindex: \"id\", //filed for row index\n\n\ttextDirection: \"auto\",\n\n\tkeybindings: [], //array for keybindings\n\n\ttabEndNewRow: false, //create new row when tab to end of table\n\n\tinvalidOptionWarnings: true, //allow toggling of invalid option warnings\n\n\tclipboard: false, //enable clipboard\n\tclipboardCopyStyled: true, //formatted table data\n\tclipboardCopyConfig: false, //clipboard config\n\tclipboardCopyFormatter: false, //DEPRICATED - REMOVE in 5.0\n\tclipboardCopyRowRange: \"active\", //restrict clipboard to visible rows only\n\tclipboardPasteParser: \"table\", //convert pasted clipboard data to rows\n\tclipboardPasteAction: \"insert\", //how to insert pasted data into the table\n\n\tclipboardCopied: function clipboardCopied() {}, //data has been copied to the clipboard\n\tclipboardPasted: function clipboardPasted() {}, //data has been pasted into the table\n\tclipboardPasteError: function clipboardPasteError() {}, //data has not successfully been pasted into the table\n\n\tdownloadDataFormatter: false, //function to manipulate table data before it is downloaded\n\tdownloadReady: function downloadReady(data, blob) {\n\t\treturn blob;\n\t}, //function to manipulate download data\n\tdownloadComplete: false, //function to manipulate download data\n\tdownloadConfig: {}, //download config\n\tdownloadRowRange: \"active\", //restrict download to active rows only\n\n\tdataTree: false, //enable data tree\n\tdataTreeFilter: true, //filter child rows\n\tdataTreeSort: true, //sort child rows\n\tdataTreeElementColumn: false,\n\tdataTreeBranchElement: true, //show data tree branch element\n\tdataTreeChildIndent: 9, //data tree child indent in px\n\tdataTreeChildField: \"_children\", //data tre column field to look for child rows\n\tdataTreeCollapseElement: false, //data tree row collapse element\n\tdataTreeExpandElement: false, //data tree row expand element\n\tdataTreeStartExpanded: false,\n\tdataTreeRowExpanded: function dataTreeRowExpanded() {}, //row has been expanded\n\tdataTreeRowCollapsed: function dataTreeRowCollapsed() {}, //row has been collapsed\n\tdataTreeChildColumnCalcs: false, //include visible data tree rows in column calculations\n\tdataTreeSelectPropagate: false, //seleccting a parent row selects its children\n\n\tprintAsHtml: false, //enable print as html\n\tprintFormatter: false, //printing page formatter\n\tprintHeader: false, //page header contents\n\tprintFooter: false, //page footer contents\n\tprintCopyStyle: true, //DEPRICATED - REMOVE in 5.0\n\tprintStyled: true, //enable print as html styling\n\tprintVisibleRows: true, //DEPRICATED - REMOVE in 5.0\n\tprintRowRange: \"visible\", //restrict print to visible rows only\n\tprintConfig: {}, //print config options\n\n\taddRowPos: \"bottom\", //position to insert blank rows, top|bottom\n\n\tselectable: \"highlight\", //highlight rows on hover\n\tselectableRangeMode: \"drag\", //highlight rows on hover\n\tselectableRollingSelection: true, //roll selection once maximum number of selectable rows is reached\n\tselectablePersistence: true, // maintain selection when table view is updated\n\tselectableCheck: function selectableCheck(data, row) {\n\t\treturn true;\n\t}, //check wheather row is selectable\n\n\theaderFilterLiveFilterDelay: 300, //delay before updating column after user types in header filter\n\theaderFilterPlaceholder: false, //placeholder text to display in header filters\n\n\theaderVisible: true, //hide header\n\n\thistory: false, //enable edit history\n\n\tlocale: false, //current system language\n\tlangs: {},\n\n\tvirtualDom: true, //enable DOM virtualization\n\tvirtualDomBuffer: 0, // set virtual DOM buffer size\n\tvirtualDomHoz: false, //enable horizontal DOM virtualization\n\n\tpersistentLayout: false, //DEPRICATED - REMOVE in 5.0\n\tpersistentSort: false, //DEPRICATED - REMOVE in 5.0\n\tpersistentFilter: false, //DEPRICATED - REMOVE in 5.0\n\tpersistenceID: \"\", //key for persistent storage\n\tpersistenceMode: true, //mode for storing persistence information\n\tpersistenceReaderFunc: false, //function for handling persistence data reading\n\tpersistenceWriterFunc: false, //function for handling persistence data writing\n\n\tpersistence: false,\n\n\tresponsiveLayout: false, //responsive layout flags\n\tresponsiveLayoutCollapseStartOpen: true, //start showing collapsed data\n\tresponsiveLayoutCollapseUseFormatters: true, //responsive layout collapse formatter\n\tresponsiveLayoutCollapseFormatter: false, //responsive layout collapse formatter\n\n\tpagination: false, //set pagination type\n\tpaginationSize: false, //set number of rows to a page\n\tpaginationInitialPage: 1, //initail page to show on load\n\tpaginationButtonCount: 5, // set count of page button\n\tpaginationSizeSelector: false, //add pagination size selector element\n\tpaginationElement: false, //element to hold pagination numbers\n\tpaginationDataSent: {}, //pagination data sent to the server\n\tpaginationDataReceived: {}, //pagination data received from the server\n\tpaginationAddRow: \"page\", //add rows on table or page\n\n\tajaxURL: false, //url for ajax loading\n\tajaxURLGenerator: false,\n\tajaxParams: {}, //params for ajax loading\n\tajaxConfig: \"get\", //ajax request type\n\tajaxContentType: \"form\", //ajax request type\n\tajaxRequestFunc: false, //promise function\n\tajaxLoader: true, //show loader\n\tajaxLoaderLoading: false, //loader element\n\tajaxLoaderError: false, //loader element\n\tajaxFiltering: false,\n\tajaxSorting: false,\n\tajaxProgressiveLoad: false, //progressive loading\n\tajaxProgressiveLoadDelay: 0, //delay between requests\n\tajaxProgressiveLoadScrollMargin: 0, //margin before scroll begins\n\n\tgroupBy: false, //enable table grouping and set field to group by\n\tgroupStartOpen: true, //starting state of group\n\tgroupValues: false,\n\tgroupUpdateOnCellEdit: false,\n\n\tgroupHeader: false, //header generation function\n\tgroupHeaderPrint: null,\n\tgroupHeaderClipboard: null,\n\tgroupHeaderHtmlOutput: null,\n\tgroupHeaderDownload: null,\n\n\thtmlOutputConfig: false, //html outypu config\n\n\tmovableColumns: false, //enable movable columns\n\n\tmovableRows: false, //enable movable rows\n\tmovableRowsConnectedTables: false, //tables for movable rows to be connected to\n\tmovableRowsConnectedElements: false, //other elements for movable rows to be connected to\n\tmovableRowsSender: false,\n\tmovableRowsReceiver: \"insert\",\n\tmovableRowsSendingStart: function movableRowsSendingStart() {},\n\tmovableRowsSent: function movableRowsSent() {},\n\tmovableRowsSentFailed: function movableRowsSentFailed() {},\n\tmovableRowsSendingStop: function movableRowsSendingStop() {},\n\tmovableRowsReceivingStart: function movableRowsReceivingStart() {},\n\tmovableRowsReceived: function movableRowsReceived() {},\n\tmovableRowsReceivedFailed: function movableRowsReceivedFailed() {},\n\tmovableRowsReceivingStop: function movableRowsReceivingStop() {},\n\tmovableRowsElementDrop: function movableRowsElementDrop() {},\n\n\tscrollToRowPosition: \"top\",\n\tscrollToRowIfVisible: true,\n\n\tscrollToColumnPosition: \"left\",\n\tscrollToColumnIfVisible: true,\n\n\trowFormatter: false,\n\trowFormatterPrint: null,\n\trowFormatterClipboard: null,\n\trowFormatterHtmlOutput: null,\n\n\tplaceholder: false,\n\n\t//table building callbacks\n\ttableBuilding: function tableBuilding() {},\n\ttableBuilt: function tableBuilt() {},\n\n\t//render callbacks\n\trenderStarted: function renderStarted() {},\n\trenderComplete: function renderComplete() {},\n\n\t//row callbacks\n\trowClick: false,\n\trowDblClick: false,\n\trowContext: false,\n\trowTap: false,\n\trowDblTap: false,\n\trowTapHold: false,\n\trowMouseEnter: false,\n\trowMouseLeave: false,\n\trowMouseOver: false,\n\trowMouseOut: false,\n\trowMouseMove: false,\n\trowContextMenu: false,\n\trowClickMenu: false,\n\trowAdded: function rowAdded() {},\n\trowDeleted: function rowDeleted() {},\n\trowMoved: function rowMoved() {},\n\trowUpdated: function rowUpdated() {},\n\trowSelectionChanged: function rowSelectionChanged() {},\n\trowSelected: function rowSelected() {},\n\trowDeselected: function rowDeselected() {},\n\trowResized: function rowResized() {},\n\n\t//cell callbacks\n\t//row callbacks\n\tcellClick: false,\n\tcellDblClick: false,\n\tcellContext: false,\n\tcellTap: false,\n\tcellDblTap: false,\n\tcellTapHold: false,\n\tcellMouseEnter: false,\n\tcellMouseLeave: false,\n\tcellMouseOver: false,\n\tcellMouseOut: false,\n\tcellMouseMove: false,\n\tcellEditing: function cellEditing() {},\n\tcellEdited: function cellEdited() {},\n\tcellEditCancelled: function cellEditCancelled() {},\n\n\t//column callbacks\n\tcolumnMoved: false,\n\tcolumnResized: function columnResized() {},\n\tcolumnTitleChanged: function columnTitleChanged() {},\n\tcolumnVisibilityChanged: function columnVisibilityChanged() {},\n\n\t//HTML iport callbacks\n\thtmlImporting: function htmlImporting() {},\n\thtmlImported: function htmlImported() {},\n\n\t//data callbacks\n\tdataLoading: function dataLoading() {},\n\tdataLoaded: function dataLoaded() {},\n\tdataEdited: false, //DEPRECATED\n\tdataChanged: false,\n\n\t//ajax callbacks\n\tajaxRequesting: function ajaxRequesting() {},\n\tajaxResponse: false,\n\tajaxError: function ajaxError() {},\n\n\t//filtering callbacks\n\tdataFiltering: false,\n\tdataFiltered: false,\n\n\t//sorting callbacks\n\tdataSorting: function dataSorting() {},\n\tdataSorted: function dataSorted() {},\n\n\t//grouping callbacks\n\tgroupToggleElement: \"arrow\",\n\tgroupClosedShowCalcs: false,\n\tdataGrouping: function dataGrouping() {},\n\tdataGrouped: false,\n\tgroupVisibilityChanged: function groupVisibilityChanged() {},\n\tgroupClick: false,\n\tgroupDblClick: false,\n\tgroupContext: false,\n\tgroupContextMenu: false,\n\tgroupClickMenu: false,\n\tgroupTap: false,\n\tgroupDblTap: false,\n\tgroupTapHold: false,\n\n\tcolumnCalcs: true,\n\n\t//pagination callbacks\n\tpageLoaded: function pageLoaded() {},\n\n\t//localization callbacks\n\tlocalized: function localized() {},\n\n\t//validation callbacks\n\tvalidationMode: \"blocking\",\n\tvalidationFailed: function validationFailed() {},\n\n\t//history callbacks\n\thistoryUndo: function historyUndo() {},\n\thistoryRedo: function historyRedo() {},\n\n\t//scroll callbacks\n\tscrollHorizontal: function scrollHorizontal() {},\n\tscrollVertical: function scrollVertical() {}\n};\n\nTabulator.prototype.initializeOptions = function (options) {\n\n\t//warn user if option is not available\n\tif (options.invalidOptionWarnings !== false) {\n\t\tfor (var key in options) {\n\t\t\tif (typeof this.defaultOptions[key] === \"undefined\") {\n\t\t\t\tconsole.warn(\"Invalid table constructor option:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\t//assign options to table\n\tfor (var key in this.defaultOptions) {\n\t\tif (key in options) {\n\t\t\tthis.options[key] = options[key];\n\t\t} else {\n\t\t\tif (Array.isArray(this.defaultOptions[key])) {\n\t\t\t\tthis.options[key] = Object.assign([], this.defaultOptions[key]);\n\t\t\t} else if (_typeof(this.defaultOptions[key]) === \"object\" && this.defaultOptions[key] !== null) {\n\t\t\t\tthis.options[key] = Object.assign({}, this.defaultOptions[key]);\n\t\t\t} else {\n\t\t\t\tthis.options[key] = this.defaultOptions[key];\n\t\t\t}\n\t\t}\n\t}\n};\n\nTabulator.prototype.initializeElement = function (element) {\n\n\tif (typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement) {\n\t\tthis.element = element;\n\t\treturn true;\n\t} else if (typeof element === \"string\") {\n\t\tthis.element = document.querySelector(element);\n\n\t\tif (this.element) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.rtlCheck = function () {\n\tvar style = window.getComputedStyle(this.element);\n\n\tswitch (this.options.textDirection) {\n\t\tcase \"auto\":\n\t\t\tif (style.direction !== \"rtl\") {\n\t\t\t\tbreak;\n\t\t\t};\n\n\t\tcase \"rtl\":\n\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\tthis.rtl = true;\n\t\t\tbreak;\n\n\t\tcase \"ltr\":\n\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\n\t\tdefault:\n\t\t\tthis.rtl = false;\n\t}\n};\n\n//convert depricated functionality to new functions\nTabulator.prototype._mapDepricatedFunctionality = function () {\n\n\t//map depricated persistance setup options\n\tif (this.options.persistentLayout || this.options.persistentSort || this.options.persistentFilter) {\n\t\tif (!this.options.persistence) {\n\t\t\tthis.options.persistence = {};\n\t\t}\n\t}\n\n\tif (this.options.dataEdited) {\n\t\tconsole.warn(\"DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead\");\n\t\tthis.options.dataChanged = this.options.dataEdited;\n\t}\n\n\tif (this.options.downloadDataFormatter) {\n\t\tconsole.warn(\"DEPRECATION WARNING - downloadDataFormatter option has been deprecated\");\n\t}\n\n\tif (typeof this.options.clipboardCopyHeader !== \"undefined\") {\n\t\tthis.options.columnHeaders = this.options.clipboardCopyHeader;\n\t\tconsole.warn(\"DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option\");\n\t}\n\n\tif (this.options.printVisibleRows !== true) {\n\t\tconsole.warn(\"printVisibleRows option is deprecated, you should now use the printRowRange option\");\n\n\t\tthis.options.persistence.printRowRange = \"active\";\n\t}\n\n\tif (this.options.printCopyStyle !== true) {\n\t\tconsole.warn(\"printCopyStyle option is deprecated, you should now use the printStyled option\");\n\n\t\tthis.options.persistence.printStyled = this.options.printCopyStyle;\n\t}\n\n\tif (this.options.persistentLayout) {\n\t\tconsole.warn(\"persistentLayout option is deprecated, you should now use the persistence option\");\n\n\t\tif (this.options.persistence !== true && typeof this.options.persistence.columns === \"undefined\") {\n\t\t\tthis.options.persistence.columns = true;\n\t\t}\n\t}\n\n\tif (this.options.persistentSort) {\n\t\tconsole.warn(\"persistentSort option is deprecated, you should now use the persistence option\");\n\n\t\tif (this.options.persistence !== true && typeof this.options.persistence.sort === \"undefined\") {\n\t\t\tthis.options.persistence.sort = true;\n\t\t}\n\t}\n\n\tif (this.options.persistentFilter) {\n\t\tconsole.warn(\"persistentFilter option is deprecated, you should now use the persistence option\");\n\n\t\tif (this.options.persistence !== true && typeof this.options.persistence.filter === \"undefined\") {\n\t\t\tthis.options.persistence.filter = true;\n\t\t}\n\t}\n\n\tif (this.options.columnVertAlign) {\n\t\tconsole.warn(\"columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option\");\n\n\t\tthis.options.columnHeaderVertAlign = this.options.columnVertAlign;\n\t}\n};\n\nTabulator.prototype._clearSelection = function () {\n\n\tthis.element.classList.add(\"tabulator-block-select\");\n\n\tif (window.getSelection) {\n\t\tif (window.getSelection().empty) {\n\t\t\t// Chrome\n\t\t\twindow.getSelection().empty();\n\t\t} else if (window.getSelection().removeAllRanges) {\n\t\t\t// Firefox\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t}\n\t} else if (document.selection) {\n\t\t// IE?\n\t\tdocument.selection.empty();\n\t}\n\n\tthis.element.classList.remove(\"tabulator-block-select\");\n};\n\n//concreate table\nTabulator.prototype._create = function () {\n\tthis._clearObjectPointers();\n\n\tthis._mapDepricatedFunctionality();\n\n\tthis.bindModules();\n\n\tthis.rtlCheck();\n\n\tif (this.element.tagName === \"TABLE\") {\n\t\tif (this.modExists(\"htmlTableImport\", true)) {\n\t\t\tthis.modules.htmlTableImport.parseTable();\n\t\t}\n\t}\n\n\tthis.columnManager = new ColumnManager(this);\n\tthis.rowManager = new RowManager(this);\n\tthis.footerManager = new FooterManager(this);\n\n\tthis.columnManager.setRowManager(this.rowManager);\n\tthis.rowManager.setColumnManager(this.columnManager);\n\n\tif (this.options.virtualDomHoz) {\n\t\tthis.vdomHoz = new VDomHoz(this);\n\t}\n\n\tthis._buildElement();\n\n\tthis._loadInitialData();\n};\n\n//clear pointers to objects in default config object\nTabulator.prototype._clearObjectPointers = function () {\n\tthis.options.columns = this.options.columns.slice(0);\n\n\tif (!this.options.reactiveData) {\n\t\tthis.options.data = this.options.data.slice(0);\n\t}\n};\n\n//build tabulator element\nTabulator.prototype._buildElement = function () {\n\tvar _this24 = this;\n\n\tvar element = this.element,\n\t    mod = this.modules,\n\t    options = this.options;\n\n\toptions.tableBuilding.call(this);\n\n\telement.classList.add(\"tabulator\");\n\telement.setAttribute(\"role\", \"grid\");\n\n\t//empty element\n\twhile (element.firstChild) {\n\t\telement.removeChild(element.firstChild);\n\t} //set table height\n\tif (options.height) {\n\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\telement.style.height = options.height;\n\t}\n\n\t//set table min height\n\tif (options.minHeight !== false) {\n\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\telement.style.minHeight = options.minHeight;\n\t}\n\n\t//set table maxHeight\n\tif (options.maxHeight !== false) {\n\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\telement.style.maxHeight = options.maxHeight;\n\t}\n\n\tthis.columnManager.initialize();\n\tthis.rowManager.initialize();\n\n\tthis._detectBrowser();\n\n\tif (this.modExists(\"layout\", true)) {\n\t\tmod.layout.initialize(options.layout);\n\t}\n\n\t//set localization\n\n\tmod.localize.initialize();\n\n\tif (options.headerFilterPlaceholder !== false) {\n\t\tmod.localize.setHeaderFilterPlaceholder(options.headerFilterPlaceholder);\n\t}\n\n\tfor (var locale in options.langs) {\n\t\tmod.localize.installLang(locale, options.langs[locale]);\n\t}\n\n\tmod.localize.setLocale(options.locale);\n\n\t//configure placeholder element\n\tif (typeof options.placeholder == \"string\") {\n\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-placeholder\");\n\n\t\tvar span = document.createElement(\"span\");\n\t\tspan.innerHTML = options.placeholder;\n\n\t\tel.appendChild(span);\n\n\t\toptions.placeholder = el;\n\t}\n\n\t//build table elements\n\telement.appendChild(this.columnManager.getElement());\n\telement.appendChild(this.rowManager.getElement());\n\n\tif (options.footerElement) {\n\t\tthis.footerManager.activate();\n\t}\n\n\tif (options.persistence && this.modExists(\"persistence\", true)) {\n\t\tmod.persistence.initialize();\n\t}\n\n\tif (options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.columns) {\n\t\toptions.columns = mod.persistence.load(\"columns\", options.columns);\n\t}\n\n\tif (options.movableRows && this.modExists(\"moveRow\")) {\n\t\tmod.moveRow.initialize();\n\t}\n\n\tif (options.autoColumns && this.options.data) {\n\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t}\n\n\tif (this.modExists(\"columnCalcs\")) {\n\t\tmod.columnCalcs.initialize();\n\t}\n\n\tthis.columnManager.setColumns(options.columns);\n\n\tif (options.dataTree && this.modExists(\"dataTree\", true)) {\n\t\tmod.dataTree.initialize();\n\t}\n\n\tif (this.modExists(\"frozenRows\")) {\n\t\tthis.modules.frozenRows.initialize();\n\t}\n\n\tif ((options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.sort || options.initialSort) && this.modExists(\"sort\", true)) {\n\t\tvar sorters = [];\n\n\t\tif (options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.sort) {\n\t\t\tsorters = mod.persistence.load(\"sort\");\n\n\t\t\tif (sorters === false && options.initialSort) {\n\t\t\t\tsorters = options.initialSort;\n\t\t\t}\n\t\t} else if (options.initialSort) {\n\t\t\tsorters = options.initialSort;\n\t\t}\n\n\t\tmod.sort.setSort(sorters);\n\t}\n\n\tif ((options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.filter || options.initialFilter) && this.modExists(\"filter\", true)) {\n\t\tvar filters = [];\n\n\t\tif (options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.filter) {\n\t\t\tfilters = mod.persistence.load(\"filter\");\n\n\t\t\tif (filters === false && options.initialFilter) {\n\t\t\t\tfilters = options.initialFilter;\n\t\t\t}\n\t\t} else if (options.initialFilter) {\n\t\t\tfilters = options.initialFilter;\n\t\t}\n\n\t\tmod.filter.setFilter(filters);\n\t}\n\n\tif (options.initialHeaderFilter && this.modExists(\"filter\", true)) {\n\t\toptions.initialHeaderFilter.forEach(function (item) {\n\n\t\t\tvar column = _this24.columnManager.findColumn(item.field);\n\n\t\t\tif (column) {\n\t\t\t\tmod.filter.setHeaderFilterValue(column, item.value);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (this.modExists(\"ajax\")) {\n\t\tmod.ajax.initialize();\n\t}\n\n\tif (options.pagination && this.modExists(\"page\", true)) {\n\t\tmod.page.initialize();\n\t}\n\n\tif (options.groupBy && this.modExists(\"groupRows\", true)) {\n\t\tmod.groupRows.initialize();\n\t}\n\n\tif (this.modExists(\"keybindings\")) {\n\t\tmod.keybindings.initialize();\n\t}\n\n\tif (this.modExists(\"selectRow\")) {\n\t\tmod.selectRow.clearSelectionData(true);\n\t}\n\n\tif (options.autoResize && this.modExists(\"resizeTable\")) {\n\t\tmod.resizeTable.initialize();\n\t}\n\n\tif (this.modExists(\"clipboard\")) {\n\t\tmod.clipboard.initialize();\n\t}\n\n\tif (options.printAsHtml && this.modExists(\"print\")) {\n\t\tmod.print.initialize();\n\t}\n\n\toptions.tableBuilt.call(this);\n};\n\nTabulator.prototype._loadInitialData = function () {\n\tvar self = this;\n\n\tif (self.options.pagination && self.modExists(\"page\")) {\n\t\tself.modules.page.reset(true, true);\n\n\t\tif (self.options.pagination == \"local\") {\n\t\t\tif (self.options.data.length) {\n\t\t\t\tself.rowManager.setData(self.options.data, false, true);\n\t\t\t} else {\n\t\t\t\tif ((self.options.ajaxURL || self.options.ajaxURLGenerator) && self.modExists(\"ajax\")) {\n\t\t\t\t\tself.modules.ajax.loadData(false, true).then(function () {}).catch(function () {\n\t\t\t\t\t\tif (self.options.paginationInitialPage) {\n\t\t\t\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tself.rowManager.setData(self.options.data, false, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self.options.paginationInitialPage) {\n\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage);\n\t\t\t}\n\t\t} else {\n\t\t\tif (self.options.ajaxURL) {\n\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage).then(function () {}).catch(function () {});\n\t\t\t} else {\n\t\t\t\tself.rowManager.setData([], false, true);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (self.options.data.length) {\n\t\t\tself.rowManager.setData(self.options.data);\n\t\t} else {\n\t\t\tif ((self.options.ajaxURL || self.options.ajaxURLGenerator) && self.modExists(\"ajax\")) {\n\t\t\t\tself.modules.ajax.loadData(false, true).then(function () {}).catch(function () {});\n\t\t\t} else {\n\t\t\t\tself.rowManager.setData(self.options.data, false, true);\n\t\t\t}\n\t\t}\n\t}\n};\n\n//deconstructor\nTabulator.prototype.destroy = function () {\n\tvar element = this.element;\n\n\tTabulator.prototype.comms.deregister(this); //deregister table from inderdevice communication\n\n\tif (this.options.reactiveData && this.modExists(\"reactiveData\", true)) {\n\t\tthis.modules.reactiveData.unwatchData();\n\t}\n\n\t//clear row data\n\tthis.rowManager.rows.forEach(function (row) {\n\t\trow.wipe();\n\t});\n\n\tthis.rowManager.rows = [];\n\tthis.rowManager.activeRows = [];\n\tthis.rowManager.displayRows = [];\n\n\t//clear event bindings\n\tif (this.options.autoResize && this.modExists(\"resizeTable\")) {\n\t\tthis.modules.resizeTable.clearBindings();\n\t}\n\n\tif (this.modExists(\"keybindings\")) {\n\t\tthis.modules.keybindings.clearBindings();\n\t}\n\n\t//clear DOM\n\twhile (element.firstChild) {\n\t\telement.removeChild(element.firstChild);\n\t}element.classList.remove(\"tabulator\");\n};\n\nTabulator.prototype._detectBrowser = function () {\n\tvar ua = navigator.userAgent || navigator.vendor || window.opera;\n\n\tif (ua.indexOf(\"Trident\") > -1) {\n\t\tthis.browser = \"ie\";\n\t\tthis.browserSlow = true;\n\t} else if (ua.indexOf(\"Edge\") > -1) {\n\t\tthis.browser = \"edge\";\n\t\tthis.browserSlow = true;\n\t} else if (ua.indexOf(\"Firefox\") > -1) {\n\t\tthis.browser = \"firefox\";\n\t\tthis.browserSlow = false;\n\t} else {\n\t\tthis.browser = \"other\";\n\t\tthis.browserSlow = false;\n\t}\n\n\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(ua.substr(0, 4));\n};\n\n////////////////// Data Handling //////////////////\n\n//block table redrawing\nTabulator.prototype.blockRedraw = function () {\n\treturn this.rowManager.blockRedraw();\n};\n\n//restore table redrawing\nTabulator.prototype.restoreRedraw = function () {\n\treturn this.rowManager.restoreRedraw();\n};\n\n//local data from local file\nTabulator.prototype.setDataFromLocalFile = function (extensions) {\n\tvar _this25 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar input = document.createElement(\"input\");\n\t\tinput.type = \"file\";\n\t\tinput.accept = extensions || \".json,application/json\";\n\n\t\tinput.addEventListener(\"change\", function (e) {\n\t\t\tvar file = input.files[0],\n\t\t\t    reader = new FileReader(),\n\t\t\t    data;\n\n\t\t\treader.readAsText(file);\n\n\t\t\treader.onload = function (e) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(reader.result);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn(\"File Load Error - File contents is invalid JSON\", e);\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this25.setData(data).then(function (data) {\n\t\t\t\t\tresolve(data);\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tresolve(err);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treader.onerror = function (e) {\n\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\treject();\n\t\t\t};\n\t\t});\n\n\t\tinput.click();\n\t});\n};\n\n//load data\nTabulator.prototype.setData = function (data, params, config) {\n\tif (this.modExists(\"ajax\")) {\n\t\tthis.modules.ajax.blockActiveRequest();\n\t}\n\n\treturn this._setData(data, params, config, false, true);\n};\n\nTabulator.prototype._setData = function (data, params, config, inPosition, columnsChanged) {\n\tvar self = this;\n\n\tif (typeof data === \"string\") {\n\t\tif (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0) {\n\t\t\t//data is a json encoded string\n\t\t\treturn self.rowManager.setData(JSON.parse(data), inPosition, columnsChanged);\n\t\t} else {\n\n\t\t\tif (self.modExists(\"ajax\", true)) {\n\t\t\t\tif (params) {\n\t\t\t\t\tself.modules.ajax.setParams(params);\n\t\t\t\t}\n\n\t\t\t\tif (config) {\n\t\t\t\t\tself.modules.ajax.setConfig(config);\n\t\t\t\t}\n\n\t\t\t\tself.modules.ajax.setUrl(data);\n\n\t\t\t\tif (self.options.pagination == \"remote\" && self.modExists(\"page\", true)) {\n\t\t\t\t\tself.modules.page.reset(true, true);\n\t\t\t\t\treturn self.modules.page.setPage(1);\n\t\t\t\t} else {\n\t\t\t\t\t//assume data is url, make ajax call to url to get data\n\t\t\t\t\treturn self.modules.ajax.loadData(inPosition, columnsChanged);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (data) {\n\t\t\t//asume data is already an object\n\t\t\treturn self.rowManager.setData(data, inPosition, columnsChanged);\n\t\t} else {\n\n\t\t\t//no data provided, check if ajaxURL is present;\n\t\t\tif (self.modExists(\"ajax\") && (self.modules.ajax.getUrl || self.options.ajaxURLGenerator)) {\n\n\t\t\t\tif (self.options.pagination == \"remote\" && self.modExists(\"page\", true)) {\n\t\t\t\t\tself.modules.page.reset(true, true);\n\t\t\t\t\treturn self.modules.page.setPage(1);\n\t\t\t\t} else {\n\t\t\t\t\treturn self.modules.ajax.loadData(inPosition, columnsChanged);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//empty data\n\t\t\t\treturn self.rowManager.setData([], inPosition, columnsChanged);\n\t\t\t}\n\t\t}\n\t}\n};\n\n//clear data\nTabulator.prototype.clearData = function () {\n\tif (this.modExists(\"ajax\")) {\n\t\tthis.modules.ajax.blockActiveRequest();\n\t}\n\n\tthis.rowManager.clearData();\n};\n\n//get table data array\nTabulator.prototype.getData = function (active) {\n\n\tif (active === true) {\n\t\tconsole.warn(\"passing a boolean to the getData function is deprecated, you should now pass the string 'active'\");\n\t\tactive = \"active\";\n\t}\n\n\treturn this.rowManager.getData(active);\n};\n\n//get table data array count\nTabulator.prototype.getDataCount = function (active) {\n\n\tif (active === true) {\n\t\tconsole.warn(\"passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'\");\n\t\tactive = \"active\";\n\t}\n\n\treturn this.rowManager.getDataCount(active);\n};\n\n//search for specific row components\nTabulator.prototype.searchRows = function (field, type, value) {\n\tif (this.modExists(\"filter\", true)) {\n\t\treturn this.modules.filter.search(\"rows\", field, type, value);\n\t}\n};\n\n//search for specific data\nTabulator.prototype.searchData = function (field, type, value) {\n\tif (this.modExists(\"filter\", true)) {\n\t\treturn this.modules.filter.search(\"data\", field, type, value);\n\t}\n};\n\n//get table html\nTabulator.prototype.getHtml = function (visible, style, config) {\n\tif (this.modExists(\"export\", true)) {\n\t\treturn this.modules.export.getHtml(visible, style, config);\n\t}\n};\n\n//get print html\nTabulator.prototype.print = function (visible, style, config) {\n\tif (this.modExists(\"print\", true)) {\n\t\treturn this.modules.print.printFullscreen(visible, style, config);\n\t}\n};\n\n//retrieve Ajax URL\nTabulator.prototype.getAjaxUrl = function () {\n\tif (this.modExists(\"ajax\", true)) {\n\t\treturn this.modules.ajax.getUrl();\n\t}\n};\n\n//replace data, keeping table in position with same sort\nTabulator.prototype.replaceData = function (data, params, config) {\n\tif (this.modExists(\"ajax\")) {\n\t\tthis.modules.ajax.blockActiveRequest();\n\t}\n\n\treturn this._setData(data, params, config, true);\n};\n\n//update table data\nTabulator.prototype.updateData = function (data) {\n\tvar _this26 = this;\n\n\tvar self = this;\n\tvar responses = 0;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this26.modExists(\"ajax\")) {\n\t\t\t_this26.modules.ajax.blockActiveRequest();\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif (data) {\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tvar row = self.rowManager.findRow(item[self.options.index]);\n\n\t\t\t\tif (row) {\n\t\t\t\t\tresponses++;\n\n\t\t\t\t\trow.updateData(item).then(function () {\n\t\t\t\t\t\tresponses--;\n\n\t\t\t\t\t\tif (!responses) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\treject(\"Update Error - No data provided\");\n\t\t}\n\t});\n};\n\nTabulator.prototype.addData = function (data, pos, index) {\n\tvar _this27 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this27.modExists(\"ajax\")) {\n\t\t\t_this27.modules.ajax.blockActiveRequest();\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif (data) {\n\t\t\t_this27.rowManager.addRows(data, pos, index).then(function (rows) {\n\t\t\t\tvar output = [];\n\n\t\t\t\trows.forEach(function (row) {\n\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t});\n\n\t\t\t\tresolve(output);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\treject(\"Update Error - No data provided\");\n\t\t}\n\t});\n};\n\n//update table data\nTabulator.prototype.updateOrAddData = function (data) {\n\tvar _this28 = this;\n\n\tvar self = this,\n\t    rows = [],\n\t    responses = 0;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this28.modExists(\"ajax\")) {\n\t\t\t_this28.modules.ajax.blockActiveRequest();\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif (data) {\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tvar row = self.rowManager.findRow(item[self.options.index]);\n\n\t\t\t\tresponses++;\n\n\t\t\t\tif (row) {\n\t\t\t\t\trow.updateData(item).then(function () {\n\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\trows.push(row.getComponent());\n\n\t\t\t\t\t\tif (!responses) {\n\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.rowManager.addRows(item).then(function (newRows) {\n\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\n\t\t\t\t\t\tif (!responses) {\n\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\treject(\"Update Error - No data provided\");\n\t\t}\n\t});\n};\n\n//get row object\nTabulator.prototype.getRow = function (index) {\n\tvar row = this.rowManager.findRow(index);\n\n\tif (row) {\n\t\treturn row.getComponent();\n\t} else {\n\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\treturn false;\n\t}\n};\n\n//get row object\nTabulator.prototype.getRowFromPosition = function (position, active) {\n\tvar row = this.rowManager.getRowFromPosition(position, active);\n\n\tif (row) {\n\t\treturn row.getComponent();\n\t} else {\n\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\treturn false;\n\t}\n};\n\n//delete row from table\nTabulator.prototype.deleteRow = function (index) {\n\tvar _this29 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar self = _this29,\n\t\t    count = 0,\n\t\t    successCount = 0,\n\t\t    foundRows = [];\n\n\t\tfunction doneCheck() {\n\t\t\tcount++;\n\n\t\t\tif (count == index.length) {\n\t\t\t\tif (successCount) {\n\t\t\t\t\tself.rowManager.reRenderInPosition();\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!Array.isArray(index)) {\n\t\t\tindex = [index];\n\t\t}\n\n\t\t//find matching rows\n\t\tindex.forEach(function (item) {\n\t\t\tvar row = _this29.rowManager.findRow(item, true);\n\n\t\t\tif (row) {\n\t\t\t\tfoundRows.push(row);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Delete Error - No matching row found:\", item);\n\t\t\t\treject(\"Delete Error - No matching row found\");\n\t\t\t\tdoneCheck();\n\t\t\t}\n\t\t});\n\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort(function (a, b) {\n\t\t\treturn _this29.rowManager.rows.indexOf(a) > _this29.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\n\t\tfoundRows.forEach(function (row) {\n\t\t\trow.delete().then(function () {\n\t\t\t\tsuccessCount++;\n\t\t\t\tdoneCheck();\n\t\t\t}).catch(function (err) {\n\t\t\t\tdoneCheck();\n\t\t\t\treject(err);\n\t\t\t});\n\t\t});\n\t});\n};\n\n//add row to table\nTabulator.prototype.addRow = function (data, pos, index) {\n\tvar _this30 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\t_this30.rowManager.addRows(data, pos, index).then(function (rows) {\n\t\t\t//recalc column calculations if present\n\t\t\tif (_this30.modExists(\"columnCalcs\")) {\n\t\t\t\t_this30.modules.columnCalcs.recalc(_this30.rowManager.activeRows);\n\t\t\t}\n\n\t\t\tresolve(rows[0].getComponent());\n\t\t});\n\t});\n};\n\n//update a row if it exitsts otherwise create it\nTabulator.prototype.updateOrAddRow = function (index, data) {\n\tvar _this31 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar row = _this31.rowManager.findRow(index);\n\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif (row) {\n\t\t\trow.updateData(data).then(function () {\n\t\t\t\t//recalc column calculations if present\n\t\t\t\tif (_this31.modExists(\"columnCalcs\")) {\n\t\t\t\t\t_this31.modules.columnCalcs.recalc(_this31.rowManager.activeRows);\n\t\t\t\t}\n\n\t\t\t\tresolve(row.getComponent());\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\trow = _this31.rowManager.addRows(data).then(function (rows) {\n\t\t\t\t//recalc column calculations if present\n\t\t\t\tif (_this31.modExists(\"columnCalcs\")) {\n\t\t\t\t\t_this31.modules.columnCalcs.recalc(_this31.rowManager.activeRows);\n\t\t\t\t}\n\n\t\t\t\tresolve(rows[0].getComponent());\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t}\n\t});\n};\n\n//update row data\nTabulator.prototype.updateRow = function (index, data) {\n\tvar _this32 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar row = _this32.rowManager.findRow(index);\n\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif (row) {\n\t\t\trow.updateData(data).then(function () {\n\t\t\t\tresolve(row.getComponent());\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treject(\"Update Error - No matching row found\");\n\t\t}\n\t});\n};\n\n//scroll to row in DOM\nTabulator.prototype.scrollToRow = function (index, position, ifVisible) {\n\tvar _this33 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar row = _this33.rowManager.findRow(index);\n\n\t\tif (row) {\n\t\t\t_this33.rowManager.scrollToRow(row, position, ifVisible).then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treject(\"Scroll Error - No matching row found\");\n\t\t}\n\t});\n};\n\nTabulator.prototype.moveRow = function (from, to, after) {\n\tvar fromRow = this.rowManager.findRow(from);\n\n\tif (fromRow) {\n\t\tfromRow.moveToRow(to, after);\n\t} else {\n\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t}\n};\n\nTabulator.prototype.getRows = function (active) {\n\n\tif (active === true) {\n\t\tconsole.warn(\"passing a boolean to the getRows function is deprecated, you should now pass the string 'active'\");\n\t\tactive = \"active\";\n\t}\n\n\treturn this.rowManager.getComponents(active);\n};\n\n//get position of row in table\nTabulator.prototype.getRowPosition = function (index, active) {\n\tvar row = this.rowManager.findRow(index);\n\n\tif (row) {\n\t\treturn this.rowManager.getRowPosition(row, active);\n\t} else {\n\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\treturn false;\n\t}\n};\n\n//copy table data to clipboard\nTabulator.prototype.copyToClipboard = function (selector) {\n\tif (this.modExists(\"clipboard\", true)) {\n\t\tthis.modules.clipboard.copy(selector);\n\t}\n};\n\n/////////////// Column Functions  ///////////////\n\nTabulator.prototype.setColumns = function (definition) {\n\tthis.columnManager.setColumns(definition);\n};\n\nTabulator.prototype.getColumns = function (structured) {\n\treturn this.columnManager.getComponents(structured);\n};\n\nTabulator.prototype.getColumn = function (field) {\n\tvar col = this.columnManager.findColumn(field);\n\n\tif (col) {\n\t\treturn col.getComponent();\n\t} else {\n\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getColumnDefinitions = function () {\n\treturn this.columnManager.getDefinitionTree();\n};\n\nTabulator.prototype.getColumnLayout = function () {\n\tif (this.modExists(\"persistence\", true)) {\n\t\treturn this.modules.persistence.parseColumns(this.columnManager.getColumns());\n\t}\n};\n\nTabulator.prototype.setColumnLayout = function (layout) {\n\tif (this.modExists(\"persistence\", true)) {\n\t\tthis.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns, layout));\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nTabulator.prototype.showColumn = function (field) {\n\tvar column = this.columnManager.findColumn(field);\n\n\tif (column) {\n\t\tcolumn.show();\n\n\t\tif (this.options.responsiveLayout && this.modExists(\"responsiveLayout\", true)) {\n\t\t\tthis.modules.responsiveLayout.update();\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.hideColumn = function (field) {\n\tvar column = this.columnManager.findColumn(field);\n\n\tif (column) {\n\t\tcolumn.hide();\n\n\t\tif (this.options.responsiveLayout && this.modExists(\"responsiveLayout\", true)) {\n\t\t\tthis.modules.responsiveLayout.update();\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.toggleColumn = function (field) {\n\tvar column = this.columnManager.findColumn(field);\n\n\tif (column) {\n\t\tif (column.visible) {\n\t\t\tcolumn.hide();\n\t\t} else {\n\t\t\tcolumn.show();\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.addColumn = function (definition, before, field) {\n\tvar _this34 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar column = _this34.columnManager.findColumn(field);\n\n\t\t_this34.columnManager.addColumn(definition, before, column).then(function (column) {\n\t\t\tresolve(column.getComponent());\n\t\t}).catch(function (err) {\n\t\t\treject(err);\n\t\t});\n\t});\n};\n\nTabulator.prototype.deleteColumn = function (field) {\n\tvar _this35 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar column = _this35.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\tcolumn.delete().then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treject();\n\t\t}\n\t});\n};\n\nTabulator.prototype.updateColumnDefinition = function (field, definition) {\n\tvar _this36 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar column = _this36.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\tcolumn.updateDefinition(definition).then(function (col) {\n\t\t\t\tresolve(col);\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treject();\n\t\t}\n\t});\n};\n\nTabulator.prototype.moveColumn = function (from, to, after) {\n\tvar fromColumn = this.columnManager.findColumn(from);\n\tvar toColumn = this.columnManager.findColumn(to);\n\n\tif (fromColumn) {\n\t\tif (toColumn) {\n\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t} else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t}\n};\n\n//scroll to column in DOM\nTabulator.prototype.scrollToColumn = function (field, position, ifVisible) {\n\tvar _this37 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar column = _this37.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\t_this37.columnManager.scrollToColumn(column, position, ifVisible).then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function (err) {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\treject(\"Scroll Error - No matching column found\");\n\t\t}\n\t});\n};\n\n//////////// Localization Functions  ////////////\nTabulator.prototype.setLocale = function (locale) {\n\tthis.modules.localize.setLocale(locale);\n};\n\nTabulator.prototype.getLocale = function () {\n\treturn this.modules.localize.getLocale();\n};\n\nTabulator.prototype.getLang = function (locale) {\n\treturn this.modules.localize.getLang(locale);\n};\n\n//////////// General Public Functions ////////////\n\n//redraw list without updating data\nTabulator.prototype.redraw = function (force) {\n\tthis.columnManager.redraw(force);\n\tthis.rowManager.redraw(force);\n};\n\nTabulator.prototype.setHeight = function (height) {\n\n\tif (this.rowManager.renderMode !== \"classic\") {\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.setRenderMode();\n\t\tthis.rowManager.redraw();\n\t} else {\n\t\tconsole.warn(\"setHeight function is not available in classic render mode\");\n\t}\n};\n\n///////////////////// Sorting ////////////////////\n\n//trigger sort\nTabulator.prototype.setSort = function (sortList, dir) {\n\tif (this.modExists(\"sort\", true)) {\n\t\tthis.modules.sort.setSort(sortList, dir);\n\t\tthis.rowManager.sorterRefresh();\n\t}\n};\n\nTabulator.prototype.getSorters = function () {\n\tif (this.modExists(\"sort\", true)) {\n\t\treturn this.modules.sort.getSort();\n\t}\n};\n\nTabulator.prototype.clearSort = function () {\n\tif (this.modExists(\"sort\", true)) {\n\t\tthis.modules.sort.clear();\n\t\tthis.rowManager.sorterRefresh();\n\t}\n};\n\n///////////////////// Filtering ////////////////////\n\n//set standard filters\nTabulator.prototype.setFilter = function (field, type, value, params) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tthis.modules.filter.setFilter(field, type, value, params);\n\t\tthis.rowManager.filterRefresh();\n\t}\n};\n\n//add filter to array\nTabulator.prototype.addFilter = function (field, type, value, params) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tthis.modules.filter.addFilter(field, type, value, params);\n\t\tthis.rowManager.filterRefresh();\n\t}\n};\n\n//get all filters\nTabulator.prototype.getFilters = function (all) {\n\tif (this.modExists(\"filter\", true)) {\n\t\treturn this.modules.filter.getFilters(all);\n\t}\n};\n\nTabulator.prototype.setHeaderFilterFocus = function (field) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\tthis.modules.filter.setHeaderFilterFocus(column);\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nTabulator.prototype.getHeaderFilterValue = function (field) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\treturn this.modules.filter.getHeaderFilterValue(column);\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n};\n\nTabulator.prototype.setHeaderFilterValue = function (field, value) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tif (column) {\n\t\t\tthis.modules.filter.setHeaderFilterValue(column, value);\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nTabulator.prototype.getHeaderFilters = function () {\n\tif (this.modExists(\"filter\", true)) {\n\t\treturn this.modules.filter.getHeaderFilters();\n\t}\n};\n\n//remove filter from array\nTabulator.prototype.removeFilter = function (field, type, value) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tthis.modules.filter.removeFilter(field, type, value);\n\t\tthis.rowManager.filterRefresh();\n\t}\n};\n\n//clear filters\nTabulator.prototype.clearFilter = function (all) {\n\tif (this.modExists(\"filter\", true)) {\n\t\tthis.modules.filter.clearFilter(all);\n\t\tthis.rowManager.filterRefresh();\n\t}\n};\n\n//clear header filters\nTabulator.prototype.clearHeaderFilter = function () {\n\tif (this.modExists(\"filter\", true)) {\n\t\tthis.modules.filter.clearHeaderFilter();\n\t\tthis.rowManager.filterRefresh();\n\t}\n};\n\n///////////////////// select ////////////////////\nTabulator.prototype.selectRow = function (rows) {\n\tif (this.modExists(\"selectRow\", true)) {\n\t\tif (rows === true) {\n\t\t\tconsole.warn(\"passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'\");\n\t\t\trows = \"active\";\n\t\t}\n\t\tthis.modules.selectRow.selectRows(rows);\n\t}\n};\n\nTabulator.prototype.deselectRow = function (rows) {\n\tif (this.modExists(\"selectRow\", true)) {\n\t\tthis.modules.selectRow.deselectRows(rows);\n\t}\n};\n\nTabulator.prototype.toggleSelectRow = function (row) {\n\tif (this.modExists(\"selectRow\", true)) {\n\t\tthis.modules.selectRow.toggleRow(row);\n\t}\n};\n\nTabulator.prototype.getSelectedRows = function () {\n\tif (this.modExists(\"selectRow\", true)) {\n\t\treturn this.modules.selectRow.getSelectedRows();\n\t}\n};\n\nTabulator.prototype.getSelectedData = function () {\n\tif (this.modExists(\"selectRow\", true)) {\n\t\treturn this.modules.selectRow.getSelectedData();\n\t}\n};\n\n///////////////////// validation  ////////////////////\nTabulator.prototype.getInvalidCells = function () {\n\tif (this.modExists(\"validate\", true)) {\n\t\treturn this.modules.validate.getInvalidCells();\n\t}\n};\n\nTabulator.prototype.clearCellValidation = function (cells) {\n\tvar _this38 = this;\n\n\tif (this.modExists(\"validate\", true)) {\n\n\t\tif (!cells) {\n\t\t\tcells = this.modules.validate.getInvalidCells();\n\t\t}\n\n\t\tif (!Array.isArray(cells)) {\n\t\t\tcells = [cells];\n\t\t}\n\n\t\tcells.forEach(function (cell) {\n\t\t\t_this38.modules.validate.clearValidation(cell._getSelf());\n\t\t});\n\t}\n};\n\nTabulator.prototype.validate = function (cells) {\n\tvar output = [];\n\n\t//clear row data\n\tthis.rowManager.rows.forEach(function (row) {\n\t\tvar valid = row.validate();\n\n\t\tif (valid !== true) {\n\t\t\toutput = output.concat(valid);\n\t\t}\n\t});\n\n\treturn output.length ? output : true;\n};\n\n//////////// Pagination Functions  ////////////\n\nTabulator.prototype.setMaxPage = function (max) {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\tthis.modules.page.setMaxPage(max);\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.setPage = function (page) {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\treturn this.modules.page.setPage(page);\n\t} else {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\treject();\n\t\t});\n\t}\n};\n\nTabulator.prototype.setPageToRow = function (row) {\n\tvar _this39 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this39.options.pagination && _this39.modExists(\"page\")) {\n\t\t\trow = _this39.rowManager.findRow(row);\n\n\t\t\tif (row) {\n\t\t\t\t_this39.modules.page.setPageToRow(row).then(function () {\n\t\t\t\t\tresolve();\n\t\t\t\t}).catch(function () {\n\t\t\t\t\treject();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject();\n\t\t\t}\n\t\t} else {\n\t\t\treject();\n\t\t}\n\t});\n};\n\nTabulator.prototype.setPageSize = function (size) {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\tthis.modules.page.setPageSize(size);\n\t\tthis.modules.page.setPage(1).then(function () {}).catch(function () {});\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getPageSize = function () {\n\tif (this.options.pagination && this.modExists(\"page\", true)) {\n\t\treturn this.modules.page.getPageSize();\n\t}\n};\n\nTabulator.prototype.previousPage = function () {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\tthis.modules.page.previousPage();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.nextPage = function () {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\tthis.modules.page.nextPage();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getPage = function () {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\treturn this.modules.page.getPage();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getPageMax = function () {\n\tif (this.options.pagination && this.modExists(\"page\")) {\n\t\treturn this.modules.page.getPageMax();\n\t} else {\n\t\treturn false;\n\t}\n};\n\n///////////////// Grouping Functions ///////////////\n\nTabulator.prototype.setGroupBy = function (groups) {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\tthis.options.groupBy = groups;\n\t\tthis.modules.groupRows.initialize();\n\t\tthis.rowManager.refreshActiveData(\"display\");\n\n\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\n\t\t\tthis.modules.persistence.save(\"group\");\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.setGroupValues = function (groupValues) {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\tthis.options.groupValues = groupValues;\n\t\tthis.modules.groupRows.initialize();\n\t\tthis.rowManager.refreshActiveData(\"display\");\n\n\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\n\t\t\tthis.modules.persistence.save(\"group\");\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.setGroupStartOpen = function (values) {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\tthis.options.groupStartOpen = values;\n\t\tthis.modules.groupRows.initialize();\n\t\tif (this.options.groupBy) {\n\t\t\tthis.rowManager.refreshActiveData(\"group\");\n\n\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\n\t\t\t\tthis.modules.persistence.save(\"group\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.setGroupHeader = function (values) {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\tthis.options.groupHeader = values;\n\t\tthis.modules.groupRows.initialize();\n\t\tif (this.options.groupBy) {\n\t\t\tthis.rowManager.refreshActiveData(\"group\");\n\n\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\n\t\t\t\tthis.modules.persistence.save(\"group\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getGroups = function (values) {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\treturn this.modules.groupRows.getGroups(true);\n\t} else {\n\t\treturn false;\n\t}\n};\n\n// get grouped table data in the same format as getData()\nTabulator.prototype.getGroupedData = function () {\n\tif (this.modExists(\"groupRows\", true)) {\n\t\treturn this.options.groupBy ? this.modules.groupRows.getGroupedData() : this.getData();\n\t}\n};\n\nTabulator.prototype.getEditedCells = function () {\n\tif (this.modExists(\"edit\", true)) {\n\t\treturn this.modules.edit.getEditedCells();\n\t}\n};\n\nTabulator.prototype.clearCellEdited = function (cells) {\n\tvar _this40 = this;\n\n\tif (this.modExists(\"edit\", true)) {\n\n\t\tif (!cells) {\n\t\t\tcells = this.modules.edit.getEditedCells();\n\t\t}\n\n\t\tif (!Array.isArray(cells)) {\n\t\t\tcells = [cells];\n\t\t}\n\n\t\tcells.forEach(function (cell) {\n\t\t\t_this40.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n};\n\n///////////////// Column Calculation Functions ///////////////\nTabulator.prototype.getCalcResults = function () {\n\tif (this.modExists(\"columnCalcs\", true)) {\n\t\treturn this.modules.columnCalcs.getResults();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.recalc = function () {\n\tif (this.modExists(\"columnCalcs\", true)) {\n\t\tthis.modules.columnCalcs.recalcAll(this.rowManager.activeRows);\n\t}\n};\n\n/////////////// Navigation Management //////////////\n\nTabulator.prototype.navigatePrev = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\treturn cell.nav().prev();\n\t\t}\n\t}\n\n\treturn false;\n};\n\nTabulator.prototype.navigateNext = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\treturn cell.nav().next();\n\t\t}\n\t}\n\n\treturn false;\n};\n\nTabulator.prototype.navigateLeft = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\te.preventDefault();\n\t\t\treturn cell.nav().left();\n\t\t}\n\t}\n\n\treturn false;\n};\n\nTabulator.prototype.navigateRight = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\te.preventDefault();\n\t\t\treturn cell.nav().right();\n\t\t}\n\t}\n\n\treturn false;\n};\n\nTabulator.prototype.navigateUp = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\te.preventDefault();\n\t\t\treturn cell.nav().up();\n\t\t}\n\t}\n\n\treturn false;\n};\n\nTabulator.prototype.navigateDown = function () {\n\tvar cell = false;\n\n\tif (this.modExists(\"edit\", true)) {\n\t\tcell = this.modules.edit.currentCell;\n\n\t\tif (cell) {\n\t\t\te.preventDefault();\n\t\t\treturn cell.nav().down();\n\t\t}\n\t}\n\n\treturn false;\n};\n\n/////////////// History Management //////////////\nTabulator.prototype.undo = function () {\n\tif (this.options.history && this.modExists(\"history\", true)) {\n\t\treturn this.modules.history.undo();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.redo = function () {\n\tif (this.options.history && this.modExists(\"history\", true)) {\n\t\treturn this.modules.history.redo();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getHistoryUndoSize = function () {\n\tif (this.options.history && this.modExists(\"history\", true)) {\n\t\treturn this.modules.history.getHistoryUndoSize();\n\t} else {\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.getHistoryRedoSize = function () {\n\tif (this.options.history && this.modExists(\"history\", true)) {\n\t\treturn this.modules.history.getHistoryRedoSize();\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/////////////// Download Management //////////////\n\nTabulator.prototype.download = function (type, filename, options, active) {\n\tif (this.modExists(\"download\", true)) {\n\t\tthis.modules.download.download(type, filename, options, active);\n\t}\n};\n\nTabulator.prototype.downloadToTab = function (type, filename, options, active) {\n\tif (this.modExists(\"download\", true)) {\n\t\tthis.modules.download.download(type, filename, options, active, true);\n\t}\n};\n\n/////////// Inter Table Communications ///////////\n\nTabulator.prototype.tableComms = function (table, module, action, data) {\n\tthis.modules.comms.receive(table, module, action, data);\n};\n\n////////////// Extension Management //////////////\n\n//object to hold module\nTabulator.prototype.moduleBindings = {};\n\n//extend module\nTabulator.prototype.extendModule = function (name, property, values) {\n\n\tif (Tabulator.prototype.moduleBindings[name]) {\n\t\tvar source = Tabulator.prototype.moduleBindings[name].prototype[property];\n\n\t\tif (source) {\n\t\t\tif ((typeof values === 'undefined' ? 'undefined' : _typeof(values)) == \"object\") {\n\t\t\t\tfor (var key in values) {\n\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t}\n};\n\n//add module to tabulator\nTabulator.prototype.registerModule = function (name, module) {\n\tvar self = this;\n\tTabulator.prototype.moduleBindings[name] = module;\n};\n\n//ensure that module are bound to instantiated function\nTabulator.prototype.bindModules = function () {\n\tthis.modules = {};\n\n\tfor (var name in Tabulator.prototype.moduleBindings) {\n\t\tthis.modules[name] = new Tabulator.prototype.moduleBindings[name](this);\n\t}\n};\n\n//Check for module\nTabulator.prototype.modExists = function (plugin, required) {\n\tif (this.modules[plugin]) {\n\t\treturn true;\n\t} else {\n\t\tif (required) {\n\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t}\n\t\treturn false;\n\t}\n};\n\nTabulator.prototype.helpers = {\n\n\telVisible: function elVisible(el) {\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t},\n\n\telOffset: function elOffset(el) {\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t},\n\n\tdeepClone: function deepClone(obj) {\n\t\tvar clone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\n\t\tfor (var i in obj) {\n\t\t\tif (obj[i] != null && _typeof(obj[i]) === \"object\") {\n\t\t\t\tif (obj[i] instanceof Date) {\n\t\t\t\t\tclone[i] = new Date(obj[i]);\n\t\t\t\t} else {\n\t\t\t\t\tclone[i] = this.deepClone(obj[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn clone;\n\t}\n};\n\nTabulator.prototype.comms = {\n\ttables: [],\n\tregister: function register(table) {\n\t\tTabulator.prototype.comms.tables.push(table);\n\t},\n\tderegister: function deregister(table) {\n\t\tvar index = Tabulator.prototype.comms.tables.indexOf(table);\n\n\t\tif (index > -1) {\n\t\t\tTabulator.prototype.comms.tables.splice(index, 1);\n\t\t}\n\t},\n\tlookupTable: function lookupTable(query, silent) {\n\t\tvar results = [],\n\t\t    matches,\n\t\t    match;\n\n\t\tif (typeof query === \"string\") {\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif (matches.length) {\n\t\t\t\tfor (var i = 0; i < matches.length; i++) {\n\t\t\t\t\tmatch = Tabulator.prototype.comms.matchElement(matches[i]);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement || query instanceof Tabulator) {\n\t\t\tmatch = Tabulator.prototype.comms.matchElement(query);\n\n\t\t\tif (match) {\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t} else if (Array.isArray(query)) {\n\t\t\tquery.forEach(function (item) {\n\t\t\t\tresults = results.concat(Tabulator.prototype.comms.lookupTable(item));\n\t\t\t});\n\t\t} else {\n\t\t\tif (!silent) {\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t},\n\tmatchElement: function matchElement(element) {\n\t\treturn Tabulator.prototype.comms.tables.find(function (table) {\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n};\n\nTabulator.prototype.findTable = function (query) {\n\tvar results = Tabulator.prototype.comms.lookupTable(query, true);\n\treturn Array.isArray(results) && !results.length ? false : results;\n};\n\nvar Layout = function Layout(table) {\n\n\tthis.table = table;\n\n\tthis.mode = null;\n};\n\n//initialize layout system\n\nLayout.prototype.initialize = function (layout) {\n\n\tif (this.modes[layout]) {\n\n\t\tthis.mode = layout;\n\t} else {\n\n\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\n\t\tthis.mode = 'fitData';\n\t}\n\n\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n};\n\nLayout.prototype.getMode = function () {\n\n\treturn this.mode;\n};\n\n//trigger table layout\n\nLayout.prototype.layout = function () {\n\n\tthis.modes[this.mode].call(this, this.table.columnManager.columnsByIndex);\n};\n\n//layout render functions\n\nLayout.prototype.modes = {\n\n\t//resize columns to fit data they contain\n\n\t\"fitData\": function fitData(columns) {\n\n\t\tif (this.table.options.virtualDomHoz) {\n\n\t\t\tthis.table.vdomHoz.fitDataLayoutOverride();\n\t\t} else {\n\n\t\t\tcolumns.forEach(function (column) {\n\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t});\n\t\t}\n\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t},\n\n\t//resize columns to fit data they contain and stretch row to fill table\n\n\t\"fitDataFill\": function fitDataFill(columns) {\n\n\t\tcolumns.forEach(function (column) {\n\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t},\n\n\t//resize columns to fit data they contain\n\n\t\"fitDataTable\": function fitDataTable(columns) {\n\n\t\tcolumns.forEach(function (column) {\n\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t},\n\n\t//resize columns to fit data the contain and stretch last column to fill table\n\n\t\"fitDataStretch\": function fitDataStretch(columns) {\n\t\tvar _this41 = this;\n\n\t\tvar colsWidth = 0,\n\t\t    tableWidth = this.table.rowManager.element.clientWidth,\n\t\t    gap = 0,\n\t\t    lastCol = false;\n\n\t\tcolumns.forEach(function (column, i) {\n\n\t\t\tif (!column.widthFixed) {\n\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (_this41.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible) {\n\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol) {\n\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\t\tlastCol.setWidth(0);\n\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t},\n\n\t//resize columns to fit\n\n\t\"fitColumns\": function fitColumns(columns) {\n\n\t\tvar self = this;\n\n\t\tvar totalWidth = self.table.element.clientWidth; //table element width\n\n\t\tvar fixedWidth = 0; //total width of columns with a defined width\n\n\t\tvar flexWidth = 0; //total width available to flexible columns\n\n\t\tvar flexGrowUnits = 0; //total number of widthGrow blocks accross all columns\n\n\t\tvar flexColWidth = 0; //desired width of flexible columns\n\n\t\tvar flexColumns = []; //array of flexible width columns\n\n\t\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\n\t\tvar flexShrinkUnits = 0; //total number of widthShrink blocks accross all columns\n\n\t\tvar overflowWidth = 0; //horizontal overflow width\n\n\t\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\n\t\tfunction calcWidth(width) {\n\n\t\t\tvar colWidth;\n\n\t\t\tif (typeof width == \"string\") {\n\n\t\t\t\tif (width.indexOf(\"%\") > -1) {\n\n\t\t\t\t\tcolWidth = totalWidth / 100 * parseInt(width);\n\t\t\t\t} else {\n\n\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tcolWidth = width;\n\t\t\t}\n\n\t\t\treturn colWidth;\n\t\t}\n\n\t\t//ensure columns resize to take up the correct amount of space\n\n\t\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols) {\n\n\t\t\tvar oversizeCols = [],\n\t\t\t    oversizeSpace = 0,\n\t\t\t    remainingSpace = 0,\n\t\t\t    nextColWidth = 0,\n\t\t\t    gap = 0,\n\t\t\t    changeUnits = 0,\n\t\t\t    undersizeCols = [];\n\n\t\t\tfunction calcGrow(col) {\n\n\t\t\t\treturn colWidth * (col.column.definition.widthGrow || 1);\n\t\t\t}\n\n\t\t\tfunction calcShrink(col) {\n\n\t\t\t\treturn calcWidth(col.width) - colWidth * (col.column.definition.widthShrink || 0);\n\t\t\t}\n\n\t\t\tcolumns.forEach(function (col, i) {\n\n\t\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\n\t\t\t\tif (col.column.minWidth >= width) {\n\n\t\t\t\t\toversizeCols.push(col);\n\t\t\t\t} else {\n\n\t\t\t\t\tundersizeCols.push(col);\n\n\t\t\t\t\tchangeUnits += shrinkCols ? col.column.definition.widthShrink || 1 : col.column.definition.widthGrow || 1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (oversizeCols.length) {\n\n\t\t\t\toversizeCols.forEach(function (col) {\n\n\t\t\t\t\toversizeSpace += shrinkCols ? col.width - col.column.minWidth : col.column.minWidth;\n\n\t\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t\t});\n\n\t\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace / changeUnits) : remainingSpace;\n\n\t\t\t\tgap = remainingSpace - nextColWidth * changeUnits;\n\n\t\t\t\tgap += scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t\t} else {\n\n\t\t\t\tgap = changeUnits ? freeSpace - Math.floor(freeSpace / changeUnits) * changeUnits : freeSpace;\n\n\t\t\t\tundersizeCols.forEach(function (column) {\n\n\t\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn gap;\n\t\t}\n\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\t//adjust for vertical scrollbar if present\n\n\t\tif (this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight) {\n\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\n\t\tcolumns.forEach(function (column) {\n\n\t\t\tvar width, minWidth, colWidth;\n\n\t\t\tif (column.visible) {\n\n\t\t\t\twidth = column.definition.width;\n\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\n\t\t\t\tif (width) {\n\n\t\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\t\tif (column.definition.widthShrink) {\n\n\t\t\t\t\t\tfixedShrinkColumns.push({\n\n\t\t\t\t\t\t\tcolumn: column,\n\n\t\t\t\t\t\t\twidth: colWidth > minWidth ? colWidth : minWidth\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tflexColumns.push({\n\n\t\t\t\t\t\tcolumn: column,\n\n\t\t\t\t\t\twidth: 0\n\n\t\t\t\t\t});\n\n\t\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//calculate available space\n\n\t\tflexWidth = totalWidth - fixedWidth;\n\n\t\t//calculate correct column size\n\n\t\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t\t//generate column widths\n\n\t\tvar gapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t\t//increase width of last column to account for rounding errors\n\n\t\tif (flexColumns.length && gapFill > 0) {\n\n\t\t\tflexColumns[flexColumns.length - 1].width += +gapFill;\n\t\t}\n\n\t\t//caculate space for columns to be shrunk into\n\n\t\tflexColumns.forEach(function (col) {\n\n\t\t\tflexWidth -= col.width;\n\t\t});\n\n\t\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t\t//shrink oversize columns if there is no available space\n\n\t\tif (overflowWidth > 0 && flexShrinkUnits) {\n\n\t\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t\t}\n\n\t\t//decrease width of last column to account for rounding errors\n\n\t\tif (fixedShrinkColumns.length) {\n\n\t\t\tfixedShrinkColumns[fixedShrinkColumns.length - 1].width -= gapFill;\n\t\t}\n\n\t\tflexColumns.forEach(function (col) {\n\n\t\t\tcol.column.setWidth(col.width);\n\t\t});\n\n\t\tfixedShrinkColumns.forEach(function (col) {\n\n\t\t\tcol.column.setWidth(col.width);\n\t\t});\n\t}\n\n};\n\nTabulator.prototype.registerModule(\"layout\", Layout);\nvar Localize = function Localize(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.locale = \"default\"; //current locale\n\tthis.lang = false; //current language\n\tthis.bindings = {}; //update events to call when locale is changed\n\tthis.langList = {};\n};\n\nLocalize.prototype.initialize = function () {\n\tthis.langList = Tabulator.prototype.helpers.deepClone(this.langs);\n};\n\n//set header placehoder\nLocalize.prototype.setHeaderFilterPlaceholder = function (placeholder) {\n\tthis.langList.default.headerFilters.default = placeholder;\n};\n\n//set header filter placeholder by column\nLocalize.prototype.setHeaderFilterColumnPlaceholder = function (column, placeholder) {\n\tthis.langList.default.headerFilters.columns[column] = placeholder;\n\n\tif (this.lang && !this.lang.headerFilters.columns[column]) {\n\t\tthis.lang.headerFilters.columns[column] = placeholder;\n\t}\n};\n\n//setup a lang description object\nLocalize.prototype.installLang = function (locale, lang) {\n\tif (this.langList[locale]) {\n\t\tthis._setLangProp(this.langList[locale], lang);\n\t} else {\n\t\tthis.langList[locale] = lang;\n\t}\n};\n\nLocalize.prototype._setLangProp = function (lang, values) {\n\tfor (var key in values) {\n\t\tif (lang[key] && _typeof(lang[key]) == \"object\") {\n\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t} else {\n\t\t\tlang[key] = values[key];\n\t\t}\n\t}\n};\n\n//set current locale\nLocalize.prototype.setLocale = function (desiredLocale) {\n\tvar self = this;\n\n\tdesiredLocale = desiredLocale || \"default\";\n\n\t//fill in any matching languge values\n\tfunction traverseLang(trans, path) {\n\t\tfor (var prop in trans) {\n\t\t\tif (_typeof(trans[prop]) == \"object\") {\n\t\t\t\tif (!path[prop]) {\n\t\t\t\t\tpath[prop] = {};\n\t\t\t\t}\n\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t} else {\n\t\t\t\tpath[prop] = trans[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t//determing correct locale to load\n\tif (desiredLocale === true && navigator.language) {\n\t\t//get local from system\n\t\tdesiredLocale = navigator.language.toLowerCase();\n\t}\n\n\tif (desiredLocale) {\n\n\t\t//if locale is not set, check for matching top level locale else use default\n\t\tif (!self.langList[desiredLocale]) {\n\t\t\tvar prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\tif (self.langList[prefix]) {\n\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\tdesiredLocale = prefix;\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\tdesiredLocale = \"default\";\n\t\t\t}\n\t\t}\n\t}\n\n\tself.locale = desiredLocale;\n\n\t//load default lang template\n\tself.lang = Tabulator.prototype.helpers.deepClone(self.langList.default || {});\n\n\tif (desiredLocale != \"default\") {\n\t\ttraverseLang(self.langList[desiredLocale], self.lang);\n\t}\n\n\tself.table.options.localized.call(self.table, self.locale, self.lang);\n\n\tself._executeBindings();\n};\n\n//get current locale\nLocalize.prototype.getLocale = function (locale) {\n\treturn self.locale;\n};\n\n//get lang object for given local or current if none provided\nLocalize.prototype.getLang = function (locale) {\n\treturn locale ? this.langList[locale] : this.lang;\n};\n\n//get text for current locale\nLocalize.prototype.getText = function (path, value) {\n\tvar path = value ? path + \"|\" + value : path,\n\t    pathArray = path.split(\"|\"),\n\t    text = this._getLangElement(pathArray, this.locale);\n\n\t// if(text === false){\n\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t// }\n\n\treturn text || \"\";\n};\n\n//traverse langs object and find localized copy\nLocalize.prototype._getLangElement = function (path, locale) {\n\tvar self = this;\n\tvar root = self.lang;\n\n\tpath.forEach(function (level) {\n\t\tvar rootPath;\n\n\t\tif (root) {\n\t\t\trootPath = root[level];\n\n\t\t\tif (typeof rootPath != \"undefined\") {\n\t\t\t\troot = rootPath;\n\t\t\t} else {\n\t\t\t\troot = false;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn root;\n};\n\n//set update binding\nLocalize.prototype.bind = function (path, callback) {\n\tif (!this.bindings[path]) {\n\t\tthis.bindings[path] = [];\n\t}\n\n\tthis.bindings[path].push(callback);\n\n\tcallback(this.getText(path), this.lang);\n};\n\n//itterate through bindings and trigger updates\nLocalize.prototype._executeBindings = function () {\n\tvar self = this;\n\n\tvar _loop = function _loop(path) {\n\t\tself.bindings[path].forEach(function (binding) {\n\t\t\tbinding(self.getText(path), self.lang);\n\t\t});\n\t};\n\n\tfor (var path in self.bindings) {\n\t\t_loop(path);\n\t}\n};\n\n//Localized text listings\nLocalize.prototype.langs = {\n\t\"default\": { //hold default locale text\n\t\t\"groups\": {\n\t\t\t\"item\": \"item\",\n\t\t\t\"items\": \"items\"\n\t\t},\n\t\t\"columns\": {},\n\t\t\"ajax\": {\n\t\t\t\"loading\": \"Loading\",\n\t\t\t\"error\": \"Error\"\n\t\t},\n\t\t\"pagination\": {\n\t\t\t\"page_size\": \"Page Size\",\n\t\t\t\"page_title\": \"Show Page\",\n\t\t\t\"first\": \"First\",\n\t\t\t\"first_title\": \"First Page\",\n\t\t\t\"last\": \"Last\",\n\t\t\t\"last_title\": \"Last Page\",\n\t\t\t\"prev\": \"Prev\",\n\t\t\t\"prev_title\": \"Prev Page\",\n\t\t\t\"next\": \"Next\",\n\t\t\t\"next_title\": \"Next Page\",\n\t\t\t\"all\": \"All\"\n\t\t},\n\t\t\"headerFilters\": {\n\t\t\t\"default\": \"filter column...\",\n\t\t\t\"columns\": {}\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"localize\", Localize);\nvar Comms = function Comms(table) {\n\tthis.table = table;\n};\n\nComms.prototype.getConnections = function (selectors) {\n\tvar self = this,\n\t    connections = [],\n\t    connection;\n\n\tconnection = Tabulator.prototype.comms.lookupTable(selectors);\n\n\tconnection.forEach(function (con) {\n\t\tif (self.table !== con) {\n\t\t\tconnections.push(con);\n\t\t}\n\t});\n\n\treturn connections;\n};\n\nComms.prototype.send = function (selectors, module, action, data) {\n\tvar self = this,\n\t    connections = this.getConnections(selectors);\n\n\tconnections.forEach(function (connection) {\n\t\tconnection.tableComms(self.table.element, module, action, data);\n\t});\n\n\tif (!connections.length && selectors) {\n\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t}\n};\n\nComms.prototype.receive = function (table, module, action, data) {\n\tif (this.table.modExists(module)) {\n\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t} else {\n\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t}\n};\n\nTabulator.prototype.registerModule(\"comms\", Comms);\n\nvar Accessor = function Accessor(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n};\n\n//initialize column accessor\nAccessor.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    match = false,\n\t    config = {};\n\n\tthis.allowedTypes.forEach(function (type) {\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t    accessor;\n\n\t\tif (column.definition[key]) {\n\t\t\taccessor = self.lookupAccessor(column.definition[key]);\n\n\t\t\tif (accessor) {\n\t\t\t\tmatch = true;\n\n\t\t\t\tconfig[key] = {\n\t\t\t\t\taccessor: accessor,\n\t\t\t\t\tparams: column.definition[key + \"Params\"] || {}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\n\tif (match) {\n\t\tcolumn.modules.accessor = config;\n\t}\n};\n\nAccessor.prototype.lookupAccessor = function (value) {\n\tvar accessor = false;\n\n\t//set column accessor\n\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t\tcase \"string\":\n\t\t\tif (this.accessors[value]) {\n\t\t\t\taccessor = this.accessors[value];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\taccessor = value;\n\t\t\tbreak;\n\t}\n\n\treturn accessor;\n};\n\n//apply accessor to row\nAccessor.prototype.transformRow = function (row, type) {\n\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t    rowComponent = row.getComponent();\n\n\t//clone data object with deep copy to isolate internal data from returned result\n\tvar data = Tabulator.prototype.helpers.deepClone(row.data || {});\n\n\tthis.table.columnManager.traverse(function (column) {\n\t\tvar value, accessor, params, colCompnent;\n\n\t\tif (column.modules.accessor) {\n\n\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\tif (accessor) {\n\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\tif (value != \"undefined\") {\n\t\t\t\t\tcolCompnent = column.getComponent();\n\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colCompnent, rowComponent) : accessor.params;\n\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colCompnent, rowComponent));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn data;\n},\n\n//default accessors\nAccessor.prototype.accessors = {};\n\nTabulator.prototype.registerModule(\"accessor\", Accessor);\nvar Ajax = function Ajax(table) {\n\n\tthis.table = table; //hold Tabulator object\n\tthis.config = false; //hold config object for ajax request\n\tthis.url = \"\"; //request URL\n\tthis.urlGenerator = false;\n\tthis.params = false; //request parameters\n\n\tthis.loaderElement = this.createLoaderElement(); //loader message div\n\tthis.msgElement = this.createMsgElement(); //message element\n\tthis.loadingElement = false;\n\tthis.errorElement = false;\n\tthis.loaderPromise = false;\n\n\tthis.progressiveLoad = false;\n\tthis.loading = false;\n\n\tthis.requestOrder = 0; //prevent requests comming out of sequence if overridden by another load request\n};\n\n//initialize setup options\nAjax.prototype.initialize = function () {\n\tvar template;\n\n\tthis.loaderElement.appendChild(this.msgElement);\n\n\tif (this.table.options.ajaxLoaderLoading) {\n\t\tif (typeof this.table.options.ajaxLoaderLoading == \"string\") {\n\t\t\ttemplate = document.createElement('template');\n\t\t\ttemplate.innerHTML = this.table.options.ajaxLoaderLoading.trim();\n\t\t\tthis.loadingElement = template.content.firstChild;\n\t\t} else {\n\t\t\tthis.loadingElement = this.table.options.ajaxLoaderLoading;\n\t\t}\n\t}\n\n\tthis.loaderPromise = this.table.options.ajaxRequestFunc || this.defaultLoaderPromise;\n\n\tthis.urlGenerator = this.table.options.ajaxURLGenerator || this.defaultURLGenerator;\n\n\tif (this.table.options.ajaxLoaderError) {\n\t\tif (typeof this.table.options.ajaxLoaderError == \"string\") {\n\t\t\ttemplate = document.createElement('template');\n\t\t\ttemplate.innerHTML = this.table.options.ajaxLoaderError.trim();\n\t\t\tthis.errorElement = template.content.firstChild;\n\t\t} else {\n\t\t\tthis.errorElement = this.table.options.ajaxLoaderError;\n\t\t}\n\t}\n\n\tif (this.table.options.ajaxParams) {\n\t\tthis.setParams(this.table.options.ajaxParams);\n\t}\n\n\tif (this.table.options.ajaxConfig) {\n\t\tthis.setConfig(this.table.options.ajaxConfig);\n\t}\n\n\tif (this.table.options.ajaxURL) {\n\t\tthis.setUrl(this.table.options.ajaxURL);\n\t}\n\n\tif (this.table.options.ajaxProgressiveLoad) {\n\t\tif (this.table.options.pagination) {\n\t\t\tthis.progressiveLoad = false;\n\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t} else {\n\t\t\tif (this.table.modExists(\"page\")) {\n\t\t\t\tthis.progressiveLoad = this.table.options.ajaxProgressiveLoad;\n\t\t\t\tthis.table.modules.page.initializeProgressive(this.progressiveLoad);\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Pagination plugin is required for progressive ajax loading\");\n\t\t\t}\n\t\t}\n\t}\n};\n\nAjax.prototype.createLoaderElement = function () {\n\tvar el = document.createElement(\"div\");\n\tel.classList.add(\"tabulator-loader\");\n\treturn el;\n};\n\nAjax.prototype.createMsgElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-loader-msg\");\n\tel.setAttribute(\"role\", \"alert\");\n\n\treturn el;\n};\n\n//set ajax params\nAjax.prototype.setParams = function (params, update) {\n\tif (update) {\n\t\tthis.params = this.params || {};\n\n\t\tfor (var key in params) {\n\t\t\tthis.params[key] = params[key];\n\t\t}\n\t} else {\n\t\tthis.params = params;\n\t}\n};\n\nAjax.prototype.getParams = function () {\n\treturn this.params || {};\n};\n\n//load config object\nAjax.prototype.setConfig = function (config) {\n\tthis._loadDefaultConfig();\n\n\tif (typeof config == \"string\") {\n\t\tthis.config.method = config;\n\t} else {\n\t\tfor (var key in config) {\n\t\t\tthis.config[key] = config[key];\n\t\t}\n\t}\n};\n\n//create config object from default\nAjax.prototype._loadDefaultConfig = function (force) {\n\tvar self = this;\n\tif (!self.config || force) {\n\n\t\tself.config = {};\n\n\t\t//load base config from defaults\n\t\tfor (var key in self.defaultConfig) {\n\t\t\tself.config[key] = self.defaultConfig[key];\n\t\t}\n\t}\n};\n\n//set request url\nAjax.prototype.setUrl = function (url) {\n\tthis.url = url;\n};\n\n//get request url\nAjax.prototype.getUrl = function () {\n\treturn this.url;\n};\n\n//lstandard loading function\nAjax.prototype.loadData = function (inPosition, columnsChanged) {\n\tvar self = this;\n\n\tif (this.progressiveLoad) {\n\t\treturn this._loadDataProgressive();\n\t} else {\n\t\treturn this._loadDataStandard(inPosition, columnsChanged);\n\t}\n};\n\nAjax.prototype.nextPage = function (diff) {\n\tvar margin;\n\n\tif (!this.loading) {\n\n\t\tmargin = this.table.options.ajaxProgressiveLoadScrollMargin || this.table.rowManager.getElement().clientHeight * 2;\n\n\t\tif (diff < margin) {\n\t\t\tthis.table.modules.page.nextPage().then(function () {}).catch(function () {});\n\t\t}\n\t}\n};\n\nAjax.prototype.blockActiveRequest = function () {\n\tthis.requestOrder++;\n};\n\nAjax.prototype._loadDataProgressive = function () {\n\tthis.table.rowManager.setData([]);\n\treturn this.table.modules.page.setPage(1);\n};\n\nAjax.prototype._loadDataStandard = function (inPosition, columnsChanged) {\n\tvar _this42 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\t_this42.sendRequest(inPosition).then(function (data) {\n\t\t\t_this42.table.rowManager.setData(data, inPosition, columnsChanged).then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function (e) {\n\t\t\t\treject(e);\n\t\t\t});\n\t\t}).catch(function (e) {\n\t\t\treject(e);\n\t\t});\n\t});\n};\n\nAjax.prototype.generateParamsList = function (data, prefix) {\n\tvar self = this,\n\t    output = [];\n\n\tprefix = prefix || \"\";\n\n\tif (Array.isArray(data)) {\n\t\tdata.forEach(function (item, i) {\n\t\t\toutput = output.concat(self.generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t} else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === \"object\") {\n\t\tfor (var key in data) {\n\t\t\toutput = output.concat(self.generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t} else {\n\t\toutput.push({ key: prefix, value: data });\n\t}\n\n\treturn output;\n};\n\nAjax.prototype.serializeParams = function (params) {\n\tvar output = this.generateParamsList(params),\n\t    encoded = [];\n\n\toutput.forEach(function (item) {\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n};\n\n//send ajax request\nAjax.prototype.sendRequest = function (silent) {\n\tvar _this43 = this;\n\n\tvar self = this,\n\t    url = self.url,\n\t    requestNo,\n\t    esc,\n\t    query;\n\n\tself.requestOrder++;\n\trequestNo = self.requestOrder;\n\n\tself._loadDefaultConfig();\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (self.table.options.ajaxRequesting.call(_this43.table, self.url, self.params) !== false) {\n\n\t\t\tself.loading = true;\n\n\t\t\tif (!silent) {\n\t\t\t\tself.showLoader();\n\t\t\t}\n\n\t\t\t_this43.loaderPromise(url, self.config, self.params).then(function (data) {\n\t\t\t\tif (requestNo === self.requestOrder) {\n\t\t\t\t\tif (self.table.options.ajaxResponse) {\n\t\t\t\t\t\tdata = self.table.options.ajaxResponse.call(self.table, self.url, self.params, data);\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data);\n\n\t\t\t\t\tself.hideLoader();\n\t\t\t\t\tself.loading = false;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t}\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.error(\"Ajax Load Error: \", error);\n\t\t\t\tself.table.options.ajaxError.call(self.table, error);\n\n\t\t\t\tself.showError();\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself.hideLoader();\n\t\t\t\t}, 3000);\n\n\t\t\t\tself.loading = false;\n\n\t\t\t\treject();\n\t\t\t});\n\t\t} else {\n\t\t\treject();\n\t\t}\n\t});\n};\n\nAjax.prototype.showLoader = function () {\n\tvar shouldLoad = typeof this.table.options.ajaxLoader === \"function\" ? this.table.options.ajaxLoader() : this.table.options.ajaxLoader;\n\n\tif (shouldLoad) {\n\n\t\tthis.hideLoader();\n\n\t\twhile (this.msgElement.firstChild) {\n\t\t\tthis.msgElement.removeChild(this.msgElement.firstChild);\n\t\t}this.msgElement.classList.remove(\"tabulator-error\");\n\t\tthis.msgElement.classList.add(\"tabulator-loading\");\n\n\t\tif (this.loadingElement) {\n\t\t\tthis.msgElement.appendChild(this.loadingElement);\n\t\t} else {\n\t\t\tthis.msgElement.innerHTML = this.table.modules.localize.getText(\"ajax|loading\");\n\t\t}\n\n\t\tthis.table.element.appendChild(this.loaderElement);\n\t}\n};\n\nAjax.prototype.showError = function () {\n\tthis.hideLoader();\n\n\twhile (this.msgElement.firstChild) {\n\t\tthis.msgElement.removeChild(this.msgElement.firstChild);\n\t}this.msgElement.classList.remove(\"tabulator-loading\");\n\tthis.msgElement.classList.add(\"tabulator-error\");\n\n\tif (this.errorElement) {\n\t\tthis.msgElement.appendChild(this.errorElement);\n\t} else {\n\t\tthis.msgElement.innerHTML = this.table.modules.localize.getText(\"ajax|error\");\n\t}\n\n\tthis.table.element.appendChild(this.loaderElement);\n};\n\nAjax.prototype.hideLoader = function () {\n\tif (this.loaderElement.parentNode) {\n\t\tthis.loaderElement.parentNode.removeChild(this.loaderElement);\n\t}\n};\n\n//default ajax config object\nAjax.prototype.defaultConfig = {\n\tmethod: \"GET\"\n};\n\nAjax.prototype.defaultURLGenerator = function (url, config, params) {\n\n\tif (url) {\n\t\tif (params && Object.keys(params).length) {\n\t\t\tif (!config.method || config.method.toLowerCase() == \"get\") {\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + this.serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n};\n\nAjax.prototype.defaultLoaderPromise = function (url, config, params) {\n\tvar self = this,\n\t    contentType;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\t//set url\n\t\turl = self.urlGenerator(url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif (config.method.toUpperCase() != \"GET\") {\n\t\t\tcontentType = _typeof(self.table.options.ajaxContentType) === \"object\" ? self.table.options.ajaxContentType : self.contentTypeFormatters[self.table.options.ajaxContentType];\n\t\t\tif (contentType) {\n\n\t\t\t\tfor (var key in contentType.headers) {\n\t\t\t\t\tif (!config.headers) {\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof config.headers[key] === \"undefined\") {\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(self, url, config, params);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", self.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif (url) {\n\n\t\t\t//configure headers\n\t\t\tif (typeof config.headers === \"undefined\") {\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif (typeof config.headers.Accept === \"undefined\") {\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif (typeof config.headers[\"X-Requested-With\"] === \"undefined\") {\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif (typeof config.mode === \"undefined\") {\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif (config.mode == \"cors\") {\n\n\t\t\t\tif (typeof config.headers[\"Access-Control-Allow-Origin\"] === \"undefined\") {\n\t\t\t\t\tconfig.headers[\"Access-Control-Allow-Origin\"] = window.location.origin;\n\t\t\t\t}\n\n\t\t\t\tif (typeof config.credentials === \"undefined\") {\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof config.credentials === \"undefined\") {\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config).then(function (response) {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tresponse.json().then(function (data) {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treject(response);\n\t\t\t\t}\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\treject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n};\n\nAjax.prototype.contentTypeFormatters = {\n\t\"json\": {\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: function body(url, config, params) {\n\t\t\treturn JSON.stringify(params);\n\t\t}\n\t},\n\t\"form\": {\n\t\theaders: {},\n\t\tbody: function body(url, config, params) {\n\t\t\tvar output = this.generateParamsList(params),\n\t\t\t    form = new FormData();\n\n\t\t\toutput.forEach(function (item) {\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"ajax\", Ajax);\n\n//public calc object\nvar CalcComponent = function CalcComponent(row) {\n\tthis._row = row;\n};\n\nCalcComponent.prototype.getData = function (transform) {\n\treturn this._row.getData(transform);\n};\n\nCalcComponent.prototype.getElement = function () {\n\treturn this._row.getElement();\n};\n\nCalcComponent.prototype.getTable = function () {\n\treturn this._row.table;\n};\n\nCalcComponent.prototype.getCells = function () {\n\tvar cells = [];\n\n\tthis._row.getCells().forEach(function (cell) {\n\t\tcells.push(cell.getComponent());\n\t});\n\n\treturn cells;\n};\n\nCalcComponent.prototype.getCell = function (column) {\n\tvar cell = this._row.getCell(column);\n\treturn cell ? cell.getComponent() : false;\n};\n\nCalcComponent.prototype._getSelf = function () {\n\treturn this._row;\n};\n\nvar ColumnCalcs = function ColumnCalcs(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.topCalcs = [];\n\tthis.botCalcs = [];\n\tthis.genColumn = false;\n\tthis.topElement = this.createElement();\n\tthis.botElement = this.createElement();\n\tthis.topRow = false;\n\tthis.botRow = false;\n\tthis.topInitialized = false;\n\tthis.botInitialized = false;\n\n\tthis.initialize();\n};\n\nColumnCalcs.prototype.createElement = function () {\n\tvar el = document.createElement(\"div\");\n\tel.classList.add(\"tabulator-calcs-holder\");\n\treturn el;\n};\n\nColumnCalcs.prototype.initialize = function () {\n\tthis.genColumn = new Column({ field: \"value\" }, this);\n};\n\n//dummy functions to handle being mock column manager\nColumnCalcs.prototype.registerColumnField = function () {};\n\n//initialize column calcs\nColumnCalcs.prototype.initializeColumn = function (column) {\n\tvar def = column.definition;\n\n\tvar config = {\n\t\ttopCalcParams: def.topCalcParams || {},\n\t\tbotCalcParams: def.bottomCalcParams || {}\n\t};\n\n\tif (def.topCalc) {\n\n\t\tswitch (_typeof(def.topCalc)) {\n\t\t\tcase \"string\":\n\t\t\t\tif (this.calculations[def.topCalc]) {\n\t\t\t\t\tconfig.topCalc = this.calculations[def.topCalc];\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (config.topCalc) {\n\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\tthis.topCalcs.push(column);\n\n\t\t\tif (this.table.options.columnCalcs != \"group\") {\n\t\t\t\tthis.initializeTopRow();\n\t\t\t}\n\t\t}\n\t}\n\n\tif (def.bottomCalc) {\n\t\tswitch (_typeof(def.bottomCalc)) {\n\t\t\tcase \"string\":\n\t\t\t\tif (this.calculations[def.bottomCalc]) {\n\t\t\t\t\tconfig.botCalc = this.calculations[def.bottomCalc];\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (config.botCalc) {\n\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\tthis.botCalcs.push(column);\n\n\t\t\tif (this.table.options.columnCalcs != \"group\") {\n\t\t\t\tthis.initializeBottomRow();\n\t\t\t}\n\t\t}\n\t}\n};\n\nColumnCalcs.prototype.removeCalcs = function () {\n\tvar changed = false;\n\n\tif (this.topInitialized) {\n\t\tthis.topInitialized = false;\n\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\tchanged = true;\n\t}\n\n\tif (this.botInitialized) {\n\t\tthis.botInitialized = false;\n\t\tthis.table.footerManager.remove(this.botElement);\n\t\tchanged = true;\n\t}\n\n\tif (changed) {\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n};\n\nColumnCalcs.prototype.initializeTopRow = function () {\n\tif (!this.topInitialized) {\n\t\t// this.table.columnManager.headersElement.after(this.topElement);\n\t\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\t\tthis.topInitialized = true;\n\t}\n};\n\nColumnCalcs.prototype.initializeBottomRow = function () {\n\tif (!this.botInitialized) {\n\t\tthis.table.footerManager.prepend(this.botElement);\n\t\tthis.botInitialized = true;\n\t}\n};\n\nColumnCalcs.prototype.scrollHorizontal = function (left) {\n\tvar hozAdjust = 0,\n\t    scrollWidth = this.table.columnManager.getElement().scrollWidth - this.table.element.clientWidth;\n\n\tif (this.botInitialized && this.botRow) {\n\t\tthis.botRow.getElement().style.marginLeft = -left + \"px\";\n\t}\n};\n\nColumnCalcs.prototype.recalc = function (rows) {\n\tvar data, row;\n\n\tif (this.topInitialized || this.botInitialized) {\n\t\tdata = this.rowsToData(rows);\n\n\t\tif (this.topInitialized) {\n\t\t\tif (this.topRow) {\n\t\t\t\tthis.topRow.deleteCells();\n\t\t\t}\n\n\t\t\trow = this.generateRow(\"top\", this.rowsToData(rows));\n\t\t\tthis.topRow = row;\n\t\t\twhile (this.topElement.firstChild) {\n\t\t\t\tthis.topElement.removeChild(this.topElement.firstChild);\n\t\t\t}this.topElement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t}\n\n\t\tif (this.botInitialized) {\n\t\t\tif (this.botRow) {\n\t\t\t\tthis.botRow.deleteCells();\n\t\t\t}\n\n\t\t\trow = this.generateRow(\"bottom\", this.rowsToData(rows));\n\t\t\tthis.botRow = row;\n\t\t\twhile (this.botElement.firstChild) {\n\t\t\t\tthis.botElement.removeChild(this.botElement.firstChild);\n\t\t\t}this.botElement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t}\n\n\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t//set resizable handles\n\t\tif (this.table.modExists(\"frozenColumns\")) {\n\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t}\n\t}\n};\n\nColumnCalcs.prototype.recalcRowGroup = function (row) {\n\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n};\n\nColumnCalcs.prototype.recalcAll = function () {\n\tvar _this44 = this;\n\n\tif (this.topCalcs.length || this.botCalcs.length) {\n\t\tif (this.table.options.columnCalcs !== \"group\") {\n\t\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t}\n\n\t\tif (this.table.options.groupBy && this.table.options.columnCalcs !== \"table\") {\n\n\t\t\tvar groups = table.modules.groupRows.getChildGroups();\n\n\t\t\tgroups.forEach(function (group) {\n\t\t\t\t_this44.recalcGroup(group);\n\t\t\t});\n\t\t}\n\t}\n};\n\nColumnCalcs.prototype.recalcGroup = function (group) {\n\tvar data, rowData;\n\n\tif (group) {\n\t\tif (group.calcs) {\n\t\t\tif (group.calcs.bottom) {\n\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\n\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t}\n\n\t\t\tif (group.calcs.top) {\n\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\trowData = this.generateRowData(\"top\", data);\n\n\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t}\n\t\t}\n\t}\n};\n\n//generate top stats row\nColumnCalcs.prototype.generateTopRow = function (rows) {\n\treturn this.generateRow(\"top\", this.rowsToData(rows));\n};\n//generate bottom stats row\nColumnCalcs.prototype.generateBottomRow = function (rows) {\n\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n};\n\nColumnCalcs.prototype.rowsToData = function (rows) {\n\tvar _this45 = this;\n\n\tvar data = [];\n\n\trows.forEach(function (row) {\n\t\tdata.push(row.getData());\n\n\t\tif (_this45.table.options.dataTree && _this45.table.options.dataTreeChildColumnCalcs) {\n\t\t\tif (row.modules.dataTree.open) {\n\t\t\t\tvar children = _this45.rowsToData(_this45.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\tdata = data.concat(children);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn data;\n};\n\n//generate stats row\nColumnCalcs.prototype.generateRow = function (pos, data) {\n\tvar self = this,\n\t    rowData = this.generateRowData(pos, data),\n\t    row;\n\n\tif (self.table.modExists(\"mutator\")) {\n\t\tself.table.modules.mutator.disable();\n\t}\n\n\trow = new Row(rowData, this, \"calc\");\n\n\tif (self.table.modExists(\"mutator\")) {\n\t\tself.table.modules.mutator.enable();\n\t}\n\n\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\n\trow.component = false;\n\n\trow.getComponent = function () {\n\t\tif (!this.component) {\n\t\t\tthis.component = new CalcComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t};\n\n\trow.generateCells = function () {\n\n\t\tvar cells = [];\n\n\t\tself.table.columnManager.columnsByIndex.forEach(function (column) {\n\n\t\t\t//set field name of mock column\n\t\t\tself.genColumn.setField(column.getField());\n\t\t\tself.genColumn.hozAlign = column.hozAlign;\n\n\t\t\tif (column.definition[pos + \"CalcFormatter\"] && self.table.modExists(\"format\")) {\n\t\t\t\tself.genColumn.modules.format = {\n\t\t\t\t\tformatter: self.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tself.genColumn.modules.format = {\n\t\t\t\t\tformatter: self.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\tparams: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t//ensure css class defintion is replicated to calculation cell\n\t\t\tself.genColumn.definition.cssClass = column.definition.cssClass;\n\n\t\t\t//generate cell and assign to correct column\n\t\t\tvar cell = new Cell(self.genColumn, row);\n\t\t\tcell.getElement();\n\t\t\tcell.column = column;\n\t\t\tcell.setWidth();\n\n\t\t\tcolumn.cells.push(cell);\n\t\t\tcells.push(cell);\n\n\t\t\tif (!column.visible) {\n\t\t\t\tcell.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis.cells = cells;\n\t};\n\n\treturn row;\n};\n\n//generate stats row\nColumnCalcs.prototype.generateRowData = function (pos, data) {\n\tvar rowData = {},\n\t    calcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t    type = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t    params,\n\t    paramKey;\n\n\tcalcs.forEach(function (column) {\n\t\tvar values = [];\n\n\t\tif (column.modules.columnCalcs && column.modules.columnCalcs[type]) {\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t});\n\n\t\t\tparamKey = type + \"Params\";\n\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\n\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t}\n\t});\n\n\treturn rowData;\n};\n\nColumnCalcs.prototype.hasTopCalcs = function () {\n\treturn !!this.topCalcs.length;\n};\n\nColumnCalcs.prototype.hasBottomCalcs = function () {\n\treturn !!this.botCalcs.length;\n};\n\n//handle table redraw\nColumnCalcs.prototype.redraw = function () {\n\tif (this.topRow) {\n\t\tthis.topRow.normalizeHeight(true);\n\t}\n\tif (this.botRow) {\n\t\tthis.botRow.normalizeHeight(true);\n\t}\n};\n\n//return the calculated\nColumnCalcs.prototype.getResults = function () {\n\tvar self = this,\n\t    results = {},\n\t    groups;\n\n\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\n\t\tgroups.forEach(function (group) {\n\t\t\tresults[group.getKey()] = self.getGroupResults(group);\n\t\t});\n\t} else {\n\t\tresults = {\n\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\tbottom: this.botRow ? this.botRow.getData() : {}\n\t\t};\n\t}\n\n\treturn results;\n};\n\n//get results from a group\nColumnCalcs.prototype.getGroupResults = function (group) {\n\tvar self = this,\n\t    groupObj = group._getSelf(),\n\t    subGroups = group.getSubGroups(),\n\t    subGroupResults = {},\n\t    results = {};\n\n\tsubGroups.forEach(function (subgroup) {\n\t\tsubGroupResults[subgroup.getKey()] = self.getGroupResults(subgroup);\n\t});\n\n\tresults = {\n\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\tgroups: subGroupResults\n\t};\n\n\treturn results;\n};\n\n//default calculations\nColumnCalcs.prototype.calculations = {\n\t\"avg\": function avg(values, data, calcParams) {\n\t\tvar output = 0,\n\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif (values.length) {\n\t\t\toutput = values.reduce(function (sum, value) {\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\": function max(values, data, calcParams) {\n\t\tvar output = null,\n\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function (value) {\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif (value > output || output === null) {\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? precision !== false ? output.toFixed(precision) : output : \"\";\n\t},\n\t\"min\": function min(values, data, calcParams) {\n\t\tvar output = null,\n\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function (value) {\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif (value < output || output === null) {\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? precision !== false ? output.toFixed(precision) : output : \"\";\n\t},\n\t\"sum\": function sum(values, data, calcParams) {\n\t\tvar output = 0,\n\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif (values.length) {\n\t\t\tvalues.forEach(function (value) {\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\": function concat(values, data, calcParams) {\n\t\tvar output = 0;\n\n\t\tif (values.length) {\n\t\t\toutput = values.reduce(function (sum, value) {\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\": function count(values, data, calcParams) {\n\t\tvar output = 0;\n\n\t\tif (values.length) {\n\t\t\tvalues.forEach(function (value) {\n\t\t\t\tif (value) {\n\t\t\t\t\toutput++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n};\n\nTabulator.prototype.registerModule(\"columnCalcs\", ColumnCalcs);\n\nvar Clipboard = function Clipboard(table) {\n\tthis.table = table;\n\tthis.mode = true;\n\n\tthis.pasteParser = function () {};\n\tthis.pasteAction = function () {};\n\tthis.customSelection = false;\n\tthis.rowRange = false;\n\tthis.blocked = true; //block copy actions not originating from this command\n};\n\nClipboard.prototype.initialize = function () {\n\tvar _this46 = this;\n\n\tthis.mode = this.table.options.clipboard;\n\n\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\tif (this.mode === true || this.mode === \"copy\") {\n\t\tthis.table.element.addEventListener(\"copy\", function (e) {\n\t\t\tvar plain, html, list;\n\n\t\t\tif (!_this46.blocked) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif (_this46.customSelection) {\n\t\t\t\t\tplain = _this46.customSelection;\n\n\t\t\t\t\tif (_this46.table.options.clipboardCopyFormatter) {\n\t\t\t\t\t\tplain = _this46.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tvar list = _this46.table.modules.export.generateExportList(_this46.table.options.clipboardCopyConfig, _this46.table.options.clipboardCopyStyled, _this46.rowRange, \"clipboard\");\n\n\t\t\t\t\thtml = _this46.table.modules.export.genereateHTMLTable(list);\n\t\t\t\t\tplain = html ? _this46.generatePlainContent(list) : \"\";\n\n\t\t\t\t\tif (_this46.table.options.clipboardCopyFormatter) {\n\t\t\t\t\t\tplain = _this46.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\thtml = _this46.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\tif (html) {\n\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t}\n\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\tif (html) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_this46.table.options.clipboardCopied.call(_this46.table, plain, html);\n\n\t\t\t\t_this46.reset();\n\t\t\t}\n\t\t});\n\t}\n\n\tif (this.mode === true || this.mode === \"paste\") {\n\t\tthis.table.element.addEventListener(\"paste\", function (e) {\n\t\t\t_this46.paste(e);\n\t\t});\n\t}\n\n\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n};\n\nClipboard.prototype.reset = function () {\n\tthis.blocked = true;\n\tthis.customSelection = false;\n};\n\nClipboard.prototype.generatePlainContent = function (list) {\n\tvar output = [];\n\n\tlist.forEach(function (row) {\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach(function (col) {\n\t\t\tvar value = \"\";\n\n\t\t\tif (col) {\n\n\t\t\t\tif (row.type === \"group\") {\n\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t}\n\n\t\t\t\tif (col.value === null) {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tswitch (_typeof(col.value)) {\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trowData.push(value);\n\t\t});\n\n\t\toutput.push(rowData.join(\"\\t\"));\n\t});\n\n\treturn output.join(\"\\n\");\n};\n\nClipboard.prototype.copy = function (range, internal) {\n\tvar range, sel, textRange;\n\tthis.blocked = false;\n\tthis.customSelection = false;\n\n\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\trange = document.createRange();\n\t\t\trange.selectNodeContents(this.table.element);\n\t\t\tsel = window.getSelection();\n\n\t\t\tif (sel.toString() && internal) {\n\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t}\n\n\t\t\tsel.removeAllRanges();\n\t\t\tsel.addRange(range);\n\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\ttextRange = document.body.createTextRange();\n\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\ttextRange.select();\n\t\t}\n\n\t\tdocument.execCommand('copy');\n\n\t\tif (sel) {\n\t\t\tsel.removeAllRanges();\n\t\t}\n\t}\n};\n\n//PASTE EVENT HANDLING\n\nClipboard.prototype.setPasteAction = function (action) {\n\n\tswitch (typeof action === 'undefined' ? 'undefined' : _typeof(action)) {\n\t\tcase \"string\":\n\t\t\tthis.pasteAction = this.pasteActions[action];\n\n\t\t\tif (!this.pasteAction) {\n\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tthis.pasteAction = action;\n\t\t\tbreak;\n\t}\n};\n\nClipboard.prototype.setPasteParser = function (parser) {\n\tswitch (typeof parser === 'undefined' ? 'undefined' : _typeof(parser)) {\n\t\tcase \"string\":\n\t\t\tthis.pasteParser = this.pasteParsers[parser];\n\n\t\t\tif (!this.pasteParser) {\n\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tthis.pasteParser = parser;\n\t\t\tbreak;\n\t}\n};\n\nClipboard.prototype.paste = function (e) {\n\tvar data, rowData, rows;\n\n\tif (this.checkPaseOrigin(e)) {\n\n\t\tdata = this.getPasteData(e);\n\n\t\trowData = this.pasteParser.call(this, data);\n\n\t\tif (rowData) {\n\t\t\te.preventDefault();\n\n\t\t\tif (this.table.modExists(\"mutator\")) {\n\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t}\n\n\t\t\trows = this.pasteAction.call(this, rowData);\n\t\t\tthis.table.options.clipboardPasted.call(this.table, data, rowData, rows);\n\t\t} else {\n\t\t\tthis.table.options.clipboardPasteError.call(this.table, data);\n\t\t}\n\t}\n};\n\nClipboard.prototype.mutateData = function (data) {\n\tvar self = this,\n\t    output = [];\n\n\tif (Array.isArray(data)) {\n\t\tdata.forEach(function (row) {\n\t\t\toutput.push(self.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t});\n\t} else {\n\t\toutput = data;\n\t}\n\n\treturn output;\n};\n\nClipboard.prototype.checkPaseOrigin = function (e) {\n\tvar valid = true;\n\n\tif (e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell) {\n\t\tvalid = false;\n\t}\n\n\treturn valid;\n};\n\nClipboard.prototype.getPasteData = function (e) {\n\tvar data;\n\n\tif (window.clipboardData && window.clipboardData.getData) {\n\t\tdata = window.clipboardData.getData('Text');\n\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\tdata = e.clipboardData.getData('text/plain');\n\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t}\n\n\treturn data;\n};\n\nClipboard.prototype.pasteParsers = {\n\ttable: function table(clipboard) {\n\t\tvar data = [],\n\t\t    success = false,\n\t\t    headerFindSuccess = true,\n\t\t    columns = this.table.columnManager.columns,\n\t\t    columnMap = [],\n\t\t    rows = [];\n\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\n\t\tclipboard.forEach(function (row) {\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\n\t\tif (data.length && !(data.length === 1 && data[0].length < 2)) {\n\t\t\tsuccess = true;\n\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function (value) {\n\t\t\t\tvar column = columns.find(function (column) {\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\n\t\t\t\tif (column) {\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t} else {\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check if column headers are present by field\n\t\t\tif (!headerFindSuccess) {\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\n\t\t\t\tdata[0].forEach(function (value) {\n\t\t\t\t\tvar column = columns.find(function (column) {\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\n\t\t\t\t\tif (column) {\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t} else {\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!headerFindSuccess) {\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//remove header row if found\n\t\t\tif (headerFindSuccess) {\n\t\t\t\tdata.shift();\n\t\t\t}\n\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tvar row = {};\n\n\t\t\t\titem.forEach(function (value, i) {\n\t\t\t\t\tif (columnMap[i]) {\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\treturn rows;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nClipboard.prototype.pasteActions = {\n\treplace: function replace(rows) {\n\t\treturn this.table.setData(rows);\n\t},\n\tupdate: function update(rows) {\n\t\treturn this.table.updateOrAddData(rows);\n\t},\n\tinsert: function insert(rows) {\n\t\treturn this.table.addData(rows);\n\t}\n};\n\nTabulator.prototype.registerModule(\"clipboard\", Clipboard);\n\nvar DataTree = function DataTree(table) {\n\tthis.table = table;\n\tthis.indent = 10;\n\tthis.field = \"\";\n\tthis.collapseEl = null;\n\tthis.expandEl = null;\n\tthis.branchEl = null;\n\tthis.elementField = false;\n\n\tthis.startOpen = function () {};\n\n\tthis.displayIndex = 0;\n};\n\nDataTree.prototype.initialize = function () {\n\tvar dummyEl = null,\n\t    firstCol = this.table.columnManager.getFirstVisibileColumn(),\n\t    options = this.table.options;\n\n\tthis.field = options.dataTreeChildField;\n\tthis.indent = options.dataTreeChildIndent;\n\tthis.elementField = options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\n\tif (options.dataTreeBranchElement) {\n\n\t\tif (options.dataTreeBranchElement === true) {\n\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t} else {\n\t\t\tif (typeof options.dataTreeBranchElement === \"string\") {\n\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t} else {\n\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (options.dataTreeCollapseElement) {\n\t\tif (typeof options.dataTreeCollapseElement === \"string\") {\n\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t} else {\n\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t}\n\t} else {\n\t\tthis.collapseEl = document.createElement(\"div\");\n\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\tthis.collapseEl.tabIndex = 0;\n\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t}\n\n\tif (options.dataTreeExpandElement) {\n\t\tif (typeof options.dataTreeExpandElement === \"string\") {\n\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t} else {\n\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t}\n\t} else {\n\t\tthis.expandEl = document.createElement(\"div\");\n\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\tthis.expandEl.tabIndex = 0;\n\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t}\n\n\tswitch (_typeof(options.dataTreeStartExpanded)) {\n\t\tcase \"boolean\":\n\t\t\tthis.startOpen = function (row, index) {\n\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t};\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthis.startOpen = function (row, index) {\n\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t};\n\t\t\tbreak;\n\t}\n};\n\nDataTree.prototype.initializeRow = function (row) {\n\tvar childArray = row.getData()[this.field];\n\tvar isArray = Array.isArray(childArray);\n\n\tvar children = isArray || !isArray && (typeof childArray === 'undefined' ? 'undefined' : _typeof(childArray)) === \"object\" && childArray !== null;\n\n\tif (!children && row.modules.dataTree && row.modules.dataTree.branchEl) {\n\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t}\n\n\tif (!children && row.modules.dataTree && row.modules.dataTree.controlEl) {\n\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t}\n\n\trow.modules.dataTree = {\n\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\topen: children ? row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0) : false,\n\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\tchildren: children\n\t};\n};\n\nDataTree.prototype.layoutRow = function (row) {\n\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t    el = cell.getElement(),\n\t    config = row.modules.dataTree;\n\n\tif (config.branchEl) {\n\t\tif (config.branchEl.parentNode) {\n\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t}\n\t\tconfig.branchEl = false;\n\t}\n\n\tif (config.controlEl) {\n\t\tif (config.controlEl.parentNode) {\n\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t}\n\t\tconfig.controlEl = false;\n\t}\n\n\tthis.generateControlElement(row, el);\n\n\trow.element.classList.add(\"tabulator-tree-level-\" + config.index);\n\n\tif (config.index) {\n\t\tif (this.branchEl) {\n\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\tif (this.table.rtl) {\n\t\t\t\tconfig.branchEl.style.marginRight = (config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1) + config.index * this.indent + \"px\";\n\t\t\t} else {\n\t\t\t\tconfig.branchEl.style.marginLeft = (config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1) + config.index * this.indent + \"px\";\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (this.table.rtl) {\n\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + config.index * this.indent + \"px\";\n\t\t\t} else {\n\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + config.index * this.indent + \"px\";\n\t\t\t}\n\t\t}\n\t}\n};\n\nDataTree.prototype.generateControlElement = function (row, el) {\n\tvar _this47 = this;\n\n\tvar config = row.modules.dataTree,\n\t    el = el || row.getCells()[0].getElement(),\n\t    oldControl = config.controlEl;\n\n\tif (config.children !== false) {\n\n\t\tif (config.open) {\n\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\tconfig.controlEl.addEventListener(\"click\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t_this47.collapseRow(row);\n\t\t\t});\n\t\t} else {\n\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\tconfig.controlEl.addEventListener(\"click\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t_this47.expandRow(row);\n\t\t\t});\n\t\t}\n\n\t\tconfig.controlEl.addEventListener(\"mousedown\", function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif (oldControl && oldControl.parentNode === el) {\n\t\t\toldControl.parentNode.replaceChild(config.controlEl, oldControl);\n\t\t} else {\n\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t}\n\t}\n};\n\nDataTree.prototype.setDisplayIndex = function (index) {\n\tthis.displayIndex = index;\n};\n\nDataTree.prototype.getDisplayIndex = function () {\n\treturn this.displayIndex;\n};\n\nDataTree.prototype.getRows = function (rows) {\n\tvar _this48 = this;\n\n\tvar output = [];\n\n\trows.forEach(function (row, i) {\n\t\tvar config, children;\n\n\t\toutput.push(row);\n\n\t\tif (row instanceof Row) {\n\n\t\t\tconfig = row.modules.dataTree.children;\n\n\t\t\tif (!config.index && config.children !== false) {\n\t\t\t\tchildren = _this48.getChildren(row);\n\n\t\t\t\tchildren.forEach(function (child) {\n\t\t\t\t\toutput.push(child);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn output;\n};\n\nDataTree.prototype.getChildren = function (row) {\n\tvar _this49 = this;\n\n\tvar config = row.modules.dataTree,\n\t    children = [],\n\t    output = [];\n\n\tif (config.children !== false && config.open) {\n\t\tif (!Array.isArray(config.children)) {\n\t\t\tconfig.children = this.generateChildren(row);\n\t\t}\n\n\t\tif (this.table.modExists(\"filter\") && this.table.options.dataTreeFilter) {\n\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t} else {\n\t\t\tchildren = config.children;\n\t\t}\n\n\t\tif (this.table.modExists(\"sort\") && this.table.options.dataTreeSort) {\n\t\t\tthis.table.modules.sort.sort(children);\n\t\t}\n\n\t\tchildren.forEach(function (child) {\n\t\t\toutput.push(child);\n\n\t\t\tvar subChildren = _this49.getChildren(child);\n\n\t\t\tsubChildren.forEach(function (sub) {\n\t\t\t\toutput.push(sub);\n\t\t\t});\n\t\t});\n\t}\n\n\treturn output;\n};\n\nDataTree.prototype.generateChildren = function (row) {\n\tvar _this50 = this;\n\n\tvar children = [];\n\n\tvar childArray = row.getData()[this.field];\n\n\tif (!Array.isArray(childArray)) {\n\t\tchildArray = [childArray];\n\t}\n\n\tchildArray.forEach(function (childData) {\n\t\tvar childRow = new Row(childData || {}, _this50.table.rowManager);\n\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\tchildRow.modules.dataTree.parent = row;\n\t\tif (childRow.modules.dataTree.children) {\n\t\t\tchildRow.modules.dataTree.open = _this50.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t}\n\t\tchildren.push(childRow);\n\t});\n\n\treturn children;\n};\n\nDataTree.prototype.expandRow = function (row, silent) {\n\tvar config = row.modules.dataTree;\n\n\tif (config.children !== false) {\n\t\tconfig.open = true;\n\n\t\trow.reinitialize();\n\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\n\t\tthis.table.options.dataTreeRowExpanded(row.getComponent(), row.modules.dataTree.index);\n\t}\n};\n\nDataTree.prototype.collapseRow = function (row) {\n\tvar config = row.modules.dataTree;\n\n\tif (config.children !== false) {\n\t\tconfig.open = false;\n\n\t\trow.reinitialize();\n\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\n\t\tthis.table.options.dataTreeRowCollapsed(row.getComponent(), row.modules.dataTree.index);\n\t}\n};\n\nDataTree.prototype.toggleRow = function (row) {\n\tvar config = row.modules.dataTree;\n\n\tif (config.children !== false) {\n\t\tif (config.open) {\n\t\t\tthis.collapseRow(row);\n\t\t} else {\n\t\t\tthis.expandRow(row);\n\t\t}\n\t}\n};\n\nDataTree.prototype.getTreeParent = function (row) {\n\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n};\n\nDataTree.prototype.getFilteredTreeChildren = function (row) {\n\tvar config = row.modules.dataTree,\n\t    output = [],\n\t    children;\n\n\tif (config.children) {\n\n\t\tif (!Array.isArray(config.children)) {\n\t\t\tconfig.children = this.generateChildren(row);\n\t\t}\n\n\t\tif (this.table.modExists(\"filter\") && this.table.options.dataTreeFilter) {\n\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t} else {\n\t\t\tchildren = config.children;\n\t\t}\n\n\t\tchildren.forEach(function (childRow) {\n\t\t\tif (childRow instanceof Row) {\n\t\t\t\toutput.push(childRow);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\nDataTree.prototype.rowDelete = function (row) {\n\tvar parent = row.modules.dataTree.parent,\n\t    childIndex;\n\n\tif (parent) {\n\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\tif (childIndex !== false) {\n\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t}\n\n\t\tif (!parent.data[this.field].length) {\n\t\t\tdelete parent.data[this.field];\n\t\t}\n\n\t\tthis.initializeRow(parent);\n\t\tthis.layoutRow(parent);\n\t}\n\n\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n};\n\nDataTree.prototype.addTreeChildRow = function (row, data, top, index) {\n\tvar childIndex = false;\n\n\tif (typeof data === \"string\") {\n\t\tdata = JSON.parse(data);\n\t}\n\n\tif (!Array.isArray(row.data[this.field])) {\n\t\trow.data[this.field] = [];\n\n\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t}\n\n\tif (typeof index !== \"undefined\") {\n\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\tif (childIndex !== false) {\n\t\t\trow.data[this.field].splice(top ? childIndex : childIndex + 1, 0, data);\n\t\t}\n\t}\n\n\tif (childIndex === false) {\n\t\tif (top) {\n\t\t\trow.data[this.field].unshift(data);\n\t\t} else {\n\t\t\trow.data[this.field].push(data);\n\t\t}\n\t}\n\n\tthis.initializeRow(row);\n\tthis.layoutRow(row);\n\n\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n};\n\nDataTree.prototype.findChildIndex = function (subject, parent) {\n\tvar _this51 = this;\n\n\tvar match = false;\n\n\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\n\n\t\tif (subject instanceof Row) {\n\t\t\t//subject is row element\n\t\t\tmatch = subject.data;\n\t\t} else if (subject instanceof RowComponent) {\n\t\t\t//subject is public row component\n\t\t\tmatch = subject._getSelf().data;\n\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\n\t\t\tif (parent.modules.dataTree) {\n\t\t\t\tmatch = parent.modules.dataTree.children.find(function (childRow) {\n\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t});\n\n\t\t\t\tif (match) {\n\t\t\t\t\tmatch = match.data;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (typeof subject == \"undefined\" || subject === null) {\n\t\tmatch = false;\n\t} else {\n\t\t//subject should be treated as the index of the row\n\t\tmatch = parent.data[this.field].find(function (row) {\n\t\t\treturn row.data[_this51.table.options.index] == subject;\n\t\t});\n\t}\n\n\tif (match) {\n\n\t\tif (Array.isArray(parent.data[this.field])) {\n\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t}\n\n\t\tif (match == -1) {\n\t\t\tmatch = false;\n\t\t}\n\t}\n\n\t//catch all for any other type of input\n\n\treturn match;\n};\n\nDataTree.prototype.getTreeChildren = function (row, component, recurse) {\n\tvar _this52 = this;\n\n\tvar config = row.modules.dataTree,\n\t    output = [];\n\n\tif (config.children) {\n\n\t\tif (!Array.isArray(config.children)) {\n\t\t\tconfig.children = this.generateChildren(row);\n\t\t}\n\n\t\tconfig.children.forEach(function (childRow) {\n\t\t\tif (childRow instanceof Row) {\n\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\tif (recurse) {\n\t\t\t\t\toutput = output.concat(_this52.getTreeChildren(childRow, component, recurse));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\nDataTree.prototype.checkForRestyle = function (cell) {\n\tif (!cell.row.cells.indexOf(cell)) {\n\t\tcell.row.reinitialize();\n\t}\n};\n\nDataTree.prototype.getChildField = function () {\n\treturn this.field;\n};\n\nDataTree.prototype.redrawNeeded = function (data) {\n\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n};\n\nTabulator.prototype.registerModule(\"dataTree\", DataTree);\n\nvar Download = function Download(table) {\n\tthis.table = table; //hold Tabulator object\n};\n\n//trigger file download\nDownload.prototype.download = function (type, filename, options, range, interceptCallback) {\n\tvar self = this,\n\t    downloadFunc = false;\n\n\tfunction buildLink(data, mime) {\n\t\tif (interceptCallback) {\n\t\t\tif (interceptCallback === true) {\n\t\t\t\tself.triggerDownload(data, mime, type, filename, true);\n\t\t\t} else {\n\t\t\t\tinterceptCallback(data);\n\t\t\t}\n\t\t} else {\n\t\t\tself.triggerDownload(data, mime, type, filename);\n\t\t}\n\t}\n\n\tif (typeof type == \"function\") {\n\t\tdownloadFunc = type;\n\t} else {\n\t\tif (self.downloaders[type]) {\n\t\t\tdownloadFunc = self.downloaders[type];\n\t\t} else {\n\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t}\n\t}\n\n\tif (downloadFunc) {\n\t\tvar list = this.generateExportList(range);\n\n\t\tdownloadFunc.call(this.table, list, options || {}, buildLink);\n\t}\n};\n\nDownload.prototype.generateExportList = function (range) {\n\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t//assign group header formatter\n\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\tif (groupHeader && !Array.isArray(groupHeader)) {\n\t\tgroupHeader = [groupHeader];\n\t}\n\n\tlist.forEach(function (row) {\n\t\tvar group;\n\n\t\tif (row.type === \"group\") {\n\t\t\tgroup = row.columns[0];\n\n\t\t\tif (groupHeader && groupHeader[row.indent]) {\n\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn list;\n};\n\nDownload.prototype.triggerDownload = function (data, mime, type, filename, newTab) {\n\tvar element = document.createElement('a'),\n\t    blob = new Blob([data], { type: mime }),\n\t    filename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\n\tblob = this.table.options.downloadReady.call(this.table, data, blob);\n\n\tif (blob) {\n\n\t\tif (newTab) {\n\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t} else {\n\t\t\tif (navigator.msSaveOrOpenBlob) {\n\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t} else {\n\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t//set file title\n\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t//trigger download\n\t\t\t\telement.style.display = 'none';\n\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\telement.click();\n\n\t\t\t\t//remove temporary link element\n\t\t\t\tdocument.body.removeChild(element);\n\t\t\t}\n\t\t}\n\n\t\tif (this.table.options.downloadComplete) {\n\t\t\tthis.table.options.downloadComplete();\n\t\t}\n\t}\n};\n\nDownload.prototype.commsReceived = function (table, action, data) {\n\tswitch (action) {\n\t\tcase \"intercept\":\n\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\tbreak;\n\t}\n};\n\n//downloaders\nDownload.prototype.downloaders = {\n\tcsv: function csv(list, options, setFileContents) {\n\t\tvar delimiter = options && options.delimiter ? options.delimiter : \",\",\n\t\t    fileContents = [],\n\t\t    headers = [];\n\n\t\tlist.forEach(function (row) {\n\t\t\tvar item = [];\n\n\t\t\tswitch (row.type) {\n\t\t\t\tcase \"group\":\n\t\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"header\":\n\t\t\t\t\trow.columns.forEach(function (col, i) {\n\t\t\t\t\t\tif (col && col.depth === 1) {\n\t\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\" || col.value === null ? \"\" : '\"' + String(col.value).split('\"').join('\"\"') + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"row\":\n\t\t\t\t\trow.columns.forEach(function (col) {\n\n\t\t\t\t\t\tif (col) {\n\n\t\t\t\t\t\t\tswitch (_typeof(col.value)) {\n\t\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\t\tcol.value = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcase \"null\":\n\t\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif (headers.length) {\n\t\t\tfileContents.unshift(headers.join(delimiter));\n\t\t}\n\n\t\tfileContents = fileContents.join(\"\\n\");\n\n\t\tif (options.bom) {\n\t\t\tfileContents = '\\uFEFF' + fileContents;\n\t\t}\n\n\t\tsetFileContents(fileContents, \"text/csv\");\n\t},\n\n\tjson: function json(list, options, setFileContents) {\n\t\tvar fileContents = [];\n\n\t\tlist.forEach(function (row) {\n\t\t\tvar item = {};\n\n\t\t\tswitch (row.type) {\n\t\t\t\tcase \"header\":\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"group\":\n\t\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"row\":\n\t\t\t\t\trow.columns.forEach(function (col) {\n\t\t\t\t\t\tif (col) {\n\t\t\t\t\t\t\titem[col.component.getField()] = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tfileContents.push(item);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\t\tsetFileContents(fileContents, \"application/json\");\n\t},\n\n\tpdf: function pdf(list, options, setFileContents) {\n\t\tvar header = [],\n\t\t    body = [],\n\t\t    autoTableParams = {},\n\t\t    rowGroupStyles = options.rowGroupStyles || {\n\t\t\tfontStyle: \"bold\",\n\t\t\tfontSize: 12,\n\t\t\tcellPadding: 6,\n\t\t\tfillColor: 220\n\t\t},\n\t\t    rowCalcStyles = options.rowCalcStyles || {\n\t\t\tfontStyle: \"bold\",\n\t\t\tfontSize: 10,\n\t\t\tcellPadding: 4,\n\t\t\tfillColor: 232\n\t\t},\n\t\t    jsPDFParams = options.jsPDF || {},\n\t\t    title = options && options.title ? options.title : \"\";\n\n\t\tif (!jsPDFParams.orientation) {\n\t\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t\t}\n\n\t\tif (!jsPDFParams.unit) {\n\t\t\tjsPDFParams.unit = \"pt\";\n\t\t}\n\n\t\t//parse row list\n\t\tlist.forEach(function (row) {\n\t\t\tvar item = {};\n\n\t\t\tswitch (row.type) {\n\t\t\t\tcase \"header\":\n\t\t\t\t\theader.push(parseRow(row));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"row\":\n\t\t\t\t\tbody.push(parseRow(row));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tfunction parseRow(row, styles) {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function (col) {\n\t\t\t\tvar cell;\n\n\t\t\t\tif (col) {\n\t\t\t\t\tswitch (_typeof(col.value)) {\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tcol.value = JSON.stringify(col.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcase \"null\":\n\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcell = {\n\t\t\t\t\t\tcontent: col.value,\n\t\t\t\t\t\tcolSpan: col.width,\n\t\t\t\t\t\trowSpan: col.height\n\t\t\t\t\t};\n\n\t\t\t\t\tif (styles) {\n\t\t\t\t\t\tcell.styles = styles;\n\t\t\t\t\t}\n\n\t\t\t\t\trowData.push(cell);\n\t\t\t\t} else {\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn rowData;\n\t\t}\n\n\t\t//configure PDF\n\t\tvar doc = new jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\t\tif (options && options.autoTable) {\n\t\t\tif (typeof options.autoTable === \"function\") {\n\t\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t\t} else {\n\t\t\t\tautoTableParams = options.autoTable;\n\t\t\t}\n\t\t}\n\n\t\tif (title) {\n\t\t\tautoTableParams.addPageContent = function (data) {\n\t\t\t\tdoc.text(title, 40, 30);\n\t\t\t};\n\t\t}\n\n\t\tautoTableParams.head = header;\n\t\tautoTableParams.body = body;\n\n\t\tdoc.autoTable(autoTableParams);\n\n\t\tif (options && options.documentProcessing) {\n\t\t\toptions.documentProcessing(doc);\n\t\t}\n\n\t\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n\t},\n\n\txlsx: function xlsx(list, options, setFileContents) {\n\t\tvar self = this,\n\t\t    sheetName = options.sheetName || \"Sheet1\",\n\t\t    workbook = XLSX.utils.book_new(),\n\t\t    output;\n\n\t\tworkbook.SheetNames = [];\n\t\tworkbook.Sheets = {};\n\n\t\tfunction generateSheet() {\n\t\t\tvar rows = [],\n\t\t\t    merges = [],\n\t\t\t    worksheet = {},\n\t\t\t    range = { s: { c: 0, r: 0 }, e: { c: list[0] ? list[0].columns.reduce(function (a, b) {\n\t\t\t\t\t\treturn a + (b && b.width ? b.width : 1);\n\t\t\t\t\t}, 0) : 0, r: list.length } };\n\n\t\t\t//parse row list\n\t\t\tlist.forEach(function (row, i) {\n\t\t\t\tvar rowData = [];\n\n\t\t\t\trow.columns.forEach(function (col, j) {\n\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\trowData.push(!(col.value instanceof Date) && _typeof(col.value) === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\t\tif (col.width > 1 || col.height > -1) {\n\t\t\t\t\t\t\tmerges.push({ s: { r: i, c: j }, e: { r: i + col.height - 1, c: j + col.width - 1 } });\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowData.push(\"\");\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(rowData);\n\t\t\t});\n\n\t\t\t//convert rows to worksheet\n\t\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\t\tif (merges.length) {\n\t\t\t\tworksheet[\"!merges\"] = merges;\n\t\t\t}\n\n\t\t\treturn worksheet;\n\t\t}\n\n\t\tif (options.sheetOnly) {\n\t\t\tsetFileContents(generateSheet());\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.sheets) {\n\t\t\tfor (var sheet in options.sheets) {\n\n\t\t\t\tif (options.sheets[sheet] === true) {\n\t\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t\t} else {\n\n\t\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\t\tthis.modules.comms.send(options.sheets[sheet], \"download\", \"intercept\", {\n\t\t\t\t\t\ttype: \"xlsx\",\n\t\t\t\t\t\toptions: { sheetOnly: true },\n\t\t\t\t\t\tactive: self.active,\n\t\t\t\t\t\tintercept: function intercept(data) {\n\t\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tworkbook.SheetNames.push(sheetName);\n\t\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t\t}\n\n\t\tif (options.documentProcessing) {\n\t\t\tworkbook = options.documentProcessing(workbook);\n\t\t}\n\n\t\t//convert workbook to binary array\n\t\tfunction s2ab(s) {\n\t\t\tvar buf = new ArrayBuffer(s.length);\n\t\t\tvar view = new Uint8Array(buf);\n\t\t\tfor (var i = 0; i != s.length; ++i) {\n\t\t\t\tview[i] = s.charCodeAt(i) & 0xFF;\n\t\t\t}return buf;\n\t\t}\n\n\t\toutput = XLSX.write(workbook, { bookType: 'xlsx', bookSST: true, type: 'binary' });\n\n\t\tsetFileContents(s2ab(output), \"application/octet-stream\");\n\t},\n\n\thtml: function html(list, options, setFileContents) {\n\t\tif (this.modExists(\"export\", true)) {\n\t\t\tsetFileContents(this.modules.export.genereateHTMLTable(list), \"text/html\");\n\t\t}\n\t}\n\n};\n\nTabulator.prototype.registerModule(\"download\", Download);\n\nvar Edit = function Edit(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.currentCell = false; //hold currently editing cell\n\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overriden by editor opening\n\tthis.recursionBlock = false; //prevent focus recursion\n\tthis.invalidEdit = false;\n\tthis.editedCells = [];\n};\n\n//initialize column editor\nEdit.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    config = {\n\t\teditor: false,\n\t\tblocked: false,\n\t\tcheck: column.definition.editable,\n\t\tparams: column.definition.editorParams || {}\n\t};\n\n\t//set column editor\n\tswitch (_typeof(column.definition.editor)) {\n\t\tcase \"string\":\n\n\t\t\tif (column.definition.editor === \"tick\") {\n\t\t\t\tcolumn.definition.editor = \"tickCross\";\n\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor\");\n\t\t\t}\n\n\t\t\tif (self.editors[column.definition.editor]) {\n\t\t\t\tconfig.editor = self.editors[column.definition.editor];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tconfig.editor = column.definition.editor;\n\t\t\tbreak;\n\n\t\tcase \"boolean\":\n\n\t\t\tif (column.definition.editor === true) {\n\n\t\t\t\tif (typeof column.definition.formatter !== \"function\") {\n\n\t\t\t\t\tif (column.definition.formatter === \"tick\") {\n\t\t\t\t\t\tcolumn.definition.formatter = \"tickCross\";\n\t\t\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.editors[column.definition.formatter]) {\n\t\t\t\t\t\tconfig.editor = self.editors[column.definition.formatter];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconfig.editor = self.editors[\"input\"];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\tif (config.editor) {\n\t\tcolumn.modules.edit = config;\n\t}\n};\n\nEdit.prototype.getCurrentCell = function () {\n\treturn this.currentCell ? this.currentCell.getComponent() : false;\n};\n\nEdit.prototype.clearEditor = function (cancel) {\n\tvar cell = this.currentCell,\n\t    cellEl;\n\n\tthis.invalidEdit = false;\n\n\tif (cell) {\n\t\tthis.currentCell = false;\n\n\t\tcellEl = cell.getElement();\n\n\t\tif (cancel) {\n\t\t\tcell.validate();\n\t\t} else {\n\t\t\tcellEl.classList.remove(\"tabulator-validation-fail\");\n\t\t}\n\n\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\twhile (cellEl.firstChild) {\n\t\t\tcellEl.removeChild(cellEl.firstChild);\n\t\t}cell.row.getElement().classList.remove(\"tabulator-row-editing\");\n\t}\n};\n\nEdit.prototype.cancelEdit = function () {\n\n\tif (this.currentCell) {\n\t\tvar cell = this.currentCell;\n\t\tvar component = this.currentCell.getComponent();\n\n\t\tthis.clearEditor(true);\n\t\tcell.setValueActual(cell.getValue());\n\t\tcell.cellRendered();\n\n\t\tif (cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight) {\n\t\t\tcell.row.normalizeHeight(true);\n\t\t}\n\n\t\tif (cell.column.cellEvents.cellEditCancelled) {\n\t\t\tcell.column.cellEvents.cellEditCancelled.call(this.table, component);\n\t\t}\n\n\t\tthis.table.options.cellEditCancelled.call(this.table, component);\n\t}\n};\n\n//return a formatted value for a cell\nEdit.prototype.bindEditor = function (cell) {\n\tvar self = this,\n\t    element = cell.getElement();\n\n\telement.setAttribute(\"tabindex\", 0);\n\n\telement.addEventListener(\"click\", function (e) {\n\t\tif (!element.classList.contains(\"tabulator-editing\")) {\n\t\t\telement.focus({ preventScroll: true });\n\t\t}\n\t});\n\n\telement.addEventListener(\"mousedown\", function (e) {\n\t\tif (e.button === 2) {\n\t\t\te.preventDefault();\n\t\t} else {\n\t\t\tself.mouseClick = true;\n\t\t}\n\t});\n\n\telement.addEventListener(\"focus\", function (e) {\n\t\tif (!self.recursionBlock) {\n\t\t\tself.edit(cell, e, false);\n\t\t}\n\t});\n};\n\nEdit.prototype.focusCellNoEvent = function (cell, block) {\n\tthis.recursionBlock = true;\n\tif (!(block && this.table.browser === \"ie\")) {\n\t\tcell.getElement().focus({ preventScroll: true });\n\t}\n\tthis.recursionBlock = false;\n};\n\nEdit.prototype.editCell = function (cell, forceEdit) {\n\tthis.focusCellNoEvent(cell);\n\tthis.edit(cell, false, forceEdit);\n};\n\nEdit.prototype.focusScrollAdjust = function (cell) {\n\tif (this.table.rowManager.getRenderMode() == \"virtual\") {\n\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t    bottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t    rowEl = cell.row.getElement(),\n\t\t    offset = rowEl.offsetTop;\n\n\t\tif (rowEl.offsetTop < topEdge) {\n\t\t\tthis.table.rowManager.element.scrollTop -= topEdge - rowEl.offsetTop;\n\t\t} else {\n\t\t\tif (rowEl.offsetTop + rowEl.offsetHeight > bottomEdge) {\n\t\t\t\tthis.table.rowManager.element.scrollTop += rowEl.offsetTop + rowEl.offsetHeight - bottomEdge;\n\t\t\t}\n\t\t}\n\n\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t    rightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t    cellEl = cell.getElement(),\n\t\t    offset = cellEl.offsetLeft;\n\n\t\tif (this.table.modExists(\"frozenColumns\")) {\n\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin);\n\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin);\n\t\t}\n\n\t\tif (cellEl.offsetLeft < leftEdge) {\n\t\t\tthis.table.rowManager.element.scrollLeft -= leftEdge - cellEl.offsetLeft;\n\t\t} else {\n\t\t\tif (cellEl.offsetLeft + cellEl.offsetWidth > rightEdge) {\n\t\t\t\tthis.table.rowManager.element.scrollLeft += cellEl.offsetLeft + cellEl.offsetWidth - rightEdge;\n\t\t\t}\n\t\t}\n\t}\n};\n\nEdit.prototype.edit = function (cell, e, forceEdit) {\n\tvar self = this,\n\t    allowEdit = true,\n\t    rendered = function rendered() {},\n\t    element = cell.getElement(),\n\t    cellEditor,\n\t    component,\n\t    params;\n\n\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\tif (this.currentCell) {\n\t\tif (!this.invalidEdit) {\n\t\t\tthis.cancelEdit();\n\t\t}\n\t\treturn;\n\t}\n\n\t//handle successfull value change\n\tfunction success(value) {\n\t\tif (self.currentCell === cell) {\n\t\t\tvar valid = true;\n\n\t\t\tif (cell.column.modules.validate && self.table.modExists(\"validate\") && self.table.options.validationMode != \"manual\") {\n\t\t\t\tvalid = self.table.modules.validate.validate(cell.column.modules.validate, cell, value);\n\t\t\t}\n\n\t\t\tif (valid === true || self.table.options.validationMode === \"highlight\") {\n\t\t\t\tself.clearEditor();\n\n\t\t\t\tif (!cell.modules.edit) {\n\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t}\n\n\t\t\t\tcell.modules.edit.edited = true;\n\n\t\t\t\tif (self.editedCells.indexOf(cell) == -1) {\n\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t}\n\n\t\t\t\tcell.setValue(value, true);\n\n\t\t\t\tif (self.table.options.dataTree && self.table.modExists(\"dataTree\")) {\n\t\t\t\t\tself.table.modules.dataTree.checkForRestyle(cell);\n\t\t\t\t}\n\n\t\t\t\tif (valid !== true) {\n\t\t\t\t\telement.classList.add(\"tabulator-validation-fail\");\n\t\t\t\t\tself.table.options.validationFailed.call(self.table, cell.getComponent(), value, valid);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself.invalidEdit = true;\n\t\t\t\telement.classList.add(\"tabulator-validation-fail\");\n\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\trendered();\n\t\t\t\tself.table.options.validationFailed.call(self.table, cell.getComponent(), value, valid);\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\n\t\t}\n\t}\n\n\t//handle aborted edit\n\tfunction cancel() {\n\t\tif (self.currentCell === cell) {\n\t\t\tself.cancelEdit();\n\n\t\t\tif (self.table.options.dataTree && self.table.modExists(\"dataTree\")) {\n\t\t\t\tself.table.modules.dataTree.checkForRestyle(cell);\n\t\t\t}\n\t\t} else {\n\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\n\t\t}\n\t}\n\n\tfunction onRendered(callback) {\n\t\trendered = callback;\n\t}\n\n\tif (!cell.column.modules.edit.blocked) {\n\t\tif (e) {\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\tswitch (_typeof(cell.column.modules.edit.check)) {\n\t\t\tcase \"function\":\n\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\tbreak;\n\n\t\t\tcase \"boolean\":\n\t\t\t\tallowEdit = cell.column.modules.edit.check;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (allowEdit || forceEdit) {\n\n\t\t\tself.cancelEdit();\n\n\t\t\tself.currentCell = cell;\n\n\t\t\tthis.focusScrollAdjust(cell);\n\n\t\t\tcomponent = cell.getComponent();\n\n\t\t\tif (this.mouseClick) {\n\t\t\t\tthis.mouseClick = false;\n\n\t\t\t\tif (cell.column.cellEvents.cellClick) {\n\t\t\t\t\tcell.column.cellEvents.cellClick.call(this.table, e, component);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cell.column.cellEvents.cellEditing) {\n\t\t\t\tcell.column.cellEvents.cellEditing.call(this.table, component);\n\t\t\t}\n\n\t\t\tself.table.options.cellEditing.call(this.table, component);\n\n\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\n\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\n\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\tif (cellEditor !== false) {\n\n\t\t\t\tif (cellEditor instanceof Node) {\n\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-row-editing\");\n\t\t\t\t\twhile (element.firstChild) {\n\t\t\t\t\t\telement.removeChild(element.firstChild);\n\t\t\t\t\t}element.appendChild(cellEditor);\n\n\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\trendered();\n\n\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\tvar children = element.children;\n\n\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function (e) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\telement.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telement.blur();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.mouseClick = false;\n\t\t\telement.blur();\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tthis.mouseClick = false;\n\t\telement.blur();\n\t\treturn false;\n\t}\n};\n\nEdit.prototype.maskInput = function (el, options) {\n\tvar mask = options.mask,\n\t    maskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\t    maskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\t    maskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\",\n\t    success = false;\n\n\tfunction fillSymbols(index) {\n\t\tvar symbol = mask[index];\n\t\tif (typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber) {\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index + 1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", function (e) {\n\t\tvar index = el.value.length,\n\t\t    char = e.key;\n\n\t\tif (e.keyCode > 46) {\n\t\t\tif (index >= mask.length) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tsuccess = false;\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tswitch (mask[index]) {\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif (char.toUpperCase() == char.toLowerCase()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif (isNaN(char)) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (char !== mask[index]) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsuccess = true;\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", function (e) {\n\t\tif (e.keyCode > 46) {\n\t\t\tif (options.maskAutoFill) {\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (!el.placeholder) {\n\t\tel.placeholder = mask;\n\t}\n\n\tif (options.maskAutoFill) {\n\t\tfillSymbols(el.value.length);\n\t}\n};\n\nEdit.prototype.getEditedCells = function () {\n\tvar output = [];\n\n\tthis.editedCells.forEach(function (cell) {\n\t\toutput.push(cell.getComponent());\n\t});\n\n\treturn output;\n};\n\nEdit.prototype.clearEdited = function (cell) {\n\tvar editIndex;\n\n\tif (cell.modules.edit && cell.modules.edit.edited) {\n\t\tcell.modules.edit.edited = false;\n\n\t\tif (cell.modules.validate) {\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\n\teditIndex = this.editedCells.indexOf(cell);\n\n\tif (editIndex > -1) {\n\t\tthis.editedCells.splice(editIndex, 1);\n\t}\n};\n\n//default data editors\nEdit.prototype.editors = {\n\n\t//input element\n\tinput: function input(cell, onRendered, success, cancel, editorParams) {\n\n\t\t//create and style input\n\t\tvar cellValue = cell.getValue(),\n\t\t    input = document.createElement(\"input\");\n\n\t\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\t\tonRendered(function () {\n\t\t\tinput.focus({ preventScroll: true });\n\t\t\tinput.style.height = \"100%\";\n\t\t});\n\n\t\tfunction onChange(e) {\n\t\t\tif ((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\" || input.value !== cellValue) {\n\t\t\t\tif (success(input.value)) {\n\t\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t}\n\n\t\t//submit new value on blur or change\n\t\tinput.addEventListener(\"change\", onChange);\n\t\tinput.addEventListener(\"blur\", onChange);\n\n\t\t//submit new value on enter\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\t// case 9:\n\t\t\t\tcase 13:\n\t\t\t\t\tonChange(e);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 35:\n\t\t\t\tcase 36:\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif (editorParams.mask) {\n\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\n\t\t}\n\n\t\treturn input;\n\t},\n\n\t//resizable text area element\n\ttextarea: function textarea(cell, onRendered, success, cancel, editorParams) {\n\t\tvar self = this,\n\t\t    cellValue = cell.getValue(),\n\t\t    vertNav = editorParams.verticalNavigation || \"hybrid\",\n\t\t    value = String(cellValue !== null && typeof cellValue !== \"undefined\" ? cellValue : \"\"),\n\t\t    count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\n\t\t    input = document.createElement(\"textarea\"),\n\t\t    scrollHeight = 0;\n\n\t\t//create and style input\n\t\tinput.style.display = \"block\";\n\t\tinput.style.padding = \"2px\";\n\t\tinput.style.height = \"100%\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\tinput.style.whiteSpace = \"pre-wrap\";\n\t\tinput.style.resize = \"none\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = value;\n\n\t\tonRendered(function () {\n\t\t\tinput.focus({ preventScroll: true });\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\t\t});\n\n\t\tfunction onChange(e) {\n\n\t\t\tif ((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\" || input.value !== cellValue) {\n\n\t\t\t\tif (success(input.value)) {\n\t\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t\t}, 300);\n\t\t\t} else {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t}\n\n\t\t//submit new value on blur or change\n\t\tinput.addEventListener(\"change\", onChange);\n\t\tinput.addEventListener(\"blur\", onChange);\n\n\t\tinput.addEventListener(\"keyup\", function () {\n\n\t\t\tinput.style.height = \"\";\n\n\t\t\tvar heightNow = input.scrollHeight;\n\n\t\t\tinput.style.height = heightNow + \"px\";\n\n\t\t\tif (heightNow != scrollHeight) {\n\t\t\t\tscrollHeight = heightNow;\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 27:\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 38:\n\t\t\t\t\t//up arrow\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && input.selectionStart) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 40:\n\t\t\t\t\t//down arrow\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && input.selectionStart !== input.value.length) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 35:\n\t\t\t\tcase 36:\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif (editorParams.mask) {\n\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\n\t\t}\n\n\t\treturn input;\n\t},\n\n\t//input element with type of number\n\tnumber: function number(cell, onRendered, success, cancel, editorParams) {\n\n\t\tvar cellValue = cell.getValue(),\n\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\n\t\t    input = document.createElement(\"input\");\n\n\t\tinput.setAttribute(\"type\", \"number\");\n\n\t\tif (typeof editorParams.max != \"undefined\") {\n\t\t\tinput.setAttribute(\"max\", editorParams.max);\n\t\t}\n\n\t\tif (typeof editorParams.min != \"undefined\") {\n\t\t\tinput.setAttribute(\"min\", editorParams.min);\n\t\t}\n\n\t\tif (typeof editorParams.step != \"undefined\") {\n\t\t\tinput.setAttribute(\"step\", editorParams.step);\n\t\t}\n\n\t\t//create and style input\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = cellValue;\n\n\t\tvar blurFunc = function blurFunc(e) {\n\t\t\tonChange();\n\t\t};\n\n\t\tonRendered(function () {\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({ preventScroll: true });\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\t\t});\n\n\t\tfunction onChange() {\n\t\t\tvar value = input.value;\n\n\t\t\tif (!isNaN(value) && value !== \"\") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\n\t\t\tif (value !== cellValue) {\n\t\t\t\tif (success(value)) {\n\t\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t}\n\n\t\t//submit new value on enter\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 13:\n\t\t\t\t\t// case 9:\n\t\t\t\t\tonChange();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 38: //up arrow\n\t\t\t\tcase 40:\n\t\t\t\t\t//down arrow\n\t\t\t\t\tif (vertNav == \"editor\") {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 35:\n\t\t\t\tcase 36:\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif (editorParams.mask) {\n\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\n\t\t}\n\n\t\treturn input;\n\t},\n\n\t//input element with type of number\n\trange: function range(cell, onRendered, success, cancel, editorParams) {\n\n\t\tvar cellValue = cell.getValue(),\n\t\t    input = document.createElement(\"input\");\n\n\t\tinput.setAttribute(\"type\", \"range\");\n\n\t\tif (typeof editorParams.max != \"undefined\") {\n\t\t\tinput.setAttribute(\"max\", editorParams.max);\n\t\t}\n\n\t\tif (typeof editorParams.min != \"undefined\") {\n\t\t\tinput.setAttribute(\"min\", editorParams.min);\n\t\t}\n\n\t\tif (typeof editorParams.step != \"undefined\") {\n\t\t\tinput.setAttribute(\"step\", editorParams.step);\n\t\t}\n\n\t\t//create and style input\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = cellValue;\n\n\t\tonRendered(function () {\n\t\t\tinput.focus({ preventScroll: true });\n\t\t\tinput.style.height = \"100%\";\n\t\t});\n\n\t\tfunction onChange() {\n\t\t\tvar value = input.value;\n\n\t\t\tif (!isNaN(value) && value !== \"\") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\n\t\t\tif (value != cellValue) {\n\t\t\t\tif (success(value)) {\n\t\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t}\n\n\t\t//submit new value on blur\n\t\tinput.addEventListener(\"blur\", function (e) {\n\t\t\tonChange();\n\t\t});\n\n\t\t//submit new value on enter\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 13:\n\t\t\t\t\t// case 9:\n\t\t\t\t\tonChange();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn input;\n\t},\n\n\t//select\n\tselect: function select(cell, onRendered, success, cancel, editorParams) {\n\t\tvar _this53 = this;\n\n\t\tvar self = this,\n\t\t    cellEl = cell.getElement(),\n\t\t    initialValue = cell.getValue(),\n\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\n\t\t    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? Array.isArray(initialValue) ? initialValue : [initialValue] : typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : [],\n\t\t    input = document.createElement(\"input\"),\n\t\t    listEl = document.createElement(\"div\"),\n\t\t    multiselect = editorParams.multiselect,\n\t\t    dataItems = [],\n\t\t    currentItem = {},\n\t\t    displayItems = [],\n\t\t    currentItems = [],\n\t\t    blurable = true,\n\t\t    blockListShow = false;\n\n\t\tif (Array.isArray(editorParams) || !Array.isArray(editorParams) && (typeof editorParams === 'undefined' ? 'undefined' : _typeof(editorParams)) === \"object\" && !editorParams.values) {\n\t\t\tconsole.warn(\"DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object\");\n\t\t\teditorParams = { values: editorParams };\n\t\t}\n\n\t\tfunction getUniqueColumnValues(field) {\n\t\t\tvar output = {},\n\t\t\t    data = self.table.getData(),\n\t\t\t    column;\n\n\t\t\tif (field) {\n\t\t\t\tcolumn = self.table.columnManager.getColumnByField(field);\n\t\t\t} else {\n\t\t\t\tcolumn = cell.getColumn()._getSelf();\n\t\t\t}\n\n\t\t\tif (column) {\n\t\t\t\tdata.forEach(function (row) {\n\t\t\t\t\tvar val = column.getFieldValue(row);\n\n\t\t\t\t\tif (val !== null && typeof val !== \"undefined\" && val !== \"\") {\n\t\t\t\t\t\toutput[val] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (editorParams.sortValuesList) {\n\t\t\t\t\tif (editorParams.sortValuesList == \"asc\") {\n\t\t\t\t\t\toutput = Object.keys(output).sort();\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput = Object.keys(output).sort().reverse();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput = Object.keys(output);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction parseItems(inputValues, curentValues) {\n\t\t\tvar dataList = [];\n\t\t\tvar displayList = [];\n\n\t\t\tfunction processComplexListItem(item) {\n\t\t\t\tvar item = {\n\t\t\t\t\tlabel: item.label,\n\t\t\t\t\tvalue: item.value,\n\t\t\t\t\titemParams: item.itemParams,\n\t\t\t\t\telementAttributes: item.elementAttributes,\n\t\t\t\t\telement: false\n\t\t\t\t};\n\n\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\n\t\t\t\t// \tsetCurrentItem(item);\n\t\t\t\t// }\n\n\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\n\t\t\t\t\tsetItem(item);\n\t\t\t\t}\n\n\t\t\t\tdataList.push(item);\n\t\t\t\tdisplayList.push(item);\n\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\tif (typeof inputValues == \"function\") {\n\t\t\t\tinputValues = inputValues(cell);\n\t\t\t}\n\n\t\t\tif (Array.isArray(inputValues)) {\n\t\t\t\tinputValues.forEach(function (value) {\n\t\t\t\t\tvar item;\n\n\t\t\t\t\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === \"object\") {\n\n\t\t\t\t\t\tif (value.options) {\n\t\t\t\t\t\t\titem = {\n\t\t\t\t\t\t\t\tlabel: value.label,\n\t\t\t\t\t\t\t\tgroup: true,\n\t\t\t\t\t\t\t\titemParams: value.itemParams,\n\t\t\t\t\t\t\t\telementAttributes: value.elementAttributes,\n\t\t\t\t\t\t\t\telement: false\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdisplayList.push(item);\n\n\t\t\t\t\t\t\tvalue.options.forEach(function (item) {\n\t\t\t\t\t\t\t\tprocessComplexListItem(item);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprocessComplexListItem(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\titem = {\n\t\t\t\t\t\t\tlabel: value,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\telement: false\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\n\t\t\t\t\t\t// \tsetCurrentItem(item);\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\n\t\t\t\t\t\t\tsetItem(item);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdataList.push(item);\n\t\t\t\t\t\tdisplayList.push(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfor (var key in inputValues) {\n\t\t\t\t\tvar item = {\n\t\t\t\t\t\tlabel: inputValues[key],\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\telement: false\n\t\t\t\t\t};\n\n\t\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\n\t\t\t\t\t// \tsetCurrentItem(item);\n\t\t\t\t\t// }\n\n\t\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\n\t\t\t\t\t\tsetItem(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tdataList.push(item);\n\t\t\t\t\tdisplayList.push(item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdataItems = dataList;\n\t\t\tdisplayItems = displayList;\n\n\t\t\tfillList();\n\t\t}\n\n\t\tfunction fillList() {\n\t\t\twhile (listEl.firstChild) {\n\t\t\t\tlistEl.removeChild(listEl.firstChild);\n\t\t\t}displayItems.forEach(function (item) {\n\n\t\t\t\tvar el = item.element;\n\n\t\t\t\tif (!el) {\n\t\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\t\titem.label = editorParams.listItemFormatter ? editorParams.listItemFormatter(item.value, item.label, cell, el, item.itemParams) : item.label;\n\t\t\t\t\tif (item.group) {\n\t\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-group\");\n\t\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\t\tel.innerHTML = item.label === \"\" ? \"&nbsp;\" : item.label;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-item\");\n\t\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\t\tel.innerHTML = item.label === \"\" ? \"&nbsp;\" : item.label;\n\n\t\t\t\t\t\tel.addEventListener(\"click\", function () {\n\t\t\t\t\t\t\tblockListShow = true;\n\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tblockListShow = false;\n\t\t\t\t\t\t\t}, 10);\n\n\t\t\t\t\t\t\t// setCurrentItem(item);\n\t\t\t\t\t\t\t// chooseItem();\n\t\t\t\t\t\t\tif (multiselect) {\n\t\t\t\t\t\t\t\ttoggleItem(item);\n\t\t\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tchooseItem(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// if(item === currentItem){\n\t\t\t\t\t\t// \tel.classList.add(\"active\");\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tif (currentItems.indexOf(item) > -1) {\n\t\t\t\t\t\t\tel.classList.add(\"active\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.elementAttributes && _typeof(item.elementAttributes) == \"object\") {\n\t\t\t\t\t\tfor (var key in item.elementAttributes) {\n\t\t\t\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\t\tel.setAttribute(key, input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tel.addEventListener(\"mousedown\", function () {\n\t\t\t\t\t\tblurable = false;\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tblurable = true;\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t});\n\n\t\t\t\t\titem.element = el;\n\t\t\t\t}\n\n\t\t\t\tlistEl.appendChild(el);\n\t\t\t});\n\t\t}\n\n\t\tfunction setCurrentItem(item, active) {\n\n\t\t\tif (!multiselect && currentItem && currentItem.element) {\n\t\t\t\tcurrentItem.element.classList.remove(\"active\");\n\t\t\t}\n\n\t\t\tif (currentItem && currentItem.element) {\n\t\t\t\tcurrentItem.element.classList.remove(\"focused\");\n\t\t\t}\n\n\t\t\tcurrentItem = item;\n\n\t\t\tif (item.element) {\n\t\t\t\titem.element.classList.add(\"focused\");\n\t\t\t\tif (active) {\n\t\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (item && item.element && item.element.scrollIntoView) {\n\t\t\t\titem.element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n\t\t\t}\n\t\t}\n\n\t\t// function chooseItem(){\n\t\t// \thideList();\n\n\t\t// \tif(initialValue !== currentItem.value){\n\t\t// \t\tinitialValue = currentItem.value;\n\t\t// \t\tsuccess(currentItem.value);\n\t\t// \t}else{\n\t\t// \t\tcancel();\n\t\t// \t}\n\t\t// }\n\n\t\tfunction setItem(item) {\n\t\t\tvar index = currentItems.indexOf(item);\n\n\t\t\tif (index == -1) {\n\t\t\t\tcurrentItems.push(item);\n\t\t\t\tsetCurrentItem(item, true);\n\t\t\t}\n\n\t\t\tfillInput();\n\t\t}\n\n\t\tfunction unsetItem(index) {\n\t\t\tvar item = currentItems[index];\n\n\t\t\tif (index > -1) {\n\t\t\t\tcurrentItems.splice(index, 1);\n\t\t\t\tif (item.element) {\n\t\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction toggleItem(item) {\n\t\t\tif (!item) {\n\t\t\t\titem = currentItem;\n\t\t\t}\n\n\t\t\tvar index = currentItems.indexOf(item);\n\n\t\t\tif (index > -1) {\n\t\t\t\tunsetItem(index);\n\t\t\t} else {\n\t\t\t\tif (multiselect !== true && currentItems.length >= multiselect) {\n\t\t\t\t\tunsetItem(0);\n\t\t\t\t}\n\n\t\t\t\tsetItem(item);\n\t\t\t}\n\n\t\t\tfillInput();\n\t\t}\n\n\t\tfunction chooseItem(item) {\n\t\t\thideList();\n\n\t\t\tif (!item) {\n\t\t\t\titem = currentItem;\n\t\t\t}\n\n\t\t\tif (item) {\n\t\t\t\tinput.value = item.label;\n\t\t\t\tsuccess(item.value);\n\t\t\t}\n\n\t\t\tinitialDisplayValue = input.value;\n\t\t}\n\n\t\tfunction chooseItems(silent) {\n\t\t\tif (!silent) {\n\t\t\t\thideList();\n\t\t\t}\n\n\t\t\tvar output = [];\n\n\t\t\tcurrentItems.forEach(function (item) {\n\t\t\t\toutput.push(item.value);\n\t\t\t});\n\n\t\t\tinitialDisplayValue = input.value;\n\n\t\t\tsuccess(output);\n\t\t}\n\n\t\tfunction fillInput() {\n\t\t\tvar output = [];\n\n\t\t\tcurrentItems.forEach(function (item) {\n\t\t\t\toutput.push(item.label);\n\t\t\t});\n\n\t\t\tinput.value = output.join(\", \");\n\n\t\t\tif (self.currentCell === false) {\n\t\t\t\tchooseItems(true);\n\t\t\t}\n\t\t}\n\n\t\tfunction unsetItems() {\n\n\t\t\tvar len = currentItems.length;\n\n\t\t\tfor (var _i9 = 0; _i9 < len; _i9++) {\n\t\t\t\tunsetItem(0);\n\t\t\t}\n\t\t}\n\n\t\tfunction cancelItem() {\n\t\t\thideList();\n\t\t\tcancel();\n\t\t}\n\n\t\tfunction showList() {\n\t\t\tcurrentItems = [];\n\n\t\t\tif (!listEl.parentNode) {\n\t\t\t\tif (editorParams.values === true) {\n\t\t\t\t\tparseItems(getUniqueColumnValues(), initialDisplayValue);\n\t\t\t\t} else if (typeof editorParams.values === \"string\") {\n\t\t\t\t\tparseItems(getUniqueColumnValues(editorParams.values), initialDisplayValue);\n\t\t\t\t} else {\n\t\t\t\t\tparseItems(editorParams.values || [], initialDisplayValue);\n\t\t\t\t}\n\n\t\t\t\tvar offset = Tabulator.prototype.helpers.elOffset(cellEl);\n\n\t\t\t\tlistEl.style.minWidth = cellEl.offsetWidth + \"px\";\n\n\t\t\t\tlistEl.style.top = offset.top + cellEl.offsetHeight + \"px\";\n\t\t\t\tlistEl.style.left = offset.left + \"px\";\n\n\t\t\t\tlistEl.addEventListener(\"mousedown\", function (e) {\n\t\t\t\t\tblurable = false;\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tblurable = true;\n\t\t\t\t\t}, 10);\n\t\t\t\t});\n\n\t\t\t\tdocument.body.appendChild(listEl);\n\t\t\t}\n\t\t}\n\n\t\tfunction hideList() {\n\t\t\tif (listEl.parentNode) {\n\t\t\t\tlistEl.parentNode.removeChild(listEl);\n\t\t\t}\n\n\t\t\tremoveScrollListener();\n\t\t}\n\n\t\tfunction removeScrollListener() {\n\t\t\tself.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\n\t\t}\n\n\t\t//style input\n\t\tinput.setAttribute(\"type\", \"text\");\n\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\tinput.style.cursor = \"default\";\n\t\tinput.readOnly = this.currentCell != false;\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : \"\";\n\n\t\t// if(editorParams.values === true){\n\t\t// \tparseItems(getUniqueColumnValues(), initialValue);\n\t\t// }else if(typeof editorParams.values === \"string\"){\n\t\t// \tparseItems(getUniqueColumnValues(editorParams.values), initialValue);\n\t\t// }else{\n\t\t// \tparseItems(editorParams.values || [], initialValue);\n\t\t// }\n\n\t\tinput.addEventListener(\"search\", function (e) {\n\t\t\tif (!input.value) {\n\t\t\t\tunsetItems();\n\t\t\t\tchooseItems();\n\t\t\t}\n\t\t});\n\n\t\t//allow key based navigation\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tvar index;\n\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 38:\n\t\t\t\t\t//up arrow\n\t\t\t\t\tindex = dataItems.indexOf(currentItem);\n\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\tsetCurrentItem(dataItems[index - 1], !multiselect);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 40:\n\t\t\t\t\t//down arrow\n\t\t\t\t\tindex = dataItems.indexOf(currentItem);\n\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index < dataItems.length - 1) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (index < dataItems.length - 1) {\n\t\t\t\t\t\t\tif (index == -1) {\n\t\t\t\t\t\t\t\tsetCurrentItem(dataItems[0], !multiselect);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetCurrentItem(dataItems[index + 1], !multiselect);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37: //left arrow\n\t\t\t\tcase 39:\n\t\t\t\t\t//right arrow\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 13:\n\t\t\t\t\t//enter\n\t\t\t\t\t// chooseItem();\n\n\t\t\t\t\tif (multiselect) {\n\t\t\t\t\t\ttoggleItem();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchooseItem();\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\t//escape\n\t\t\t\t\tcancelItem();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 9:\n\t\t\t\t\t//tab\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (self.currentCell === false) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"blur\", function (e) {\n\t\t\tif (blurable) {\n\t\t\t\tif (multiselect) {\n\t\t\t\t\tchooseItems();\n\t\t\t\t} else {\n\t\t\t\t\tcancelItem();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"focus\", function (e) {\n\t\t\tif (!blockListShow) {\n\t\t\t\tshowList();\n\t\t\t}\n\t\t});\n\n\t\t//style list element\n\t\tlistEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-select-list\");\n\n\t\tonRendered(function () {\n\t\t\tinput.style.height = \"100%\";\n\t\t\tinput.focus({ preventScroll: true });\n\t\t});\n\n\t\tsetTimeout(function () {\n\t\t\t_this53.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\n\t\t}, 10);\n\n\t\treturn input;\n\t},\n\n\t//autocomplete\n\tautocomplete: function autocomplete(cell, onRendered, success, cancel, editorParams) {\n\t\tvar _this54 = this;\n\n\t\tvar self = this,\n\t\t    cellEl = cell.getElement(),\n\t\t    initialValue = cell.getValue(),\n\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\n\t\t    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : \"\",\n\t\t    input = document.createElement(\"input\"),\n\t\t    listEl = document.createElement(\"div\"),\n\t\t    allItems = [],\n\t\t    displayItems = [],\n\t\t    values = [],\n\t\t    currentItem = false,\n\t\t    blurable = true,\n\t\t    uniqueColumnValues = false;\n\n\t\t//style input\n\t\tinput.setAttribute(\"type\", \"search\");\n\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//style list element\n\t\tlistEl.classList.add(\"tabulator-edit-select-list\");\n\n\t\tlistEl.addEventListener(\"mousedown\", function (e) {\n\t\t\tblurable = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tblurable = true;\n\t\t\t}, 10);\n\t\t});\n\n\t\tfunction genUniqueColumnValues() {\n\t\t\tif (editorParams.values === true) {\n\t\t\t\tuniqueColumnValues = getUniqueColumnValues();\n\t\t\t} else if (typeof editorParams.values === \"string\") {\n\t\t\t\tuniqueColumnValues = getUniqueColumnValues(editorParams.values);\n\t\t\t}\n\t\t}\n\n\t\tfunction getUniqueColumnValues(field) {\n\t\t\tvar output = {},\n\t\t\t    data = self.table.getData(),\n\t\t\t    column;\n\n\t\t\tif (field) {\n\t\t\t\tcolumn = self.table.columnManager.getColumnByField(field);\n\t\t\t} else {\n\t\t\t\tcolumn = cell.getColumn()._getSelf();\n\t\t\t}\n\n\t\t\tif (column) {\n\t\t\t\tdata.forEach(function (row) {\n\t\t\t\t\tvar val = column.getFieldValue(row);\n\n\t\t\t\t\tif (val !== null && typeof val !== \"undefined\" && val !== \"\") {\n\t\t\t\t\t\toutput[val] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (editorParams.sortValuesList) {\n\t\t\t\t\tif (editorParams.sortValuesList == \"asc\") {\n\t\t\t\t\t\toutput = Object.keys(output).sort();\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput = Object.keys(output).sort().reverse();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput = Object.keys(output);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"unable to find matching column to create autocomplete lookup list:\", field);\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction filterList(term, intialLoad) {\n\t\t\tvar matches = [],\n\t\t\t    values,\n\t\t\t    items,\n\t\t\t    searchEl;\n\n\t\t\t//lookup base values list\n\t\t\tif (uniqueColumnValues) {\n\t\t\t\tvalues = uniqueColumnValues;\n\t\t\t} else {\n\t\t\t\tvalues = editorParams.values || [];\n\t\t\t}\n\n\t\t\tif (editorParams.searchFunc) {\n\t\t\t\tmatches = editorParams.searchFunc(term, values);\n\n\t\t\t\tif (matches instanceof Promise) {\n\n\t\t\t\t\taddNotice(typeof editorParams.searchingPlaceholder !== \"undefined\" ? editorParams.searchingPlaceholder : \"Searching...\");\n\n\t\t\t\t\tmatches.then(function (result) {\n\t\t\t\t\t\tfillListIfNotEmpty(parseItems(result), intialLoad);\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tconsole.err(\"error in autocomplete search promise:\", err);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tfillListIfNotEmpty(parseItems(matches), intialLoad);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titems = parseItems(values);\n\n\t\t\t\tif (term === \"\") {\n\t\t\t\t\tif (editorParams.showListOnEmpty) {\n\t\t\t\t\t\tmatches = items;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\titems.forEach(function (item) {\n\t\t\t\t\t\tif (item.value !== null || typeof item.value !== \"undefined\") {\n\t\t\t\t\t\t\tif (String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1) {\n\t\t\t\t\t\t\t\tmatches.push(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfillListIfNotEmpty(matches, intialLoad);\n\t\t\t}\n\t\t}\n\n\t\tfunction addNotice(notice) {\n\t\t\tvar searchEl = document.createElement(\"div\");\n\n\t\t\tclearList();\n\n\t\t\tif (notice !== false) {\n\t\t\t\tsearchEl.classList.add(\"tabulator-edit-select-list-notice\");\n\t\t\t\tsearchEl.tabIndex = 0;\n\n\t\t\t\tif (notice instanceof Node) {\n\t\t\t\t\tsearchEl.appendChild(notice);\n\t\t\t\t} else {\n\t\t\t\t\tsearchEl.innerHTML = notice;\n\t\t\t\t}\n\n\t\t\t\tlistEl.appendChild(searchEl);\n\t\t\t}\n\t\t}\n\n\t\tfunction parseItems(inputValues) {\n\t\t\tvar itemList = [];\n\n\t\t\tif (Array.isArray(inputValues)) {\n\t\t\t\tinputValues.forEach(function (value) {\n\n\t\t\t\t\tvar item = {};\n\n\t\t\t\t\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === \"object\") {\n\t\t\t\t\t\titem.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value.value, value.label) : value.label;\n\t\t\t\t\t\titem.value = value.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value, value) : value;\n\t\t\t\t\t\titem.value = value;\n\t\t\t\t\t}\n\n\t\t\t\t\titemList.push(item);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfor (var key in inputValues) {\n\t\t\t\t\tvar item = {\n\t\t\t\t\t\ttitle: editorParams.listItemFormatter ? editorParams.listItemFormatter(key, inputValues[key]) : inputValues[key],\n\t\t\t\t\t\tvalue: key\n\t\t\t\t\t};\n\n\t\t\t\t\titemList.push(item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn itemList;\n\t\t}\n\n\t\tfunction clearList() {\n\t\t\twhile (listEl.firstChild) {\n\t\t\t\tlistEl.removeChild(listEl.firstChild);\n\t\t\t}\n\t\t}\n\n\t\tfunction fillListIfNotEmpty(items, intialLoad) {\n\t\t\tif (items.length) {\n\t\t\t\tfillList(items, intialLoad);\n\t\t\t} else {\n\t\t\t\tif (editorParams.emptyPlaceholder) {\n\t\t\t\t\taddNotice(editorParams.emptyPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction fillList(items, intialLoad) {\n\t\t\tvar current = false;\n\n\t\t\tclearList();\n\n\t\t\tdisplayItems = items;\n\n\t\t\tdisplayItems.forEach(function (item) {\n\t\t\t\tvar el = item.element;\n\n\t\t\t\tif (!el) {\n\t\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-item\");\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\tel.innerHTML = item.title;\n\n\t\t\t\t\tel.addEventListener(\"click\", function (e) {\n\t\t\t\t\t\tsetCurrentItem(item);\n\t\t\t\t\t\tchooseItem();\n\t\t\t\t\t});\n\n\t\t\t\t\tel.addEventListener(\"mousedown\", function (e) {\n\t\t\t\t\t\tblurable = false;\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tblurable = true;\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t});\n\n\t\t\t\t\titem.element = el;\n\n\t\t\t\t\tif (intialLoad && item.value == initialValue) {\n\t\t\t\t\t\tinput.value = item.title;\n\t\t\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t\t\t\tcurrent = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item === currentItem) {\n\t\t\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t\t\t\tcurrent = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlistEl.appendChild(el);\n\t\t\t});\n\n\t\t\tif (!current) {\n\t\t\t\tsetCurrentItem(false);\n\t\t\t}\n\t\t}\n\n\t\tfunction chooseItem() {\n\t\t\thideList();\n\n\t\t\tif (currentItem) {\n\t\t\t\tif (initialValue !== currentItem.value) {\n\t\t\t\t\tinitialValue = currentItem.value;\n\t\t\t\t\tinput.value = currentItem.title;\n\t\t\t\t\tsuccess(currentItem.value);\n\t\t\t\t} else {\n\t\t\t\t\tcancel();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (editorParams.freetext) {\n\t\t\t\t\tinitialValue = input.value;\n\t\t\t\t\tsuccess(input.value);\n\t\t\t\t} else {\n\t\t\t\t\tif (editorParams.allowEmpty && input.value === \"\") {\n\t\t\t\t\t\tinitialValue = input.value;\n\t\t\t\t\t\tsuccess(input.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcancel();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction showList() {\n\t\t\tif (!listEl.parentNode) {\n\t\t\t\twhile (listEl.firstChild) {\n\t\t\t\t\tlistEl.removeChild(listEl.firstChild);\n\t\t\t\t}var offset = Tabulator.prototype.helpers.elOffset(cellEl);\n\n\t\t\t\tlistEl.style.minWidth = cellEl.offsetWidth + \"px\";\n\n\t\t\t\tlistEl.style.top = offset.top + cellEl.offsetHeight + \"px\";\n\t\t\t\tlistEl.style.left = offset.left + \"px\";\n\t\t\t\tdocument.body.appendChild(listEl);\n\t\t\t}\n\t\t}\n\n\t\tfunction setCurrentItem(item, showInputValue) {\n\t\t\tif (currentItem && currentItem.element) {\n\t\t\t\tcurrentItem.element.classList.remove(\"active\");\n\t\t\t}\n\n\t\t\tcurrentItem = item;\n\n\t\t\tif (item && item.element) {\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}\n\n\t\t\tif (item && item.element && item.element.scrollIntoView) {\n\t\t\t\titem.element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n\t\t\t}\n\t\t}\n\n\t\tfunction hideList() {\n\t\t\tif (listEl.parentNode) {\n\t\t\t\tlistEl.parentNode.removeChild(listEl);\n\t\t\t}\n\n\t\t\tremoveScrollListener();\n\t\t}\n\n\t\tfunction cancelItem() {\n\t\t\thideList();\n\t\t\tcancel();\n\t\t}\n\n\t\tfunction removeScrollListener() {\n\t\t\tself.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\n\t\t}\n\n\t\t//allow key based navigation\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tvar index;\n\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 38:\n\t\t\t\t\t//up arrow\n\t\t\t\t\tindex = displayItems.indexOf(currentItem);\n\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\tsetCurrentItem(displayItems[index - 1]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetCurrentItem(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 40:\n\t\t\t\t\t//down arrow\n\n\t\t\t\t\tindex = displayItems.indexOf(currentItem);\n\n\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index < displayItems.length - 1) {\n\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (index < displayItems.length - 1) {\n\t\t\t\t\t\t\tif (index == -1) {\n\t\t\t\t\t\t\t\tsetCurrentItem(displayItems[0]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetCurrentItem(displayItems[index + 1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37: //left arrow\n\t\t\t\tcase 39:\n\t\t\t\t\t//right arrow\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t// e.preventDefault();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 13:\n\t\t\t\t\t//enter\n\t\t\t\t\tchooseItem();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\t//escape\n\t\t\t\t\tcancelItem();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 36: //home\n\t\t\t\tcase 35:\n\t\t\t\t\t//end\n\t\t\t\t\t//prevent table navigation while using input element\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"keyup\", function (e) {\n\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 38: //up arrow\n\t\t\t\tcase 37: //left arrow\n\t\t\t\tcase 39: //up arrow\n\t\t\t\tcase 40: //right arrow\n\t\t\t\tcase 13: //enter\n\t\t\t\tcase 27:\n\t\t\t\t\t//escape\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tfilterList(input.value);\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"search\", function (e) {\n\t\t\tfilterList(input.value);\n\t\t});\n\n\t\tinput.addEventListener(\"blur\", function (e) {\n\t\t\tif (blurable) {\n\t\t\t\tchooseItem();\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"focus\", function (e) {\n\t\t\tvar value = initialDisplayValue;\n\t\t\tgenUniqueColumnValues();\n\t\t\tshowList();\n\t\t\tinput.value = value;\n\t\t\tfilterList(value, true);\n\t\t});\n\n\t\tonRendered(function () {\n\t\t\tinput.style.height = \"100%\";\n\t\t\tinput.focus({ preventScroll: true });\n\t\t});\n\n\t\tif (editorParams.mask) {\n\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\n\t\t}\n\n\t\tsetTimeout(function () {\n\t\t\t_this54.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\n\t\t}, 10);\n\n\t\tgenUniqueColumnValues();\n\t\tinput.value = initialDisplayValue;\n\t\tfilterList(initialDisplayValue, true);\n\n\t\treturn input;\n\t},\n\n\t//star rating\n\tstar: function star(cell, onRendered, success, cancel, editorParams) {\n\t\tvar self = this,\n\t\t    element = cell.getElement(),\n\t\t    value = cell.getValue(),\n\t\t    maxStars = element.getElementsByTagName(\"svg\").length || 5,\n\t\t    size = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\t\t    stars = [],\n\t\t    starsHolder = document.createElement(\"div\"),\n\t\t    star = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\t\t//change star type\n\t\tfunction starChange(val) {\n\t\t\tstars.forEach(function (star, i) {\n\t\t\t\tif (i < val) {\n\t\t\t\t\tif (self.table.browser == \"ie\") {\n\t\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t\t}\n\n\t\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t\t} else {\n\t\t\t\t\tif (self.table.browser == \"ie\") {\n\t\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t\t}\n\n\t\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t//build stars\n\t\tfunction buildStar(i) {\n\n\t\t\tvar starHolder = document.createElement(\"span\");\n\t\t\tvar nextStar = star.cloneNode(true);\n\n\t\t\tstars.push(nextStar);\n\n\t\t\tstarHolder.addEventListener(\"mouseenter\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tstarChange(i);\n\t\t\t});\n\n\t\t\tstarHolder.addEventListener(\"mousemove\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tstarHolder.addEventListener(\"click\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tsuccess(i);\n\t\t\t\telement.blur();\n\t\t\t});\n\n\t\t\tstarHolder.appendChild(nextStar);\n\t\t\tstarsHolder.appendChild(starHolder);\n\t\t}\n\n\t\t//handle keyboard navigation value change\n\t\tfunction changeValue(val) {\n\t\t\tvalue = val;\n\t\t\tstarChange(val);\n\t\t}\n\n\t\t//style cell\n\t\telement.style.whiteSpace = \"nowrap\";\n\t\telement.style.overflow = \"hidden\";\n\t\telement.style.textOverflow = \"ellipsis\";\n\n\t\t//style holding element\n\t\tstarsHolder.style.verticalAlign = \"middle\";\n\t\tstarsHolder.style.display = \"inline-block\";\n\t\tstarsHolder.style.padding = \"4px\";\n\n\t\t//style star\n\t\tstar.setAttribute(\"width\", size);\n\t\tstar.setAttribute(\"height\", size);\n\t\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\t\tstar.setAttribute(\"xml:space\", \"preserve\");\n\t\tstar.style.padding = \"0 1px\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//create correct number of stars\n\t\tfor (var i = 1; i <= maxStars; i++) {\n\t\t\tbuildStar(i);\n\t\t}\n\n\t\t//ensure value does not exceed number of stars\n\t\tvalue = Math.min(parseInt(value), maxStars);\n\n\t\t// set initial styling of stars\n\t\tstarChange(value);\n\n\t\tstarsHolder.addEventListener(\"mousemove\", function (e) {\n\t\t\tstarChange(0);\n\t\t});\n\n\t\tstarsHolder.addEventListener(\"click\", function (e) {\n\t\t\tsuccess(0);\n\t\t});\n\n\t\telement.addEventListener(\"blur\", function (e) {\n\t\t\tcancel();\n\t\t});\n\n\t\t//allow key based navigation\n\t\telement.addEventListener(\"keydown\", function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 39:\n\t\t\t\t\t//right arrow\n\t\t\t\t\tchangeValue(value + 1);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37:\n\t\t\t\t\t//left arrow\n\t\t\t\t\tchangeValue(value - 1);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 13:\n\t\t\t\t\t//enter\n\t\t\t\t\tsuccess(value);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\t//escape\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn starsHolder;\n\t},\n\n\t//draggable progress bar\n\tprogress: function progress(cell, onRendered, success, cancel, editorParams) {\n\t\tvar element = cell.getElement(),\n\t\t    max = typeof editorParams.max === \"undefined\" ? element.getElementsByTagName(\"div\")[0].getAttribute(\"max\") || 100 : editorParams.max,\n\t\t    min = typeof editorParams.min === \"undefined\" ? element.getElementsByTagName(\"div\")[0].getAttribute(\"min\") || 0 : editorParams.min,\n\t\t    percent = (max - min) / 100,\n\t\t    value = cell.getValue() || 0,\n\t\t    handle = document.createElement(\"div\"),\n\t\t    bar = document.createElement(\"div\"),\n\t\t    mouseDrag,\n\t\t    mouseDragWidth;\n\n\t\t//set new value\n\t\tfunction updateValue() {\n\t\t\tvar calcVal = percent * Math.round(bar.offsetWidth / (element.clientWidth / 100)) + min;\n\t\t\tsuccess(calcVal);\n\t\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\t\telement.setAttribute(\"aria-label\", value);\n\t\t}\n\n\t\t//style handle\n\t\thandle.style.position = \"absolute\";\n\t\thandle.style.right = \"0\";\n\t\thandle.style.top = \"0\";\n\t\thandle.style.bottom = \"0\";\n\t\thandle.style.width = \"5px\";\n\t\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t\t//style bar\n\t\tbar.style.display = \"inline-block\";\n\t\tbar.style.position = \"relative\";\n\t\t// bar.style.top = \"8px\";\n\t\t// bar.style.bottom = \"8px\";\n\t\t// bar.style.left = \"4px\";\n\t\t// bar.style.marginRight = \"4px\";\n\t\tbar.style.height = \"100%\";\n\t\tbar.style.backgroundColor = \"#488CE9\";\n\t\tbar.style.maxWidth = \"100%\";\n\t\tbar.style.minWidth = \"0%\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//style cell\n\t\telement.style.padding = \"4px 4px\";\n\n\t\t//make sure value is in range\n\t\tvalue = Math.min(parseFloat(value), max);\n\t\tvalue = Math.max(parseFloat(value), min);\n\n\t\t//workout percentage\n\t\tvalue = Math.round((value - min) / percent);\n\t\t// bar.style.right = value + \"%\";\n\t\tbar.style.width = value + \"%\";\n\n\t\telement.setAttribute(\"aria-valuemin\", min);\n\t\telement.setAttribute(\"aria-valuemax\", max);\n\n\t\tbar.appendChild(handle);\n\n\t\thandle.addEventListener(\"mousedown\", function (e) {\n\t\t\tmouseDrag = e.screenX;\n\t\t\tmouseDragWidth = bar.offsetWidth;\n\t\t});\n\n\t\thandle.addEventListener(\"mouseover\", function () {\n\t\t\thandle.style.cursor = \"ew-resize\";\n\t\t});\n\n\t\telement.addEventListener(\"mousemove\", function (e) {\n\t\t\tif (mouseDrag) {\n\t\t\t\tbar.style.width = mouseDragWidth + e.screenX - mouseDrag + \"px\";\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"mouseup\", function (e) {\n\t\t\tif (mouseDrag) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\n\t\t\t\tmouseDrag = false;\n\t\t\t\tmouseDragWidth = false;\n\n\t\t\t\tupdateValue();\n\t\t\t}\n\t\t});\n\n\t\t//allow key based navigation\n\t\telement.addEventListener(\"keydown\", function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 39:\n\t\t\t\t\t//right arrow\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbar.style.width = bar.clientWidth + element.clientWidth / 100 + \"px\";\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37:\n\t\t\t\t\t//left arrow\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbar.style.width = bar.clientWidth - element.clientWidth / 100 + \"px\";\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 9: //tab\n\t\t\t\tcase 13:\n\t\t\t\t\t//enter\n\t\t\t\t\tupdateValue();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 27:\n\t\t\t\t\t//escape\n\t\t\t\t\tcancel();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"blur\", function () {\n\t\t\tcancel();\n\t\t});\n\n\t\treturn bar;\n\t},\n\n\t//checkbox\n\ttickCross: function tickCross(cell, onRendered, success, cancel, editorParams) {\n\t\tvar value = cell.getValue(),\n\t\t    input = document.createElement(\"input\"),\n\t\t    tristate = editorParams.tristate,\n\t\t    indetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\t\t    indetermState = false;\n\n\t\tinput.setAttribute(\"type\", \"checkbox\");\n\t\tinput.style.marginTop = \"5px\";\n\t\tinput.style.boxSizing = \"border-box\";\n\n\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\n\t\t\tfor (var key in editorParams.elementAttributes) {\n\t\t\t\tif (key.charAt(0) == \"+\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t\t} else {\n\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinput.value = value;\n\n\t\tif (tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")) {\n\t\t\tindetermState = true;\n\t\t\tinput.indeterminate = true;\n\t\t}\n\n\t\tif (this.table.browser != \"firefox\") {\n\t\t\t//prevent blur issue on mac firefox\n\t\t\tonRendered(function () {\n\t\t\t\tinput.focus({ preventScroll: true });\n\t\t\t});\n\t\t}\n\n\t\tinput.checked = value === true || value === \"true\" || value === \"True\" || value === 1;\n\n\t\tonRendered(function () {\n\t\t\tinput.focus();\n\t\t});\n\n\t\tfunction setValue(blur) {\n\t\t\tif (tristate) {\n\t\t\t\tif (!blur) {\n\t\t\t\t\tif (input.checked && !indetermState) {\n\t\t\t\t\t\tinput.checked = false;\n\t\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\t\tindetermState = true;\n\t\t\t\t\t\treturn indetermValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindetermState = false;\n\t\t\t\t\t\treturn input.checked;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (indetermState) {\n\t\t\t\t\t\treturn indetermValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn input.checked;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn input.checked;\n\t\t\t}\n\t\t}\n\n\t\t//submit new value on blur\n\t\tinput.addEventListener(\"change\", function (e) {\n\t\t\tsuccess(setValue());\n\t\t});\n\n\t\tinput.addEventListener(\"blur\", function (e) {\n\t\t\tsuccess(setValue(true));\n\t\t});\n\n\t\t//submit new value on enter\n\t\tinput.addEventListener(\"keydown\", function (e) {\n\t\t\tif (e.keyCode == 13) {\n\t\t\t\tsuccess(setValue());\n\t\t\t}\n\t\t\tif (e.keyCode == 27) {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t});\n\n\t\treturn input;\n\t}\n};\n\nTabulator.prototype.registerModule(\"edit\", Edit);\n\nvar ExportRow = function ExportRow(type, columns, component, indent) {\n\tthis.type = type;\n\tthis.columns = columns;\n\tthis.component = component || false;\n\tthis.indent = indent || 0;\n};\n\nvar ExportColumn = function ExportColumn(value, component, width, height, depth) {\n\tthis.value = value;\n\tthis.component = component || false;\n\tthis.width = width;\n\tthis.height = height;\n\tthis.depth = depth;\n};\n\nvar Export = function Export(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.config = {};\n\tthis.cloneTableStyle = true;\n\tthis.colVisProp = \"\";\n};\n\nExport.prototype.generateExportList = function (config, style, range, colVisProp) {\n\tthis.cloneTableStyle = style;\n\tthis.config = config || {};\n\tthis.colVisProp = colVisProp;\n\n\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\tvar body = this.bodyToExportRows(this.rowLookup(range));\n\n\treturn headers.concat(body);\n};\n\nExport.prototype.genereateTable = function (config, style, range, colVisProp) {\n\tvar list = this.generateExportList(config, style, range, colVisProp);\n\n\treturn this.genereateTableElement(list);\n};\n\nExport.prototype.rowLookup = function (range) {\n\tvar _this55 = this;\n\n\tvar rows = [];\n\n\tif (typeof range == \"function\") {\n\t\trange.call(this.table).forEach(function (row) {\n\t\t\trow = _this55.table.rowManager.findRow(row);\n\n\t\t\tif (row) {\n\t\t\t\trows.push(row);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tswitch (range) {\n\t\t\tcase true:\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\tbreak;\n\n\t\t\tcase \"all\":\n\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\n\t\t\tcase \"selected\":\n\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\tbreak;\n\n\t\t\tcase \"active\":\n\t\t\tdefault:\n\t\t\t\tif (this.table.options.pagination) {\n\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t} else {\n\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t}\n\t\t}\n\t}\n\n\treturn Object.assign([], rows);\n};\n\nExport.prototype.generateColumnGroupHeaders = function () {\n\tvar _this56 = this;\n\n\tvar output = [];\n\n\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\n\tcolumns.forEach(function (column) {\n\t\tvar colData = _this56.processColumnGroup(column);\n\n\t\tif (colData) {\n\t\t\toutput.push(colData);\n\t\t}\n\t});\n\n\treturn output;\n};\n\nExport.prototype.processColumnGroup = function (column) {\n\tvar _this57 = this;\n\n\tvar subGroups = column.columns,\n\t    maxDepth = 0,\n\t    title = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\n\tvar groupData = {\n\t\ttitle: title,\n\t\tcolumn: column,\n\t\tdepth: 1\n\t};\n\n\tif (subGroups.length) {\n\t\tgroupData.subGroups = [];\n\t\tgroupData.width = 0;\n\n\t\tsubGroups.forEach(function (subGroup) {\n\t\t\tvar subGroupData = _this57.processColumnGroup(subGroup);\n\n\t\t\tif (subGroupData) {\n\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\tgroupData.subGroups.push(subGroupData);\n\n\t\t\t\tif (subGroupData.depth > maxDepth) {\n\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tgroupData.depth += maxDepth;\n\n\t\tif (!groupData.width) {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tif (this.columnVisCheck(column)) {\n\t\t\tgroupData.width = 1;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn groupData;\n};\n\nExport.prototype.columnVisCheck = function (column) {\n\treturn column.definition[this.colVisProp] !== false && (column.visible || !column.visible && column.definition[this.colVisProp]);\n};\n\nExport.prototype.headersToExportRows = function (columns) {\n\tvar headers = [],\n\t    headerDepth = 0,\n\t    exportRows = [];\n\n\tfunction parseColumnGroup(column, level) {\n\n\t\tvar depth = headerDepth - level;\n\n\t\tif (typeof headers[level] === \"undefined\") {\n\t\t\theaders[level] = [];\n\t\t}\n\n\t\tcolumn.height = column.subGroups ? 1 : depth - column.depth + 1;\n\n\t\theaders[level].push(column);\n\n\t\tif (column.height > 1) {\n\t\t\tfor (var _i10 = 1; _i10 < column.height; _i10++) {\n\n\t\t\t\tif (typeof headers[level + _i10] === \"undefined\") {\n\t\t\t\t\theaders[level + _i10] = [];\n\t\t\t\t}\n\n\t\t\t\theaders[level + _i10].push(false);\n\t\t\t}\n\t\t}\n\n\t\tif (column.width > 1) {\n\t\t\tfor (var _i11 = 1; _i11 < column.width; _i11++) {\n\t\t\t\theaders[level].push(false);\n\t\t\t}\n\t\t}\n\n\t\tif (column.subGroups) {\n\t\t\tcolumn.subGroups.forEach(function (subGroup) {\n\t\t\t\tparseColumnGroup(subGroup, level + 1);\n\t\t\t});\n\t\t}\n\t}\n\n\t//calculate maximum header debth\n\tcolumns.forEach(function (column) {\n\t\tif (column.depth > headerDepth) {\n\t\t\theaderDepth = column.depth;\n\t\t}\n\t});\n\n\tcolumns.forEach(function (column) {\n\t\tparseColumnGroup(column, 0);\n\t});\n\n\theaders.forEach(function (header) {\n\t\tvar columns = [];\n\n\t\theader.forEach(function (col) {\n\t\t\tif (col) {\n\t\t\t\tcolumns.push(new ExportColumn(col.title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t} else {\n\t\t\t\tcolumns.push(null);\n\t\t\t}\n\t\t});\n\n\t\texportRows.push(new ExportRow(\"header\", columns));\n\t});\n\n\treturn exportRows;\n};\n\nExport.prototype.bodyToExportRows = function (rows) {\n\tvar _this58 = this;\n\n\tvar columns = [];\n\tvar exportRows = [];\n\n\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\n\t\tif (_this58.columnVisCheck(column)) {\n\t\t\tcolumns.push(column.getComponent());\n\t\t}\n\t});\n\n\tif (this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")) {\n\t\tif (this.table.modules.columnCalcs.topInitialized) {\n\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t}\n\n\t\tif (this.table.modules.columnCalcs.botInitialized) {\n\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t}\n\t}\n\n\trows = rows.filter(function (row) {\n\t\tswitch (row.type) {\n\t\t\tcase \"group\":\n\t\t\t\treturn _this58.config.rowGroups !== false;\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\treturn _this58.config.columnCalcs !== false;\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\treturn !(_this58.table.options.dataTree && _this58.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn true;\n\t});\n\n\trows.forEach(function (row, i) {\n\t\tvar rowData = row.getData(_this58.colVisProp);\n\t\tvar exportCols = [];\n\t\tvar indent = 0;\n\n\t\tswitch (row.type) {\n\t\t\tcase \"group\":\n\t\t\t\tindent = row.level;\n\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\tcase \"row\":\n\t\t\t\tcolumns.forEach(function (col) {\n\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t});\n\n\t\t\t\tif (_this58.table.options.dataTree && _this58.config.dataTree !== false) {\n\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t});\n\n\treturn exportRows;\n};\n\nExport.prototype.genereateTableElement = function (list) {\n\tvar _this59 = this;\n\n\tvar table = document.createElement(\"table\"),\n\t    headerEl = document.createElement(\"thead\"),\n\t    bodyEl = document.createElement(\"tbody\"),\n\t    styles = this.lookupTableStyles(),\n\t    rowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t    setup = {};\n\n\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\n\tif (this.table.options.dataTree && this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")) {\n\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t}\n\n\t//assign group header formatter\n\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\n\tif (setup.groupHeader && !Array.isArray(setup.groupHeader)) {\n\t\tsetup.groupHeader = [setup.groupHeader];\n\t}\n\n\ttable.classList.add(\"tabulator-print-table\");\n\n\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\n\tif (list.length > 1000) {\n\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t}\n\n\tlist.forEach(function (row, i) {\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\theaderEl.appendChild(_this59.genereateHeaderElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbodyEl.appendChild(_this59.genereateGroupElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbodyEl.appendChild(_this59.genereateCalcElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tvar rowEl = _this59.genereateRowElement(row, setup, styles);\n\t\t\t\t_this59.mapElementStyles(i % 2 && styles.evenRow ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif (headerEl.innerHTML) {\n\t\ttable.appendChild(headerEl);\n\t}\n\n\ttable.appendChild(bodyEl);\n\n\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\treturn table;\n};\n\nExport.prototype.lookupTableStyles = function () {\n\tvar styles = {};\n\n\t//lookup row styles\n\tif (this.cloneTableStyle && window.getComputedStyle) {\n\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\n\t\tif (styles.firstRow) {\n\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nExport.prototype.genereateHeaderElement = function (row, setup, styles) {\n\tvar _this60 = this;\n\n\tvar rowEl = document.createElement(\"tr\");\n\n\trow.columns.forEach(function (column) {\n\t\tif (column) {\n\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\n\t\t\tcellEl.colSpan = column.width;\n\t\t\tcellEl.rowSpan = column.height;\n\n\t\t\tcellEl.innerHTML = column.value;\n\n\t\t\tif (_this60.cloneTableStyle) {\n\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t}\n\n\t\t\tclassNames.forEach(function (className) {\n\t\t\t\tcellEl.classList.add(className);\n\t\t\t});\n\n\t\t\t_this60.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t_this60.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\n\t\t\tif (column.component._column.visible) {\n\t\t\t\t_this60.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t} else {\n\t\t\t\tif (column.component._column.definition.width) {\n\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (column.component._column.parent) {\n\t\t\t\t_this60.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t}\n\n\t\t\trowEl.appendChild(cellEl);\n\t\t}\n\t});\n\n\treturn rowEl;\n};\n\nExport.prototype.genereateGroupElement = function (row, setup, styles) {\n\n\tvar rowEl = document.createElement(\"tr\"),\n\t    cellEl = document.createElement(\"td\"),\n\t    group = row.columns[0];\n\n\trowEl.classList.add(\"tabulator-print-table-row\");\n\n\tif (setup.groupHeader && setup.groupHeader[row.indent]) {\n\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t} else {\n\t\tif (setup.groupHeader === false) {\n\t\t\tgroup.value = group.value;\n\t\t} else {\n\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}\n\t}\n\n\tcellEl.colSpan = group.width;\n\tcellEl.innerHTML = group.value;\n\n\trowEl.classList.add(\"tabulator-print-table-group\");\n\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\n\tif (group.component.isVisible()) {\n\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t}\n\n\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\n\trowEl.appendChild(cellEl);\n\n\treturn rowEl;\n};\n\nExport.prototype.genereateCalcElement = function (row, setup, styles) {\n\tvar rowEl = this.genereateRowElement(row, setup, styles);\n\n\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\n\treturn rowEl;\n};\n\nExport.prototype.genereateRowElement = function (row, setup, styles) {\n\tvar _this61 = this;\n\n\tvar rowEl = document.createElement(\"tr\");\n\n\trowEl.classList.add(\"tabulator-print-table-row\");\n\n\trow.columns.forEach(function (col) {\n\n\t\tif (col) {\n\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t    column = col.component._column,\n\t\t\t    value = col.value;\n\n\t\t\tvar cellWrapper = {\n\t\t\t\tmodules: {},\n\t\t\t\tgetValue: function getValue() {\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tgetField: function getField() {\n\t\t\t\t\treturn column.definition.field;\n\t\t\t\t},\n\t\t\t\tgetElement: function getElement() {\n\t\t\t\t\treturn cellEl;\n\t\t\t\t},\n\t\t\t\tgetColumn: function getColumn() {\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetData: function getData() {\n\t\t\t\t\treturn row.component.getData();\n\t\t\t\t},\n\t\t\t\tgetRow: function getRow() {\n\t\t\t\t\treturn row.component;\n\t\t\t\t},\n\t\t\t\tgetComponent: function getComponent() {\n\t\t\t\t\treturn cellWrapper;\n\t\t\t\t},\n\t\t\t\tcolumn: column\n\t\t\t};\n\n\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\n\t\t\tclassNames.forEach(function (className) {\n\t\t\t\tcellEl.classList.add(className);\n\t\t\t});\n\n\t\t\tif (_this61.table.modExists(\"format\") && _this61.config.formatCells !== false) {\n\t\t\t\tvalue = _this61.table.modules.format.formatExportValue(cellWrapper, _this61.colVisProp);\n\t\t\t} else {\n\t\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\tcase \"null\":\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value instanceof Node) {\n\t\t\t\tcellEl.appendChild(value);\n\t\t\t} else {\n\t\t\t\tcellEl.innerHTML = value;\n\t\t\t}\n\n\t\t\tif (styles.firstCell) {\n\t\t\t\t_this61.mapElementStyles(styles.firstCell, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\n\t\t\t\tif (column.definition.align) {\n\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_this61.table.options.dataTree && _this61.config.dataTree !== false) {\n\t\t\t\tif (setup.treeElementField && setup.treeElementField == column.field || !setup.treeElementField && i == 0) {\n\t\t\t\t\tif (row.component._row.modules.dataTree.controlEl) {\n\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif (row.component._row.modules.dataTree.branchEl) {\n\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trowEl.appendChild(cellEl);\n\n\t\t\tif (cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback) {\n\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t}\n\n\t\t\tif (setup.rowFormatter && _this61.config.formatCells !== false) {\n\t\t\t\tsetup.rowFormatter(row.component);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn rowEl;\n};\n\nExport.prototype.genereateHTMLTable = function (list) {\n\tvar holder = document.createElement(\"div\");\n\n\tholder.appendChild(this.genereateTableElement(list));\n\n\treturn holder.innerHTML;\n};\n\nExport.prototype.getHtml = function (visible, style, config, colVisProp) {\n\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\n\treturn this.genereateHTMLTable(list);\n};\n\nExport.prototype.mapElementStyles = function (from, to, props) {\n\tif (this.cloneTableStyle && from && to) {\n\n\t\tvar lookup = {\n\t\t\t\"background-color\": \"backgroundColor\",\n\t\t\t\"color\": \"fontColor\",\n\t\t\t\"width\": \"width\",\n\t\t\t\"font-weight\": \"fontWeight\",\n\t\t\t\"font-family\": \"fontFamily\",\n\t\t\t\"font-size\": \"fontSize\",\n\t\t\t\"text-align\": \"textAlign\",\n\t\t\t\"border-top\": \"borderTop\",\n\t\t\t\"border-left\": \"borderLeft\",\n\t\t\t\"border-right\": \"borderRight\",\n\t\t\t\"border-bottom\": \"borderBottom\",\n\t\t\t\"padding-top\": \"paddingTop\",\n\t\t\t\"padding-left\": \"paddingLeft\",\n\t\t\t\"padding-right\": \"paddingRight\",\n\t\t\t\"padding-bottom\": \"paddingBottom\"\n\t\t};\n\n\t\tif (window.getComputedStyle) {\n\t\t\tvar fromStyle = window.getComputedStyle(from);\n\n\t\t\tprops.forEach(function (prop) {\n\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t});\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"export\", Export);\n\nvar Filter = function Filter(table) {\n\n\tthis.table = table; //hold Tabulator object\n\n\tthis.filterList = []; //hold filter list\n\tthis.headerFilters = {}; //hold column filters\n\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\tthis.prevHeaderFilterChangeCheck = \"\";\n\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\tthis.changed = false; //has filtering changed since last render\n};\n\n//initialize column header filter\nFilter.prototype.initializeColumn = function (column, value) {\n\tvar self = this,\n\t    field = column.getField(),\n\t    params;\n\n\t//handle successfull value change\n\tfunction success(value) {\n\t\tvar filterType = column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\" || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t    type = \"\",\n\t\t    filterChangeCheck = \"\",\n\t\t    filterFunc;\n\n\t\tif (typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value) {\n\n\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\tif (!column.modules.filter.emptyFunc(value)) {\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tswitch (_typeof(column.definition.headerFilterFunc)) {\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\tif (self.filters[column.definition.headerFilterFunc]) {\n\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn self.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!filterFunc) {\n\t\t\t\t\tswitch (filterType) {\n\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tif (typeof colVal !== 'undefined' && colVal !== null) {\n\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself.headerFilters[field] = { value: value, func: filterFunc, type: type, params: params || {} };\n\t\t\t} else {\n\t\t\t\tdelete self.headerFilters[field];\n\t\t\t}\n\n\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\tif (self.prevHeaderFilterChangeCheck !== filterChangeCheck) {\n\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\tself.changed = true;\n\t\t\t\tself.table.rowManager.filterRefresh();\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tcolumn.modules.filter = {\n\t\tsuccess: success,\n\t\tattrType: false,\n\t\ttagType: false,\n\t\temptyFunc: false\n\t};\n\n\tthis.generateHeaderFilterElement(column);\n};\n\nFilter.prototype.generateHeaderFilterElement = function (column, initialValue, reinitialize) {\n\tvar _this62 = this;\n\n\tvar self = this,\n\t    success = column.modules.filter.success,\n\t    field = column.getField(),\n\t    filterElement,\n\t    editor,\n\t    editorElement,\n\t    cellWrapper,\n\t    typingTimer,\n\t    searchTrigger,\n\t    params;\n\n\t//handle aborted edit\n\tfunction cancel() {}\n\n\tif (column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode) {\n\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t}\n\n\tif (field) {\n\n\t\t//set empty value function\n\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function (value) {\n\t\t\treturn !value && value !== \"0\";\n\t\t};\n\n\t\tfilterElement = document.createElement(\"div\");\n\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t//set column editor\n\t\tswitch (_typeof(column.definition.headerFilter)) {\n\t\t\tcase \"string\":\n\t\t\t\tif (self.table.modules.edit.editors[column.definition.headerFilter]) {\n\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\tif ((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck) {\n\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function (value) {\n\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\tbreak;\n\n\t\t\tcase \"boolean\":\n\t\t\t\tif (column.modules.edit && column.modules.edit.editor) {\n\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t} else {\n\t\t\t\t\tif (column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]) {\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\tif ((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck) {\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function (value) {\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (editor) {\n\n\t\t\tcellWrapper = {\n\t\t\t\tgetValue: function getValue() {\n\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t},\n\t\t\t\tgetField: function getField() {\n\t\t\t\t\treturn column.definition.field;\n\t\t\t\t},\n\t\t\t\tgetElement: function getElement() {\n\t\t\t\t\treturn filterElement;\n\t\t\t\t},\n\t\t\t\tgetColumn: function getColumn() {\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetRow: function getRow() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tnormalizeHeight: function normalizeHeight() {}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\tparams = typeof params === \"function\" ? params.call(self.table) : params;\n\n\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, function () {}, success, cancel, params);\n\n\t\t\tif (!editorElement) {\n\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!(editorElement instanceof Node)) {\n\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//set Placeholder Text\n\t\t\tif (field) {\n\t\t\t\tself.table.modules.localize.bind(\"headerFilters|columns|\" + column.definition.field, function (value) {\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : self.table.modules.localize.getText(\"headerFilters|default\"));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.table.modules.localize.bind(\"headerFilters|default\", function (value) {\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof self.column.definition.headerFilterPlaceholder !== \"undefined\" && self.column.definition.headerFilterPlaceholder ? self.column.definition.headerFilterPlaceholder : value);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//focus on element on click\n\t\t\teditorElement.addEventListener(\"click\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\teditorElement.focus();\n\t\t\t});\n\n\t\t\teditorElement.addEventListener(\"focus\", function (e) {\n\t\t\t\tvar left = _this62.table.columnManager.element.scrollLeft;\n\n\t\t\t\tif (left !== _this62.table.rowManager.element.scrollLeft) {\n\t\t\t\t\t_this62.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t_this62.table.columnManager.scrollHorizontal(left);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//live update filters as user types\n\t\t\ttypingTimer = false;\n\n\t\t\tsearchTrigger = function searchTrigger(e) {\n\t\t\t\tif (typingTimer) {\n\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t}\n\n\t\t\t\ttypingTimer = setTimeout(function () {\n\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t}, self.table.options.headerFilterLiveFilterDelay);\n\t\t\t};\n\n\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\";\n\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\tif (column.definition.headerFilterLiveFilter !== false) {\n\n\t\t\t\tif (!(column.definition.headerFilter === 'autocomplete' || column.definition.headerFilter === 'tickCross' || (column.definition.editor === 'autocomplete' || column.definition.editor === 'tickCross') && column.definition.headerFilter === true)) {\n\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\tif (column.modules.filter.attrType == \"number\") {\n\t\t\t\t\t\teditorElement.addEventListener(\"change\", function (e) {\n\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\tif (column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\") {\n\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//prevent input and select elements from propegating click to column sorters etc\n\t\t\t\tif (column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\") {\n\t\t\t\t\teditorElement.addEventListener(\"mousedown\", function (e) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\tif (!reinitialize) {\n\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t}\n};\n\n//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\nFilter.prototype.hideHeaderFilterElements = function () {\n\tthis.headerFilterColumns.forEach(function (column) {\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t}\n\t});\n};\n\n//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\nFilter.prototype.showHeaderFilterElements = function () {\n\tthis.headerFilterColumns.forEach(function (column) {\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t}\n\t});\n};\n\n//programatically set focus of header filter\nFilter.prototype.setHeaderFilterFocus = function (column) {\n\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\tcolumn.modules.filter.headerElement.focus();\n\t} else {\n\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t}\n};\n\n//programmatically get value of header filter\nFilter.prototype.getHeaderFilterValue = function (column) {\n\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\treturn column.modules.filter.headerElement.value;\n\t} else {\n\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t}\n};\n\n//programatically set value of header filter\nFilter.prototype.setHeaderFilterValue = function (column, value) {\n\tif (column) {\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\tcolumn.modules.filter.success(value);\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n};\n\nFilter.prototype.reloadHeaderFilter = function (column) {\n\tif (column) {\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\n\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n};\n\n//check if the filters has changed since last use\nFilter.prototype.hasChanged = function () {\n\tvar changed = this.changed;\n\tthis.changed = false;\n\treturn changed;\n};\n\n//set standard filters\nFilter.prototype.setFilter = function (field, type, value, params) {\n\tvar self = this;\n\n\tself.filterList = [];\n\n\tif (!Array.isArray(field)) {\n\t\tfield = [{ field: field, type: type, value: value, params: params }];\n\t}\n\n\tself.addFilter(field);\n};\n\n//add filter to array\nFilter.prototype.addFilter = function (field, type, value, params) {\n\tvar self = this;\n\n\tif (!Array.isArray(field)) {\n\t\tfield = [{ field: field, type: type, value: value, params: params }];\n\t}\n\n\tfield.forEach(function (filter) {\n\n\t\tfilter = self.findFilter(filter);\n\n\t\tif (filter) {\n\t\t\tself.filterList.push(filter);\n\n\t\t\tself.changed = true;\n\t\t}\n\t});\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\n\t\tthis.table.modules.persistence.save(\"filter\");\n\t}\n};\n\nFilter.prototype.findFilter = function (filter) {\n\tvar self = this,\n\t    column;\n\n\tif (Array.isArray(filter)) {\n\t\treturn this.findSubFilters(filter);\n\t}\n\n\tvar filterFunc = false;\n\n\tif (typeof filter.field == \"function\") {\n\t\tfilterFunc = function filterFunc(data) {\n\t\t\treturn filter.field(data, filter.type || {}); // pass params to custom filter function\n\t\t};\n\t} else {\n\n\t\tif (self.filters[filter.type]) {\n\n\t\t\tcolumn = self.table.columnManager.getColumnByField(filter.field);\n\n\t\t\tif (column) {\n\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\treturn self.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfilterFunc = function filterFunc(data) {\n\t\t\t\t\treturn self.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t}\n\t}\n\n\tfilter.func = filterFunc;\n\n\treturn filter.func ? filter : false;\n};\n\nFilter.prototype.findSubFilters = function (filters) {\n\tvar self = this,\n\t    output = [];\n\n\tfilters.forEach(function (filter) {\n\t\tfilter = self.findFilter(filter);\n\n\t\tif (filter) {\n\t\t\toutput.push(filter);\n\t\t}\n\t});\n\n\treturn output.length ? output : false;\n};\n\n//get all filters\nFilter.prototype.getFilters = function (all, ajax) {\n\tvar output = [];\n\n\tif (all) {\n\t\toutput = this.getHeaderFilters();\n\t}\n\n\tif (ajax) {\n\t\toutput.forEach(function (item) {\n\t\t\tif (typeof item.type == \"function\") {\n\t\t\t\titem.type = \"function\";\n\t\t\t}\n\t\t});\n\t}\n\n\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\treturn output;\n};\n\n//filter to Object\nFilter.prototype.filtersToArray = function (filterList, ajax) {\n\tvar _this63 = this;\n\n\tvar output = [];\n\n\tfilterList.forEach(function (filter) {\n\t\tvar item;\n\n\t\tif (Array.isArray(filter)) {\n\t\t\toutput.push(_this63.filtersToArray(filter, ajax));\n\t\t} else {\n\t\t\titem = { field: filter.field, type: filter.type, value: filter.value };\n\n\t\t\tif (ajax) {\n\t\t\t\tif (typeof item.type == \"function\") {\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toutput.push(item);\n\t\t}\n\t});\n\n\treturn output;\n};\n\n//get all filters\nFilter.prototype.getHeaderFilters = function () {\n\tvar self = this,\n\t    output = [];\n\n\tfor (var key in this.headerFilters) {\n\t\toutput.push({ field: key, type: this.headerFilters[key].type, value: this.headerFilters[key].value });\n\t}\n\n\treturn output;\n};\n\n//remove filter from array\nFilter.prototype.removeFilter = function (field, type, value) {\n\tvar self = this;\n\n\tif (!Array.isArray(field)) {\n\t\tfield = [{ field: field, type: type, value: value }];\n\t}\n\n\tfield.forEach(function (filter) {\n\t\tvar index = -1;\n\n\t\tif (_typeof(filter.field) == \"object\") {\n\t\t\tindex = self.filterList.findIndex(function (element) {\n\t\t\t\treturn filter === element;\n\t\t\t});\n\t\t} else {\n\t\t\tindex = self.filterList.findIndex(function (element) {\n\t\t\t\treturn filter.field === element.field && filter.type === element.type && filter.value === element.value;\n\t\t\t});\n\t\t}\n\n\t\tif (index > -1) {\n\t\t\tself.filterList.splice(index, 1);\n\t\t\tself.changed = true;\n\t\t} else {\n\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t}\n\t});\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\n\t\tthis.table.modules.persistence.save(\"filter\");\n\t}\n};\n\n//clear filters\nFilter.prototype.clearFilter = function (all) {\n\tthis.filterList = [];\n\n\tif (all) {\n\t\tthis.clearHeaderFilter();\n\t}\n\n\tthis.changed = true;\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\n\t\tthis.table.modules.persistence.save(\"filter\");\n\t}\n};\n\n//clear header filters\nFilter.prototype.clearHeaderFilter = function () {\n\tvar self = this;\n\n\tthis.headerFilters = {};\n\tself.prevHeaderFilterChangeCheck = \"{}\";\n\n\tthis.headerFilterColumns.forEach(function (column) {\n\t\tcolumn.modules.filter.value = null;\n\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\tself.reloadHeaderFilter(column);\n\t});\n\n\tthis.changed = true;\n};\n\n//search data and return matching rows\nFilter.prototype.search = function (searchType, field, type, value) {\n\tvar self = this,\n\t    activeRows = [],\n\t    filterList = [];\n\n\tif (!Array.isArray(field)) {\n\t\tfield = [{ field: field, type: type, value: value }];\n\t}\n\n\tfield.forEach(function (filter) {\n\t\tfilter = self.findFilter(filter);\n\n\t\tif (filter) {\n\t\t\tfilterList.push(filter);\n\t\t}\n\t});\n\n\tthis.table.rowManager.rows.forEach(function (row) {\n\t\tvar match = true;\n\n\t\tfilterList.forEach(function (filter) {\n\t\t\tif (!self.filterRecurse(filter, row.getData())) {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\t\tif (match) {\n\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t}\n\t});\n\n\treturn activeRows;\n};\n\n//filter row array\nFilter.prototype.filter = function (rowList, filters) {\n\tvar self = this,\n\t    activeRows = [],\n\t    activeRowComponents = [];\n\n\tif (self.table.options.dataFiltering) {\n\t\tself.table.options.dataFiltering.call(self.table, self.getFilters());\n\t}\n\n\tif (!self.table.options.ajaxFiltering && (self.filterList.length || Object.keys(self.headerFilters).length)) {\n\n\t\trowList.forEach(function (row) {\n\t\t\tif (self.filterRow(row)) {\n\t\t\t\tactiveRows.push(row);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tactiveRows = rowList.slice(0);\n\t}\n\n\tif (self.table.options.dataFiltered) {\n\n\t\tactiveRows.forEach(function (row) {\n\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t});\n\n\t\tself.table.options.dataFiltered.call(self.table, self.getFilters(), activeRowComponents);\n\t}\n\n\treturn activeRows;\n};\n\n//filter individual row\nFilter.prototype.filterRow = function (row, filters) {\n\tvar self = this,\n\t    match = true,\n\t    data = row.getData();\n\n\tself.filterList.forEach(function (filter) {\n\t\tif (!self.filterRecurse(filter, data)) {\n\t\t\tmatch = false;\n\t\t}\n\t});\n\n\tfor (var field in self.headerFilters) {\n\t\tif (!self.headerFilters[field].func(data)) {\n\t\t\tmatch = false;\n\t\t}\n\t}\n\n\treturn match;\n};\n\nFilter.prototype.filterRecurse = function (filter, data) {\n\tvar self = this,\n\t    match = false;\n\n\tif (Array.isArray(filter)) {\n\t\tfilter.forEach(function (subFilter) {\n\t\t\tif (self.filterRecurse(subFilter, data)) {\n\t\t\t\tmatch = true;\n\t\t\t}\n\t\t});\n\t} else {\n\t\tmatch = filter.func(data);\n\t}\n\n\treturn match;\n};\n\n//list of available filters\nFilter.prototype.filters = {\n\n\t//equal to\n\t\"=\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\": function _(filterVal, rowVal, rowData, filterParams) {\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\": function regex(filterVal, rowVal, rowData, filterParams) {\n\n\t\tif (typeof filterVal == \"string\") {\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\": function like(filterVal, rowVal, rowData, filterParams) {\n\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t} else {\n\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\": function keywords(filterVal, rowVal, rowData, filterParams) {\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\t    value = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\t    matches = [];\n\n\t\tkeywords.forEach(function (keyword) {\n\t\t\tif (value.includes(keyword)) {\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\": function starts(filterVal, rowVal, rowData, filterParams) {\n\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t} else {\n\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\": function ends(filterVal, rowVal, rowData, filterParams) {\n\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t} else {\n\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\": function _in(filterVal, rowVal, rowData, filterParams) {\n\t\tif (Array.isArray(filterVal)) {\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t} else {\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"filter\", Filter);\n\nvar Format = function Format(table) {\n\tthis.table = table; //hold Tabulator object\n};\n\n//initialize column formatter\nFormat.prototype.initializeColumn = function (column) {\n\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\n\tif (typeof column.definition.formatterPrint !== \"undefined\") {\n\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t}\n\n\tif (typeof column.definition.formatterClipboard !== \"undefined\") {\n\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t}\n\n\tif (typeof column.definition.formatterHtmlOutput !== \"undefined\") {\n\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t}\n};\n\nFormat.prototype.lookupFormatter = function (column, type) {\n\tvar config = { params: column.definition[\"formatter\" + type + \"Params\"] || {} },\n\t    formatter = column.definition[\"formatter\" + type];\n\n\t//set column formatter\n\tswitch (typeof formatter === 'undefined' ? 'undefined' : _typeof(formatter)) {\n\t\tcase \"string\":\n\n\t\t\tif (formatter === \"tick\") {\n\t\t\t\tformatter = \"tickCross\";\n\n\t\t\t\tif (typeof config.params.crossElement == \"undefined\") {\n\t\t\t\t\tconfig.params.crossElement = false;\n\t\t\t\t}\n\n\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false\");\n\t\t\t}\n\n\t\t\tif (this.formatters[formatter]) {\n\t\t\t\tconfig.formatter = this.formatters[formatter];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\tconfig.formatter = this.formatters.plaintext;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tconfig.formatter = formatter;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconfig.formatter = this.formatters.plaintext;\n\t\t\tbreak;\n\t}\n\n\treturn config;\n};\n\nFormat.prototype.cellRendered = function (cell) {\n\tif (cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered) {\n\t\tcell.modules.format.renderedCallback();\n\t\tcell.modules.format.rendered = true;\n\t}\n};\n\n//return a formatted value for a cell\nFormat.prototype.formatValue = function (cell) {\n\tvar component = cell.getComponent(),\n\t    params = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\n\tfunction onRendered(callback) {\n\t\tif (!cell.modules.format) {\n\t\t\tcell.modules.format = {};\n\t\t}\n\n\t\tcell.modules.format.renderedCallback = callback;\n\t\tcell.modules.format.rendered = false;\n\t}\n\n\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n};\n\nFormat.prototype.formatExportValue = function (cell, type) {\n\tvar formatter = cell.column.modules.format[type],\n\t    params;\n\n\tif (formatter) {\n\t\tvar onRendered = function onRendered(callback) {\n\t\t\tif (!cell.modules.format) {\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t};\n\n\t\tparams = typeof formatter.params === \"function\" ? formatter.params(component) : formatter.params;\n\n\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t} else {\n\t\treturn this.formatValue(cell);\n\t}\n};\n\nFormat.prototype.sanitizeHTML = function (value) {\n\tif (value) {\n\t\tvar entityMap = {\n\t\t\t'&': '&amp;',\n\t\t\t'<': '&lt;',\n\t\t\t'>': '&gt;',\n\t\t\t'\"': '&quot;',\n\t\t\t\"'\": '&#39;',\n\t\t\t'/': '&#x2F;',\n\t\t\t'`': '&#x60;',\n\t\t\t'=': '&#x3D;'\n\t\t};\n\n\t\treturn String(value).replace(/[&<>\"'`=\\/]/g, function (s) {\n\t\t\treturn entityMap[s];\n\t\t});\n\t} else {\n\t\treturn value;\n\t}\n};\n\nFormat.prototype.emptyToSpace = function (value) {\n\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n};\n\n//get formatter for cell\nFormat.prototype.getFormatter = function (formatter) {\n\tvar formatter;\n\n\tswitch (typeof formatter === 'undefined' ? 'undefined' : _typeof(formatter)) {\n\t\tcase \"string\":\n\t\t\tif (this.formatters[formatter]) {\n\t\t\t\tformatter = this.formatters[formatter];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\tformatter = this.formatters.plaintext;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tformatter = formatter;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tformatter = this.formatters.plaintext;\n\t\t\tbreak;\n\t}\n\n\treturn formatter;\n};\n\n//default data formatters\nFormat.prototype.formatters = {\n\t//plain text value\n\tplaintext: function plaintext(cell, formatterParams, onRendered) {\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t},\n\n\t//html text value\n\thtml: function html(cell, formatterParams, onRendered) {\n\t\treturn cell.getValue();\n\t},\n\n\t//multiline text area\n\ttextarea: function textarea(cell, formatterParams, onRendered) {\n\t\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t},\n\n\t//currency formatting\n\tmoney: function money(cell, formatterParams, onRendered) {\n\t\tvar floatVal = parseFloat(cell.getValue()),\n\t\t    number,\n\t\t    integer,\n\t\t    decimal,\n\t\t    rgx;\n\n\t\tvar decimalSym = formatterParams.decimal || \".\";\n\t\tvar thousandSym = formatterParams.thousand || \",\";\n\t\tvar symbol = formatterParams.symbol || \"\";\n\t\tvar after = !!formatterParams.symbolAfter;\n\t\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\t\tif (isNaN(floatVal)) {\n\t\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t\t}\n\n\t\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\t\tnumber = String(number).split(\".\");\n\n\t\tinteger = number[0];\n\t\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)) {\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\n\t\treturn after ? integer + decimal + symbol : symbol + integer + decimal;\n\t},\n\n\t//clickable anchor tag\n\tlink: function link(cell, formatterParams, onRendered) {\n\t\tvar value = cell.getValue(),\n\t\t    urlPrefix = formatterParams.urlPrefix || \"\",\n\t\t    download = formatterParams.download,\n\t\t    label = value,\n\t\t    el = document.createElement(\"a\"),\n\t\t    data;\n\n\t\tif (formatterParams.labelField) {\n\t\t\tdata = cell.getData();\n\t\t\tlabel = data[formatterParams.labelField];\n\t\t}\n\n\t\tif (formatterParams.label) {\n\t\t\tswitch (_typeof(formatterParams.label)) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tlabel = formatterParams.label;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (label) {\n\t\t\tif (formatterParams.urlField) {\n\t\t\t\tdata = cell.getData();\n\t\t\t\tvalue = data[formatterParams.urlField];\n\t\t\t}\n\n\t\t\tif (formatterParams.url) {\n\t\t\t\tswitch (_typeof(formatterParams.url)) {\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\t\tif (formatterParams.target) {\n\t\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t\t}\n\n\t\t\tif (formatterParams.download) {\n\n\t\t\t\tif (typeof download == \"function\") {\n\t\t\t\t\tdownload = download(cell);\n\t\t\t\t} else {\n\t\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t\t}\n\n\t\t\t\tel.setAttribute(\"download\", download);\n\t\t\t}\n\n\t\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\t\treturn el;\n\t\t} else {\n\t\t\treturn \"&nbsp;\";\n\t\t}\n\t},\n\n\t//image element\n\timage: function image(cell, formatterParams, onRendered) {\n\t\tvar el = document.createElement(\"img\");\n\t\tel.setAttribute(\"src\", cell.getValue());\n\n\t\tswitch (_typeof(formatterParams.height)) {\n\t\t\tcase \"number\":\n\t\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase \"string\":\n\t\t\t\tel.style.height = formatterParams.height;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (_typeof(formatterParams.width)) {\n\t\t\tcase \"number\":\n\t\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase \"string\":\n\t\t\t\tel.style.width = formatterParams.width;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tel.addEventListener(\"load\", function () {\n\t\t\tcell.getRow().normalizeHeight();\n\t\t});\n\n\t\treturn el;\n\t},\n\n\t//tick or cross\n\ttickCross: function tickCross(cell, formatterParams, onRendered) {\n\t\tvar value = cell.getValue(),\n\t\t    element = cell.getElement(),\n\t\t    empty = formatterParams.allowEmpty,\n\t\t    truthy = formatterParams.allowTruthy,\n\t\t    tick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\t\t    cross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\t\tif (truthy && value || value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\") {\n\t\t\telement.setAttribute(\"aria-checked\", true);\n\t\t\treturn tick || \"\";\n\t\t} else {\n\t\t\tif (empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")) {\n\t\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\t\treturn \"\";\n\t\t\t} else {\n\t\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\t\treturn cross || \"\";\n\t\t\t}\n\t\t}\n\t},\n\n\tdatetime: function datetime(cell, formatterParams, onRendered) {\n\t\tvar inputFormat = formatterParams.inputFormat || \"YYYY-MM-DD hh:mm:ss\";\n\t\tvar outputFormat = formatterParams.outputFormat || \"DD/MM/YYYY hh:mm:ss\";\n\t\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\t\tvar value = cell.getValue();\n\n\t\tvar newDatetime = moment(value, inputFormat);\n\n\t\tif (newDatetime.isValid()) {\n\t\t\treturn formatterParams.timezone ? newDatetime.tz(formatterParams.timezone).format(outputFormat) : newDatetime.format(outputFormat);\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t},\n\n\tdatetimediff: function datetime(cell, formatterParams, onRendered) {\n\t\tvar inputFormat = formatterParams.inputFormat || \"YYYY-MM-DD hh:mm:ss\";\n\t\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\t\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\t\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : undefined;\n\t\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\t\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : moment();\n\t\tvar value = cell.getValue();\n\n\t\tvar newDatetime = moment(value, inputFormat);\n\n\t\tif (newDatetime.isValid()) {\n\t\t\tif (humanize) {\n\t\t\t\treturn moment.duration(newDatetime.diff(date)).humanize(suffix);\n\t\t\t} else {\n\t\t\t\treturn newDatetime.diff(date, unit) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t},\n\n\t//select\n\tlookup: function lookup(cell, formatterParams, onRendered) {\n\t\tvar value = cell.getValue();\n\n\t\tif (typeof formatterParams[value] === \"undefined\") {\n\t\t\tconsole.warn('Missing display value for ' + value);\n\t\t\treturn value;\n\t\t}\n\n\t\treturn formatterParams[value];\n\t},\n\n\t//star rating\n\tstar: function star(cell, formatterParams, onRendered) {\n\t\tvar value = cell.getValue(),\n\t\t    element = cell.getElement(),\n\t\t    maxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\t\t    stars = document.createElement(\"span\"),\n\t\t    star = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\t\t    starActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\t\t    starInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t\t//style stars holder\n\t\tstars.style.verticalAlign = \"middle\";\n\n\t\t//style star\n\t\tstar.setAttribute(\"width\", \"14\");\n\t\tstar.setAttribute(\"height\", \"14\");\n\t\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\t\tstar.setAttribute(\"xml:space\", \"preserve\");\n\t\tstar.style.padding = \"0 1px\";\n\n\t\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\t\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\t\tfor (var i = 1; i <= maxStars; i++) {\n\t\t\tvar nextStar = star.cloneNode(true);\n\t\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\t\tstars.appendChild(nextStar);\n\t\t}\n\n\t\telement.style.whiteSpace = \"nowrap\";\n\t\telement.style.overflow = \"hidden\";\n\t\telement.style.textOverflow = \"ellipsis\";\n\n\t\telement.setAttribute(\"aria-label\", value);\n\n\t\treturn stars;\n\t},\n\n\ttraffic: function traffic(cell, formatterParams, onRendered) {\n\t\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\t\t    el = document.createElement(\"span\"),\n\t\t    max = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\t\t    min = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\t\t    colors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\t\t    color = \"#666666\",\n\t\t    percent,\n\t\t    percentValue;\n\n\t\tif (isNaN(value) || typeof cell.getValue() === \"undefined\") {\n\t\t\treturn;\n\t\t}\n\n\t\tel.classList.add(\"tabulator-traffic-light\");\n\n\t\t//make sure value is in range\n\t\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\t\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t\t//workout percentage\n\t\tpercent = (max - min) / 100;\n\t\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t\t//set color\n\t\tswitch (typeof colors === 'undefined' ? 'undefined' : _typeof(colors)) {\n\t\t\tcase \"string\":\n\t\t\t\tcolor = colors;\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tcolor = colors(value);\n\t\t\t\tbreak;\n\t\t\tcase \"object\":\n\t\t\t\tif (Array.isArray(colors)) {\n\t\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\t\tcolor = colors[index];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t}\n\n\t\tel.style.backgroundColor = color;\n\n\t\treturn el;\n\t},\n\n\t//progress bar\n\tprogress: function progress(cell, formatterParams, onRendered) {\n\t\t//progress bar\n\t\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\t\t    element = cell.getElement(),\n\t\t    max = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\t\t    min = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\t\t    legendAlign = formatterParams && formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\t\t    percent,\n\t\t    percentValue,\n\t\t    color,\n\t\t    legend,\n\t\t    legendColor,\n\t\t    top,\n\t\t    left,\n\t\t    right,\n\t\t    bottom;\n\n\t\t//make sure value is in range\n\t\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\t\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t\t//workout percentage\n\t\tpercent = (max - min) / 100;\n\t\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t\t//set bar color\n\t\tswitch (_typeof(formatterParams.color)) {\n\t\t\tcase \"string\":\n\t\t\t\tcolor = formatterParams.color;\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tcolor = formatterParams.color(value);\n\t\t\t\tbreak;\n\t\t\tcase \"object\":\n\t\t\t\tif (Array.isArray(formatterParams.color)) {\n\t\t\t\t\tvar unit = 100 / formatterParams.color.length;\n\t\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tcolor = \"#2DC214\";\n\t\t}\n\n\t\t//generate legend\n\t\tswitch (_typeof(formatterParams.legend)) {\n\t\t\tcase \"string\":\n\t\t\t\tlegend = formatterParams.legend;\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tlegend = formatterParams.legend(value);\n\t\t\t\tbreak;\n\t\t\tcase \"boolean\":\n\t\t\t\tlegend = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlegend = false;\n\t\t}\n\n\t\t//set legend color\n\t\tswitch (_typeof(formatterParams.legendColor)) {\n\t\t\tcase \"string\":\n\t\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\t\tbreak;\n\t\t\tcase \"object\":\n\t\t\t\tif (Array.isArray(formatterParams.legendColor)) {\n\t\t\t\t\tvar unit = 100 / formatterParams.legendColor.length;\n\t\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlegendColor = \"#000\";\n\t\t}\n\n\t\telement.style.minWidth = \"30px\";\n\t\telement.style.position = \"relative\";\n\n\t\telement.setAttribute(\"aria-label\", percentValue);\n\n\t\tvar barEl = document.createElement(\"div\");\n\t\tbarEl.style.display = \"inline-block\";\n\t\tbarEl.style.position = \"relative\";\n\t\tbarEl.style.width = percentValue + \"%\";\n\t\tbarEl.style.backgroundColor = color;\n\t\tbarEl.style.height = \"100%\";\n\n\t\tbarEl.setAttribute('data-max', max);\n\t\tbarEl.setAttribute('data-min', min);\n\n\t\tif (legend) {\n\t\t\tvar legendEl = document.createElement(\"div\");\n\t\t\tlegendEl.style.position = \"absolute\";\n\t\t\tlegendEl.style.top = \"4px\";\n\t\t\tlegendEl.style.left = 0;\n\t\t\tlegendEl.style.textAlign = legendAlign;\n\t\t\tlegendEl.style.width = \"100%\";\n\t\t\tlegendEl.style.color = legendColor;\n\t\t\tlegendEl.innerHTML = legend;\n\t\t}\n\n\t\tonRendered(function () {\n\n\t\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\t\tif (!(cell instanceof CellComponent)) {\n\t\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\t\tholderEl.style.position = \"absolute\";\n\t\t\t\tholderEl.style.top = \"4px\";\n\t\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\t\tholderEl.style.left = \"4px\";\n\t\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\t\telement.appendChild(holderEl);\n\n\t\t\t\telement = holderEl;\n\t\t\t}\n\n\t\t\telement.appendChild(barEl);\n\n\t\t\tif (legend) {\n\t\t\t\telement.appendChild(legendEl);\n\t\t\t}\n\t\t});\n\n\t\treturn \"\";\n\t},\n\n\t//background color\n\tcolor: function color(cell, formatterParams, onRendered) {\n\t\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\t\treturn \"\";\n\t},\n\n\t//tick icon\n\tbuttonTick: function buttonTick(cell, formatterParams, onRendered) {\n\t\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n\t},\n\n\t//cross icon\n\tbuttonCross: function buttonCross(cell, formatterParams, onRendered) {\n\t\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\t},\n\n\t//current row number\n\trownum: function rownum(cell, formatterParams, onRendered) {\n\t\treturn this.table.rowManager.activeRows.indexOf(cell.getRow()._getSelf()) + 1;\n\t},\n\n\t//row handle\n\thandle: function handle(cell, formatterParams, onRendered) {\n\t\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\t\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n\t},\n\n\tresponsiveCollapse: function responsiveCollapse(cell, formatterParams, onRendered) {\n\t\tvar self = this,\n\t\t    open = false,\n\t\t    el = document.createElement(\"div\"),\n\t\t    config = cell.getRow()._row.modules.responsiveLayout;\n\n\t\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\tel.innerHTML = \"<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>\";\n\n\t\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\t\tfunction toggleList(isOpen) {\n\t\t\tvar collapseEl = config.element;\n\n\t\t\tconfig.open = isOpen;\n\n\t\t\tif (collapseEl) {\n\n\t\t\t\tif (config.open) {\n\t\t\t\t\tel.classList.add(\"open\");\n\t\t\t\t\tcollapseEl.style.display = '';\n\t\t\t\t} else {\n\t\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tel.addEventListener(\"click\", function (e) {\n\t\t\te.stopImmediatePropagation();\n\t\t\ttoggleList(!config.open);\n\t\t});\n\n\t\ttoggleList(config.open);\n\n\t\treturn el;\n\t},\n\n\trowSelection: function rowSelection(cell, formatterParams, onRendered) {\n\t\tvar _this64 = this;\n\n\t\tvar checkbox = document.createElement(\"input\");\n\n\t\tcheckbox.type = 'checkbox';\n\n\t\tif (this.table.modExists(\"selectRow\", true)) {\n\n\t\t\tcheckbox.addEventListener(\"click\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif (typeof cell.getRow == 'function') {\n\t\t\t\tvar row = cell.getRow();\n\n\t\t\t\tif (row instanceof RowComponent) {\n\n\t\t\t\t\tcheckbox.addEventListener(\"change\", function (e) {\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t});\n\n\t\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t\t} else {\n\t\t\t\t\tcheckbox = \"\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcheckbox.addEventListener(\"change\", function (e) {\n\t\t\t\t\tif (_this64.table.modules.selectRow.selectedRows.length) {\n\t\t\t\t\t\t_this64.table.deselectRow();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this64.table.selectRow(formatterParams.rowRange);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t\t}\n\t\t}\n\t\treturn checkbox;\n\t}\n};\n\nTabulator.prototype.registerModule(\"format\", Format);\n\nvar FrozenColumns = function FrozenColumns(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.leftColumns = [];\n\tthis.rightColumns = [];\n\tthis.leftMargin = 0;\n\tthis.rightMargin = 0;\n\tthis.rightPadding = 0;\n\tthis.initializationMode = \"left\";\n\tthis.active = false;\n\tthis.scrollEndTimer = false;\n};\n\n//reset initial state\nFrozenColumns.prototype.reset = function () {\n\tthis.initializationMode = \"left\";\n\tthis.leftColumns = [];\n\tthis.rightColumns = [];\n\tthis.leftMargin = 0;\n\tthis.rightMargin = 0;\n\tthis.rightMargin = 0;\n\tthis.active = false;\n\n\tthis.table.columnManager.headersElement.style.marginLeft = 0;\n\tthis.table.columnManager.element.style.paddingRight = 0;\n};\n\n//initialize specific column\nFrozenColumns.prototype.initializeColumn = function (column) {\n\tvar config = { margin: 0, edge: false };\n\n\tif (!column.isGroup) {\n\n\t\tif (this.frozenCheck(column)) {\n\n\t\t\tconfig.position = this.initializationMode;\n\n\t\t\tif (this.initializationMode == \"left\") {\n\t\t\t\tthis.leftColumns.push(column);\n\t\t\t} else {\n\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t}\n\n\t\t\tthis.active = true;\n\n\t\t\tcolumn.modules.frozen = config;\n\t\t} else {\n\t\t\tthis.initializationMode = \"right\";\n\t\t}\n\t}\n};\n\nFrozenColumns.prototype.frozenCheck = function (column) {\n\tvar frozen = false;\n\n\tif (column.parent.isGroup && column.definition.frozen) {\n\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t}\n\n\tif (column.parent.isGroup) {\n\t\treturn this.frozenCheck(column.parent);\n\t} else {\n\t\treturn column.definition.frozen;\n\t}\n\n\treturn frozen;\n};\n\n//quick layout to smooth horizontal scrolling\nFrozenColumns.prototype.scrollHorizontal = function () {\n\tvar _this65 = this;\n\n\tvar rows;\n\n\tif (this.active) {\n\t\tclearTimeout(this.scrollEndTimer);\n\n\t\t//layout all rows after scroll is complete\n\t\tthis.scrollEndTimer = setTimeout(function () {\n\t\t\t_this65.layout();\n\t\t}, 100);\n\n\t\trows = this.table.rowManager.getVisibleRows();\n\n\t\tthis.calcMargins();\n\n\t\tthis.layoutColumnPosition();\n\n\t\tthis.layoutCalcRows();\n\n\t\trows.forEach(function (row) {\n\t\t\tif (row.type === \"row\") {\n\t\t\t\t_this65.layoutRow(row);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.tableElement.style.marginRight = this.rightMargin;\n\t}\n};\n\n//calculate margins for rows\nFrozenColumns.prototype.calcMargins = function () {\n\tthis.leftMargin = this._calcSpace(this.leftColumns, this.leftColumns.length) + \"px\";\n\tthis.table.columnManager.headersElement.style.marginLeft = this.leftMargin;\n\n\tthis.rightMargin = this._calcSpace(this.rightColumns, this.rightColumns.length) + \"px\";\n\tthis.table.columnManager.element.style.paddingRight = this.rightMargin;\n\n\t//calculate right frozen columns\n\tthis.rightPadding = this.table.rowManager.element.clientWidth + this.table.columnManager.scrollLeft;\n};\n\n//layout calculation rows\nFrozenColumns.prototype.layoutCalcRows = function () {\n\tif (this.table.modExists(\"columnCalcs\")) {\n\t\tif (this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow) {\n\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t}\n\t\tif (this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow) {\n\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t}\n\t}\n};\n\n//calculate column positions and layout headers\nFrozenColumns.prototype.layoutColumnPosition = function (allCells) {\n\tvar _this66 = this;\n\n\tvar leftParents = [];\n\n\tthis.leftColumns.forEach(function (column, i) {\n\t\tcolumn.modules.frozen.margin = _this66._calcSpace(_this66.leftColumns, i) + _this66.table.columnManager.scrollLeft + \"px\";\n\n\t\tif (i == _this66.leftColumns.length - 1) {\n\t\t\tcolumn.modules.frozen.edge = true;\n\t\t} else {\n\t\t\tcolumn.modules.frozen.edge = false;\n\t\t}\n\n\t\tif (column.parent.isGroup) {\n\t\t\tvar parentEl = _this66.getColGroupParentElement(column);\n\t\t\tif (!leftParents.includes(parentEl)) {\n\t\t\t\t_this66.layoutElement(parentEl, column);\n\t\t\t\tleftParents.push(parentEl);\n\t\t\t}\n\n\t\t\tif (column.modules.frozen.edge) {\n\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t}\n\t\t} else {\n\t\t\t_this66.layoutElement(column.getElement(), column);\n\t\t}\n\n\t\tif (allCells) {\n\t\t\tcolumn.cells.forEach(function (cell) {\n\t\t\t\t_this66.layoutElement(cell.getElement(), column);\n\t\t\t});\n\t\t}\n\t});\n\n\tthis.rightColumns.forEach(function (column, i) {\n\t\tcolumn.modules.frozen.margin = _this66.rightPadding - _this66._calcSpace(_this66.rightColumns, i + 1) + \"px\";\n\n\t\tif (i == _this66.rightColumns.length - 1) {\n\t\t\tcolumn.modules.frozen.edge = true;\n\t\t} else {\n\t\t\tcolumn.modules.frozen.edge = false;\n\t\t}\n\n\t\tif (column.parent.isGroup) {\n\t\t\t_this66.layoutElement(_this66.getColGroupParentElement(column), column);\n\t\t} else {\n\t\t\t_this66.layoutElement(column.getElement(), column);\n\t\t}\n\n\t\tif (allCells) {\n\t\t\tcolumn.cells.forEach(function (cell) {\n\t\t\t\t_this66.layoutElement(cell.getElement(), column);\n\t\t\t});\n\t\t}\n\t});\n};\n\nFrozenColumns.prototype.getColGroupParentElement = function (column) {\n\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n};\n\n//layout columns appropropriatly\nFrozenColumns.prototype.layout = function () {\n\tvar self = this,\n\t    rightMargin = 0;\n\n\tif (self.active) {\n\n\t\t//calculate row padding\n\t\tthis.calcMargins();\n\n\t\t// self.table.rowManager.activeRows.forEach(function(row){\n\t\t// \tself.layoutRow(row);\n\t\t// });\n\n\t\t// if(self.table.options.dataTree){\n\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\n\t\t\tif (row.type === \"row\") {\n\t\t\t\tself.layoutRow(row);\n\t\t\t}\n\t\t});\n\t\t// }\n\n\t\tthis.layoutCalcRows();\n\n\t\t//calculate left columns\n\t\tthis.layoutColumnPosition(true);\n\n\t\t// if(tableHolder.scrollHeight > tableHolder.clientHeight){\n\t\t// \trightMargin -= tableHolder.offsetWidth - tableHolder.clientWidth;\n\t\t// }\n\n\t\tthis.table.rowManager.tableElement.style.marginRight = this.rightMargin;\n\t}\n};\n\nFrozenColumns.prototype.layoutRow = function (row) {\n\tvar _this67 = this;\n\n\tvar rowEl = row.getElement();\n\n\trowEl.style.paddingLeft = this.leftMargin;\n\t// rowEl.style.paddingRight = this.rightMargin + \"px\";\n\n\tthis.leftColumns.forEach(function (column) {\n\t\tvar cell = row.getCell(column);\n\n\t\tif (cell) {\n\t\t\t_this67.layoutElement(cell.getElement(), column);\n\t\t}\n\t});\n\n\tthis.rightColumns.forEach(function (column) {\n\t\tvar cell = row.getCell(column);\n\n\t\tif (cell) {\n\t\t\t_this67.layoutElement(cell.getElement(), column);\n\t\t}\n\t});\n};\n\nFrozenColumns.prototype.layoutElement = function (element, column) {\n\n\tif (column.modules.frozen) {\n\t\telement.style.position = \"absolute\";\n\t\telement.style.left = column.modules.frozen.margin;\n\n\t\telement.classList.add(\"tabulator-frozen\");\n\n\t\tif (column.modules.frozen.edge) {\n\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t}\n\t}\n};\n\nFrozenColumns.prototype._calcSpace = function (columns, index) {\n\tvar width = 0;\n\n\tfor (var _i12 = 0; _i12 < index; _i12++) {\n\t\tif (columns[_i12].visible) {\n\t\t\twidth += columns[_i12].getWidth();\n\t\t}\n\t}\n\n\treturn width;\n};\n\nTabulator.prototype.registerModule(\"frozenColumns\", FrozenColumns);\nvar FrozenRows = function FrozenRows(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.topElement = document.createElement(\"div\");\n\tthis.rows = [];\n\tthis.displayIndex = 0; //index in display pipeline\n};\n\nFrozenRows.prototype.initialize = function () {\n\tthis.rows = [];\n\n\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\n\t// this.table.columnManager.element.append(this.topElement);\n\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n};\n\nFrozenRows.prototype.setDisplayIndex = function (index) {\n\tthis.displayIndex = index;\n};\n\nFrozenRows.prototype.getDisplayIndex = function () {\n\treturn this.displayIndex;\n};\n\nFrozenRows.prototype.isFrozen = function () {\n\treturn !!this.rows.length;\n};\n\n//filter frozen rows out of display data\nFrozenRows.prototype.getRows = function (rows) {\n\tvar self = this,\n\t    frozen = [],\n\t    output = rows.slice(0);\n\n\tthis.rows.forEach(function (row) {\n\t\tvar index = output.indexOf(row);\n\n\t\tif (index > -1) {\n\t\t\toutput.splice(index, 1);\n\t\t}\n\t});\n\n\treturn output;\n};\n\nFrozenRows.prototype.freezeRow = function (row) {\n\tif (!row.modules.frozen) {\n\t\trow.modules.frozen = true;\n\t\tthis.topElement.appendChild(row.getElement());\n\t\trow.initialize();\n\t\trow.normalizeHeight();\n\t\tthis.table.rowManager.adjustTableSize();\n\n\t\tthis.rows.push(row);\n\n\t\tthis.table.rowManager.refreshActiveData(\"display\");\n\n\t\tthis.styleRows();\n\t} else {\n\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t}\n};\n\nFrozenRows.prototype.unfreezeRow = function (row) {\n\tvar index = this.rows.indexOf(row);\n\n\tif (row.modules.frozen) {\n\n\t\trow.modules.frozen = false;\n\n\t\tthis.detachRow(row);\n\n\t\tthis.table.rowManager.adjustTableSize();\n\n\t\tthis.table.rowManager.refreshActiveData(\"display\");\n\n\t\tif (this.rows.length) {\n\t\t\tthis.styleRows();\n\t\t}\n\t} else {\n\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t}\n};\n\nFrozenRows.prototype.detachRow = function (row) {\n\tvar index = this.rows.indexOf(row);\n\n\tif (index > -1) {\n\t\tvar rowEl = row.getElement();\n\t\trowEl.parentNode.removeChild(rowEl);\n\n\t\tthis.rows.splice(index, 1);\n\t}\n};\n\nFrozenRows.prototype.styleRows = function (row) {\n\tvar self = this;\n\n\tthis.rows.forEach(function (row, i) {\n\t\tself.table.rowManager.styleRow(row, i);\n\t});\n};\n\nTabulator.prototype.registerModule(\"frozenRows\", FrozenRows);\n\n//public group object\nvar GroupComponent = function GroupComponent(group) {\n\tthis._group = group;\n\tthis.type = \"GroupComponent\";\n};\n\nGroupComponent.prototype.getKey = function () {\n\treturn this._group.key;\n};\n\nGroupComponent.prototype.getField = function () {\n\treturn this._group.field;\n};\n\nGroupComponent.prototype.getElement = function () {\n\treturn this._group.element;\n};\n\nGroupComponent.prototype.getRows = function () {\n\treturn this._group.getRows(true);\n};\n\nGroupComponent.prototype.getSubGroups = function () {\n\treturn this._group.getSubGroups(true);\n};\n\nGroupComponent.prototype.getParentGroup = function () {\n\treturn this._group.parent ? this._group.parent.getComponent() : false;\n};\n\nGroupComponent.prototype.getVisibility = function () {\n\tconsole.warn(\"getVisibility function is deprecated, you should now use the isVisible function\");\n\treturn this._group.visible;\n};\n\nGroupComponent.prototype.isVisible = function () {\n\treturn this._group.visible;\n};\n\nGroupComponent.prototype.show = function () {\n\tthis._group.show();\n};\n\nGroupComponent.prototype.hide = function () {\n\tthis._group.hide();\n};\n\nGroupComponent.prototype.toggle = function () {\n\tthis._group.toggleVisibility();\n};\n\nGroupComponent.prototype._getSelf = function () {\n\treturn this._group;\n};\n\nGroupComponent.prototype.getTable = function () {\n\treturn this._group.groupManager.table;\n};\n\n//////////////////////////////////////////////////\n//////////////// Group Functions /////////////////\n//////////////////////////////////////////////////\n\nvar Group = function Group(groupManager, parent, level, key, field, generator, oldGroup) {\n\n\tthis.groupManager = groupManager;\n\tthis.parent = parent;\n\tthis.key = key;\n\tthis.level = level;\n\tthis.field = field;\n\tthis.hasSubGroups = level < groupManager.groupIDLookups.length - 1;\n\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\tthis.type = \"group\"; //type of element\n\tthis.old = oldGroup;\n\tthis.rows = [];\n\tthis.groups = [];\n\tthis.groupList = [];\n\tthis.generator = generator;\n\tthis.elementContents = false;\n\tthis.height = 0;\n\tthis.outerHeight = 0;\n\tthis.initialized = false;\n\tthis.calcs = {};\n\tthis.initialized = false;\n\tthis.modules = {};\n\tthis.arrowElement = false;\n\n\tthis.visible = oldGroup ? oldGroup.visible : typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0];\n\n\tthis.component = null;\n\n\tthis.createElements();\n\tthis.addBindings();\n\n\tthis.createValueGroups();\n};\n\nGroup.prototype.wipe = function () {\n\tif (this.groupList.length) {\n\t\tthis.groupList.forEach(function (group) {\n\t\t\tgroup.wipe();\n\t\t});\n\t} else {\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n};\n\nGroup.prototype.createElements = function () {\n\tvar arrow = document.createElement(\"div\");\n\tarrow.classList.add(\"tabulator-arrow\");\n\n\tthis.element = document.createElement(\"div\");\n\tthis.element.classList.add(\"tabulator-row\");\n\tthis.element.classList.add(\"tabulator-group\");\n\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\n\tthis.arrowElement = document.createElement(\"div\");\n\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\tthis.arrowElement.appendChild(arrow);\n\n\t//setup movable rows\n\tif (this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")) {\n\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t}\n};\n\nGroup.prototype.createValueGroups = function () {\n\tvar _this68 = this;\n\n\tvar level = this.level + 1;\n\tif (this.groupManager.allowedValues && this.groupManager.allowedValues[level]) {\n\t\tthis.groupManager.allowedValues[level].forEach(function (value) {\n\t\t\t_this68._createGroup(value, level);\n\t\t});\n\t}\n};\n\nGroup.prototype.addBindings = function () {\n\tvar self = this,\n\t    dblTap,\n\t    tapHold,\n\t    tap,\n\t    toggleElement;\n\n\t//handle group click events\n\tif (self.groupManager.table.options.groupClick) {\n\t\tself.element.addEventListener(\"click\", function (e) {\n\t\t\tself.groupManager.table.options.groupClick.call(self.groupManager.table, e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.groupManager.table.options.groupDblClick) {\n\t\tself.element.addEventListener(\"dblclick\", function (e) {\n\t\t\tself.groupManager.table.options.groupDblClick.call(self.groupManager.table, e, self.getComponent());\n\t\t});\n\t}\n\n\tif (self.groupManager.table.options.groupContext) {\n\t\tself.element.addEventListener(\"contextmenu\", function (e) {\n\t\t\tself.groupManager.table.options.groupContext.call(self.groupManager.table, e, self.getComponent());\n\t\t});\n\t}\n\n\tif ((self.groupManager.table.options.groupContextMenu || self.groupManager.table.options.groupClickMenu) && self.groupManager.table.modExists(\"menu\")) {\n\t\tself.groupManager.table.modules.menu.initializeGroup.call(self.groupManager.table.modules.menu, self);\n\t}\n\n\tif (self.groupManager.table.options.groupTap) {\n\n\t\ttap = false;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\ttap = true;\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tif (tap) {\n\t\t\t\tself.groupManager.table.options.groupTap(e, self.getComponent());\n\t\t\t}\n\n\t\t\ttap = false;\n\t\t});\n\t}\n\n\tif (self.groupManager.table.options.groupDblTap) {\n\n\t\tdblTap = null;\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\n\t\t\tif (dblTap) {\n\t\t\t\tclearTimeout(dblTap);\n\t\t\t\tdblTap = null;\n\n\t\t\t\tself.groupManager.table.options.groupDblTap(e, self.getComponent());\n\t\t\t} else {\n\n\t\t\t\tdblTap = setTimeout(function () {\n\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\tdblTap = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (self.groupManager.table.options.groupTapHold) {\n\n\t\ttapHold = null;\n\n\t\tself.element.addEventListener(\"touchstart\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\n\t\t\ttapHold = setTimeout(function () {\n\t\t\t\tclearTimeout(tapHold);\n\t\t\t\ttapHold = null;\n\t\t\t\ttap = false;\n\t\t\t\tself.groupManager.table.options.groupTapHold(e, self.getComponent());\n\t\t\t}, 1000);\n\t\t}, { passive: true });\n\n\t\tself.element.addEventListener(\"touchend\", function (e) {\n\t\t\tclearTimeout(tapHold);\n\t\t\ttapHold = null;\n\t\t});\n\t}\n\n\tif (self.groupManager.table.options.groupToggleElement) {\n\t\ttoggleElement = self.groupManager.table.options.groupToggleElement == \"arrow\" ? self.arrowElement : self.element;\n\n\t\ttoggleElement.addEventListener(\"click\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tself.toggleVisibility();\n\t\t});\n\t}\n};\n\nGroup.prototype._createGroup = function (groupID, level) {\n\tvar groupKey = level + \"_\" + groupID;\n\tvar group = new Group(this.groupManager, this, level, groupID, this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\n\tthis.groups[groupKey] = group;\n\tthis.groupList.push(group);\n};\n\nGroup.prototype._addRowToGroup = function (row) {\n\n\tvar level = this.level + 1;\n\n\tif (this.hasSubGroups) {\n\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t    groupKey = level + \"_\" + groupID;\n\n\t\tif (this.groupManager.allowedValues && this.groupManager.allowedValues[level]) {\n\t\t\tif (this.groups[groupKey]) {\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.groups[groupKey]) {\n\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t}\n\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n};\n\nGroup.prototype._addRow = function (row) {\n\tthis.rows.push(row);\n\trow.modules.group = this;\n};\n\nGroup.prototype.insertRow = function (row, to, after) {\n\tvar data = this.conformRowData({});\n\n\trow.updateData(data);\n\n\tvar toIndex = this.rows.indexOf(to);\n\n\tif (toIndex > -1) {\n\t\tif (after) {\n\t\t\tthis.rows.splice(toIndex + 1, 0, row);\n\t\t} else {\n\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t}\n\t} else {\n\t\tif (after) {\n\t\t\tthis.rows.push(row);\n\t\t} else {\n\t\t\tthis.rows.unshift(row);\n\t\t}\n\t}\n\n\trow.modules.group = this;\n\n\tthis.generateGroupHeaderContents();\n\n\tif (this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\") {\n\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t}\n\n\tthis.groupManager.updateGroupRows(true);\n};\n\nGroup.prototype.scrollHeader = function (left) {\n\tthis.arrowElement.style.marginLeft = left;\n\n\tthis.groupList.forEach(function (child) {\n\t\tchild.scrollHeader(left);\n\t});\n};\n\nGroup.prototype.getRowIndex = function (row) {};\n\n//update row data to match grouping contraints\nGroup.prototype.conformRowData = function (data) {\n\tif (this.field) {\n\t\tdata[this.field] = this.key;\n\t} else {\n\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t}\n\n\tif (this.parent) {\n\t\tdata = this.parent.conformRowData(data);\n\t}\n\n\treturn data;\n};\n\nGroup.prototype.removeRow = function (row) {\n\tvar index = this.rows.indexOf(row);\n\tvar el = row.getElement();\n\n\tif (index > -1) {\n\t\tthis.rows.splice(index, 1);\n\t}\n\n\tif (!this.groupManager.table.options.groupValues && !this.rows.length) {\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeGroup(this);\n\t\t} else {\n\t\t\tthis.groupManager.removeGroup(this);\n\t\t}\n\n\t\tthis.groupManager.updateGroupRows(true);\n\t} else {\n\n\t\tif (el.parentNode) {\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\n\t\tthis.generateGroupHeaderContents();\n\n\t\tif (this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\") {\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t}\n};\n\nGroup.prototype.removeGroup = function (group) {\n\tvar groupKey = group.level + \"_\" + group.key,\n\t    index;\n\n\tif (this.groups[groupKey]) {\n\t\tdelete this.groups[groupKey];\n\n\t\tindex = this.groupList.indexOf(group);\n\n\t\tif (index > -1) {\n\t\t\tthis.groupList.splice(index, 1);\n\t\t}\n\n\t\tif (!this.groupList.length) {\n\t\t\tif (this.parent) {\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t} else {\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\n\t\t}\n\t}\n};\n\nGroup.prototype.getHeadersAndRows = function (noCalc) {\n\tvar output = [];\n\n\toutput.push(this);\n\n\tthis._visSet();\n\n\tif (this.visible) {\n\t\tif (this.groupList.length) {\n\t\t\tthis.groupList.forEach(function (group) {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows(noCalc));\n\t\t\t});\n\t\t} else {\n\t\t\tif (!noCalc && this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()) {\n\t\t\t\tif (this.calcs.top) {\n\t\t\t\t\tthis.calcs.top.detachElement();\n\t\t\t\t\tthis.calcs.top.deleteCells();\n\t\t\t\t}\n\n\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\toutput.push(this.calcs.top);\n\t\t\t}\n\n\t\t\toutput = output.concat(this.rows);\n\n\t\t\tif (!noCalc && this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()) {\n\t\t\t\tif (this.calcs.bottom) {\n\t\t\t\t\tthis.calcs.bottom.detachElement();\n\t\t\t\t\tthis.calcs.bottom.deleteCells();\n\t\t\t\t}\n\n\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\") {\n\n\t\t\tif (this.groupManager.table.modExists(\"columnCalcs\")) {\n\n\t\t\t\tif (!noCalc && this.groupManager.table.modules.columnCalcs.hasTopCalcs()) {\n\t\t\t\t\tif (this.calcs.top) {\n\t\t\t\t\t\tthis.calcs.top.detachElement();\n\t\t\t\t\t\tthis.calcs.top.deleteCells();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.groupManager.table.options.groupClosedShowCalcs) {\n\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!noCalc && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()) {\n\t\t\t\t\tif (this.calcs.bottom) {\n\t\t\t\t\t\tthis.calcs.bottom.detachElement();\n\t\t\t\t\t\tthis.calcs.bottom.deleteCells();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.groupManager.table.options.groupClosedShowCalcs) {\n\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output;\n};\n\nGroup.prototype.getData = function (visible, transform) {\n\tvar self = this,\n\t    output = [];\n\n\tthis._visSet();\n\n\tif (!visible || visible && this.visible) {\n\t\tthis.rows.forEach(function (row) {\n\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t});\n\t}\n\n\treturn output;\n};\n\n// Group.prototype.getRows = function(){\n// \tthis._visSet();\n\n// \treturn this.visible ? this.rows : [];\n// };\n\nGroup.prototype.getRowCount = function () {\n\tvar count = 0;\n\n\tif (this.groupList.length) {\n\t\tthis.groupList.forEach(function (group) {\n\t\t\tcount += group.getRowCount();\n\t\t});\n\t} else {\n\t\tcount = this.rows.length;\n\t}\n\treturn count;\n};\n\nGroup.prototype.toggleVisibility = function () {\n\tif (this.visible) {\n\t\tthis.hide();\n\t} else {\n\t\tthis.show();\n\t}\n};\n\nGroup.prototype.hide = function () {\n\tthis.visible = false;\n\n\tif (this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination) {\n\n\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\n\t\tif (this.groupList.length) {\n\t\t\tthis.groupList.forEach(function (group) {\n\n\t\t\t\tvar rows = group.getHeadersAndRows();\n\n\t\t\t\trows.forEach(function (row) {\n\t\t\t\t\trow.detachElement();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tthis.rows.forEach(function (row) {\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t});\n\t\t}\n\n\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\n\n\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\n\t} else {\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\n\tthis.groupManager.table.options.groupVisibilityChanged.call(this.table, this.getComponent(), false);\n};\n\nGroup.prototype.show = function () {\n\tvar self = this;\n\n\tself.visible = true;\n\n\tif (this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination) {\n\n\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\n\t\tvar prev = self.getElement();\n\n\t\tif (this.groupList.length) {\n\t\t\tthis.groupList.forEach(function (group) {\n\t\t\t\tvar rows = group.getHeadersAndRows();\n\n\t\t\t\trows.forEach(function (row) {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tself.rows.forEach(function (row) {\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\trow.initialize();\n\t\t\t\tprev = rowEl;\n\t\t\t});\n\t\t}\n\n\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\n\n\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\n\t} else {\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\n\tthis.groupManager.table.options.groupVisibilityChanged.call(this.table, this.getComponent(), true);\n};\n\nGroup.prototype._visSet = function () {\n\tvar data = [];\n\n\tif (typeof this.visible == \"function\") {\n\n\t\tthis.rows.forEach(function (row) {\n\t\t\tdata.push(row.getData());\n\t\t});\n\n\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t}\n};\n\nGroup.prototype.getRowGroup = function (row) {\n\tvar match = false;\n\tif (this.groupList.length) {\n\t\tthis.groupList.forEach(function (group) {\n\t\t\tvar result = group.getRowGroup(row);\n\n\t\t\tif (result) {\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (this.rows.find(function (item) {\n\t\t\treturn item === row;\n\t\t})) {\n\t\t\tmatch = this;\n\t\t}\n\t}\n\n\treturn match;\n};\n\nGroup.prototype.getSubGroups = function (component) {\n\tvar output = [];\n\n\tthis.groupList.forEach(function (child) {\n\t\toutput.push(component ? child.getComponent() : child);\n\t});\n\n\treturn output;\n};\n\nGroup.prototype.getRows = function (compoment) {\n\tvar output = [];\n\n\tthis.rows.forEach(function (row) {\n\t\toutput.push(compoment ? row.getComponent() : row);\n\t});\n\n\treturn output;\n};\n\nGroup.prototype.generateGroupHeaderContents = function () {\n\tvar data = [];\n\n\tthis.rows.forEach(function (row) {\n\t\tdata.push(row.getData());\n\t});\n\n\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\n\twhile (this.element.firstChild) {\n\t\tthis.element.removeChild(this.element.firstChild);\n\t}if (typeof this.elementContents === \"string\") {\n\t\tthis.element.innerHTML = this.elementContents;\n\t} else {\n\t\tthis.element.appendChild(this.elementContents);\n\t}\n\n\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n};\n\nGroup.prototype.getPath = function () {\n\tvar path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\tpath.unshift(this.key);\n\tif (this.parent) {\n\t\tthis.parent.getPath(path);\n\t}\n\treturn path;\n};\n////////////// Standard Row Functions //////////////\n\nGroup.prototype.getElement = function () {\n\tthis.addBindingsd = false;\n\n\tthis._visSet();\n\n\tif (this.visible) {\n\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t} else {\n\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t}\n\n\tfor (var i = 0; i < this.element.childNodes.length; ++i) {\n\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t}\n\n\tthis.generateGroupHeaderContents();\n\n\t// this.addBindings();\n\n\treturn this.element;\n};\n\nGroup.prototype.detachElement = function () {\n\tif (this.element && this.element.parentNode) {\n\t\tthis.element.parentNode.removeChild(this.element);\n\t}\n};\n\n//normalize the height of elements in the row\nGroup.prototype.normalizeHeight = function () {\n\tthis.setHeight(this.element.clientHeight);\n};\n\nGroup.prototype.initialize = function (force) {\n\tif (!this.initialized || force) {\n\t\tthis.normalizeHeight();\n\t\tthis.initialized = true;\n\t}\n};\n\nGroup.prototype.reinitialize = function () {\n\tthis.initialized = false;\n\tthis.height = 0;\n\n\tif (Tabulator.prototype.helpers.elVisible(this.element)) {\n\t\tthis.initialize(true);\n\t}\n};\n\nGroup.prototype.setHeight = function (height) {\n\tif (this.height != height) {\n\t\tthis.height = height;\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n};\n\n//return rows outer height\nGroup.prototype.getHeight = function () {\n\treturn this.outerHeight;\n};\n\nGroup.prototype.getGroup = function () {\n\treturn this;\n};\n\nGroup.prototype.reinitializeHeight = function () {};\nGroup.prototype.calcHeight = function () {};\nGroup.prototype.setCellHeight = function () {};\nGroup.prototype.clearCellHeight = function () {};\n\n//////////////// Object Generation /////////////////\nGroup.prototype.getComponent = function () {\n\tif (!this.component) {\n\t\tthis.component = new GroupComponent(this);\n\t}\n\n\treturn this.component;\n};\n\n//////////////////////////////////////////////////\n////////////// Group Row Extension ///////////////\n//////////////////////////////////////////////////\n\nvar GroupRows = function GroupRows(table) {\n\n\tthis.table = table; //hold Tabulator object\n\n\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\tthis.startOpen = [function () {\n\t\treturn false;\n\t}]; //starting state of group\n\tthis.headerGenerator = [function () {\n\t\treturn \"\";\n\t}];\n\tthis.groupList = []; //ordered list of groups\n\tthis.allowedValues = false;\n\tthis.groups = {}; //hold row groups\n\tthis.displayIndex = 0; //index in display pipeline\n};\n\n//initialize group configuration\nGroupRows.prototype.initialize = function () {\n\tvar self = this,\n\t    groupBy = self.table.options.groupBy,\n\t    startOpen = self.table.options.groupStartOpen,\n\t    groupHeader = self.table.options.groupHeader;\n\n\tthis.allowedValues = self.table.options.groupValues;\n\n\tif (Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length) {\n\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t}\n\n\tself.headerGenerator = [function () {\n\t\treturn \"\";\n\t}];\n\tthis.startOpen = [function () {\n\t\treturn false;\n\t}]; //starting state of group\n\n\tself.table.modules.localize.bind(\"groups|item\", function (langValue, lang) {\n\t\tself.headerGenerator[0] = function (value, count, data) {\n\t\t\t//header layout function\n\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + (count === 1 ? langValue : lang.groups.items) + \")</span>\";\n\t\t};\n\t});\n\n\tthis.groupIDLookups = [];\n\n\tif (Array.isArray(groupBy) || groupBy) {\n\t\tif (this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\") {\n\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t}\n\t} else {\n\t\tif (this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\") {\n\n\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\n\t\t\tcols.forEach(function (col) {\n\t\t\t\tif (col.definition.topCalc) {\n\t\t\t\t\tself.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t}\n\n\t\t\t\tif (col.definition.bottomCalc) {\n\t\t\t\t\tself.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!Array.isArray(groupBy)) {\n\t\tgroupBy = [groupBy];\n\t}\n\n\tgroupBy.forEach(function (group, i) {\n\t\tvar lookupFunc, column;\n\n\t\tif (typeof group == \"function\") {\n\t\t\tlookupFunc = group;\n\t\t} else {\n\t\t\tcolumn = self.table.columnManager.getColumnByField(group);\n\n\t\t\tif (column) {\n\t\t\t\tlookupFunc = function lookupFunc(data) {\n\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlookupFunc = function lookupFunc(data) {\n\t\t\t\t\treturn data[group];\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tself.groupIDLookups.push({\n\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\tfunc: lookupFunc,\n\t\t\tvalues: self.allowedValues ? self.allowedValues[i] : false\n\t\t});\n\t});\n\n\tif (startOpen) {\n\n\t\tif (!Array.isArray(startOpen)) {\n\t\t\tstartOpen = [startOpen];\n\t\t}\n\n\t\tstartOpen.forEach(function (level) {\n\t\t\tlevel = typeof level == \"function\" ? level : function () {\n\t\t\t\treturn true;\n\t\t\t};\n\t\t});\n\n\t\tself.startOpen = startOpen;\n\t}\n\n\tif (groupHeader) {\n\t\tself.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t}\n\n\tthis.initialized = true;\n};\n\nGroupRows.prototype.setDisplayIndex = function (index) {\n\tthis.displayIndex = index;\n};\n\nGroupRows.prototype.getDisplayIndex = function () {\n\treturn this.displayIndex;\n};\n\n//return appropriate rows with group headers\nGroupRows.prototype.getRows = function (rows) {\n\tif (this.groupIDLookups.length) {\n\n\t\tthis.table.options.dataGrouping.call(this.table);\n\n\t\tthis.generateGroups(rows);\n\n\t\tif (this.table.options.dataGrouped) {\n\t\t\tthis.table.options.dataGrouped.call(this.table, this.getGroups(true));\n\t\t}\n\n\t\treturn this.updateGroupRows();\n\t} else {\n\t\treturn rows.slice(0);\n\t}\n};\n\nGroupRows.prototype.getGroups = function (compoment) {\n\tvar groupComponents = [];\n\n\tthis.groupList.forEach(function (group) {\n\t\tgroupComponents.push(compoment ? group.getComponent() : group);\n\t});\n\n\treturn groupComponents;\n};\n\nGroupRows.prototype.getChildGroups = function (group) {\n\tvar _this69 = this;\n\n\tvar groupComponents = [];\n\n\tif (!group) {\n\t\tgroup = this;\n\t}\n\n\tgroup.groupList.forEach(function (child) {\n\t\tif (child.groupList.length) {\n\t\t\tgroupComponents = groupComponents.concat(_this69.getChildGroups(child));\n\t\t} else {\n\t\t\tgroupComponents.push(child);\n\t\t}\n\t});\n\n\treturn groupComponents;\n};\n\nGroupRows.prototype.wipe = function () {\n\tthis.groupList.forEach(function (group) {\n\t\tgroup.wipe();\n\t});\n};\n\nGroupRows.prototype.pullGroupListData = function (groupList) {\n\tvar self = this;\n\tvar groupListData = [];\n\n\tgroupList.forEach(function (group) {\n\t\tvar groupHeader = {};\n\t\tgroupHeader.level = 0;\n\t\tgroupHeader.rowCount = 0;\n\t\tgroupHeader.headerContent = \"\";\n\t\tvar childData = [];\n\n\t\tif (group.hasSubGroups) {\n\t\t\tchildData = self.pullGroupListData(group.groupList);\n\n\t\t\tgroupHeader.level = group.level;\n\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\n\t\t\tgroupListData.push(groupHeader);\n\t\t\tgroupListData = groupListData.concat(childData);\n\t\t} else {\n\t\t\tgroupHeader.level = group.level;\n\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\tgroupHeader.rowCount = group.getRows().length;\n\n\t\t\tgroupListData.push(groupHeader);\n\n\t\t\tgroup.getRows().forEach(function (row) {\n\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t});\n\t\t}\n\t});\n\n\treturn groupListData;\n};\n\nGroupRows.prototype.getGroupedData = function () {\n\n\treturn this.pullGroupListData(this.groupList);\n};\n\nGroupRows.prototype.getRowGroup = function (row) {\n\tvar match = false;\n\n\tthis.groupList.forEach(function (group) {\n\t\tvar result = group.getRowGroup(row);\n\n\t\tif (result) {\n\t\t\tmatch = result;\n\t\t}\n\t});\n\n\treturn match;\n};\n\nGroupRows.prototype.countGroups = function () {\n\treturn this.groupList.length;\n};\n\nGroupRows.prototype.generateGroups = function (rows) {\n\tvar self = this,\n\t    oldGroups = self.groups;\n\n\tself.groups = {};\n\tself.groupList = [];\n\n\tif (this.allowedValues && this.allowedValues[0]) {\n\t\tthis.allowedValues[0].forEach(function (value) {\n\t\t\tself.createGroup(value, 0, oldGroups);\n\t\t});\n\n\t\trows.forEach(function (row) {\n\t\t\tself.assignRowToExistingGroup(row, oldGroups);\n\t\t});\n\t} else {\n\t\trows.forEach(function (row) {\n\t\t\tself.assignRowToGroup(row, oldGroups);\n\t\t});\n\t}\n};\n\nGroupRows.prototype.createGroup = function (groupID, level, oldGroups) {\n\tvar groupKey = level + \"_\" + groupID,\n\t    group;\n\n\toldGroups = oldGroups || [];\n\n\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\n\tthis.groups[groupKey] = group;\n\tthis.groupList.push(group);\n};\n\n// GroupRows.prototype.assignRowToGroup = function(row, oldGroups){\n// \tvar groupID = this.groupIDLookups[0].func(row.getData()),\n// \tgroupKey = \"0_\" + groupID;\n\n// \tif(!this.groups[groupKey]){\n// \t\tthis.createGroup(groupID, 0, oldGroups);\n// \t}\n\n// \tthis.groups[groupKey].addRow(row);\n// };\n\nGroupRows.prototype.assignRowToExistingGroup = function (row, oldGroups) {\n\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t    groupKey = \"0_\" + groupID;\n\n\tif (this.groups[groupKey]) {\n\t\tthis.groups[groupKey].addRow(row);\n\t}\n};\n\nGroupRows.prototype.assignRowToGroup = function (row, oldGroups) {\n\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t    newGroupNeeded = !this.groups[\"0_\" + groupID];\n\n\tif (newGroupNeeded) {\n\t\tthis.createGroup(groupID, 0, oldGroups);\n\t}\n\n\tthis.groups[\"0_\" + groupID].addRow(row);\n\n\treturn !newGroupNeeded;\n};\n\nGroupRows.prototype.reassignRowToGroup = function (row) {\n\tvar oldRowGroup = row.getGroup(),\n\t    oldGroupPath = oldRowGroup.getPath(),\n\t    newGroupPath = this.getExpectedPath(row),\n\t    samePath = true;\n\t// figure out if new group path is the same as old group path\n\tvar samePath = oldGroupPath.length == newGroupPath.length && oldGroupPath.every(function (element, index) {\n\t\treturn element === newGroupPath[index];\n\t});\n\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\tif (!samePath) {\n\t\toldRowGroup.removeRow(row);\n\t\tthis.assignRowToGroup(row, self.groups);\n\t\tthis.table.rowManager.refreshActiveData(\"group\", false, true);\n\t}\n};\n\nGroupRows.prototype.getExpectedPath = function (row) {\n\tvar groupPath = [],\n\t    rowData = row.getData();\n\tthis.groupIDLookups.forEach(function (groupId) {\n\t\tgroupPath.push(groupId.func(rowData));\n\t});\n\treturn groupPath;\n};\n\nGroupRows.prototype.updateGroupRows = function (force) {\n\tvar self = this,\n\t    output = [],\n\t    oldRowCount;\n\n\tself.groupList.forEach(function (group) {\n\t\toutput = output.concat(group.getHeadersAndRows());\n\t});\n\n\t//force update of table display\n\tif (force) {\n\n\t\tvar displayIndex = self.table.rowManager.setDisplayRows(output, this.getDisplayIndex());\n\n\t\tif (displayIndex !== true) {\n\t\t\tthis.setDisplayIndex(displayIndex);\n\t\t}\n\n\t\tself.table.rowManager.refreshActiveData(\"group\", true, true);\n\t}\n\n\treturn output;\n};\n\nGroupRows.prototype.scrollHeaders = function (left) {\n\tif (this.table.options.virtualDomHoz) {\n\t\tleft -= this.table.vdomHoz.vDomPadLeft;\n\t}\n\n\tleft = left + \"px\";\n\n\tthis.groupList.forEach(function (group) {\n\t\tgroup.scrollHeader(left);\n\t});\n};\n\nGroupRows.prototype.removeGroup = function (group) {\n\tvar groupKey = group.level + \"_\" + group.key,\n\t    index;\n\n\tif (this.groups[groupKey]) {\n\t\tdelete this.groups[groupKey];\n\n\t\tindex = this.groupList.indexOf(group);\n\n\t\tif (index > -1) {\n\t\t\tthis.groupList.splice(index, 1);\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"groupRows\", GroupRows);\nvar History = function History(table) {\n\tthis.table = table; //hold Tabulator object\n\n\tthis.history = [];\n\tthis.index = -1;\n};\n\nHistory.prototype.clear = function () {\n\tthis.history = [];\n\tthis.index = -1;\n};\n\nHistory.prototype.action = function (type, component, data) {\n\n\tthis.history = this.history.slice(0, this.index + 1);\n\n\tthis.history.push({\n\t\ttype: type,\n\t\tcomponent: component,\n\t\tdata: data\n\t});\n\n\tthis.index++;\n};\n\nHistory.prototype.getHistoryUndoSize = function () {\n\treturn this.index + 1;\n};\n\nHistory.prototype.getHistoryRedoSize = function () {\n\treturn this.history.length - (this.index + 1);\n};\n\nHistory.prototype.clearComponentHistory = function (component) {\n\tvar index = this.history.findIndex(function (item) {\n\t\treturn item.component === component;\n\t});\n\n\tif (index > -1) {\n\t\tthis.history.splice(index, 1);\n\t\tif (index <= this.index) {\n\t\t\tthis.index--;\n\t\t}\n\n\t\tthis.clearComponentHistory(component);\n\t}\n};\n\nHistory.prototype.undo = function () {\n\n\tif (this.index > -1) {\n\t\tvar action = this.history[this.index];\n\n\t\tthis.undoers[action.type].call(this, action);\n\n\t\tthis.index--;\n\n\t\tthis.table.options.historyUndo.call(this.table, action.type, action.component.getComponent(), action.data);\n\n\t\treturn true;\n\t} else {\n\t\tconsole.warn(\"History Undo Error - No more history to undo\");\n\t\treturn false;\n\t}\n};\n\nHistory.prototype.redo = function () {\n\tif (this.history.length - 1 > this.index) {\n\n\t\tthis.index++;\n\n\t\tvar action = this.history[this.index];\n\n\t\tthis.redoers[action.type].call(this, action);\n\n\t\tthis.table.options.historyRedo.call(this.table, action.type, action.component.getComponent(), action.data);\n\n\t\treturn true;\n\t} else {\n\t\tconsole.warn(\"History Redo Error - No more history to redo\");\n\t\treturn false;\n\t}\n};\n\nHistory.prototype.undoers = {\n\tcellEdit: function cellEdit(action) {\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t},\n\n\trowAdd: function rowAdd(action) {\n\t\taction.component.deleteActual();\n\t},\n\n\trowDelete: function rowDelete(action) {\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowMove: function rowMove(action) {\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posFrom], !action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t}\n};\n\nHistory.prototype.redoers = {\n\tcellEdit: function cellEdit(action) {\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t},\n\n\trowAdd: function rowAdd(action) {\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowDelete: function rowDelete(action) {\n\t\taction.component.deleteActual();\n\t},\n\n\trowMove: function rowMove(action) {\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posTo], action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t}\n};\n\n//rebind rows to new element after deletion\nHistory.prototype._rebindRow = function (oldRow, newRow) {\n\tthis.history.forEach(function (action) {\n\t\tif (action.component instanceof Row) {\n\t\t\tif (action.component === oldRow) {\n\t\t\t\taction.component = newRow;\n\t\t\t}\n\t\t} else if (action.component instanceof Cell) {\n\t\t\tif (action.component.row === oldRow) {\n\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\tif (field) {\n\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nTabulator.prototype.registerModule(\"history\", History);\nvar HtmlTableImport = function HtmlTableImport(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.fieldIndex = [];\n\tthis.hasIndex = false;\n};\n\nHtmlTableImport.prototype.parseTable = function () {\n\tvar self = this,\n\t    element = self.table.element,\n\t    options = self.table.options,\n\t    columns = options.columns,\n\t    headers = element.getElementsByTagName(\"th\"),\n\t    rows = element.getElementsByTagName(\"tbody\")[0],\n\t    data = [],\n\t    newTable;\n\n\tself.hasIndex = false;\n\n\tself.table.options.htmlImporting.call(this.table);\n\n\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t//check for tablator inline options\n\tself._extractOptions(element, options);\n\n\tif (headers.length) {\n\t\tself._extractHeaders(headers, rows);\n\t} else {\n\t\tself._generateBlankHeaders(headers, rows);\n\t}\n\n\t//iterate through table rows and build data set\n\tfor (var index = 0; index < rows.length; index++) {\n\t\tvar row = rows[index],\n\t\t    cells = row.getElementsByTagName(\"td\"),\n\t\t    item = {};\n\n\t\t//create index if the dont exist in table\n\t\tif (!self.hasIndex) {\n\t\t\titem[options.index] = index;\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tvar cell = cells[i];\n\t\t\tif (typeof this.fieldIndex[i] !== \"undefined\") {\n\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t}\n\t\t}\n\n\t\t//add row data to item\n\t\tdata.push(item);\n\t}\n\n\t//create new element\n\tvar newElement = document.createElement(\"div\");\n\n\t//transfer attributes to new element\n\tvar attributes = element.attributes;\n\n\t// loop through attributes and apply them on div\n\n\tfor (var i in attributes) {\n\t\tif (_typeof(attributes[i]) == \"object\") {\n\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t}\n\t}\n\n\t// replace table with div element\n\telement.parentNode.replaceChild(newElement, element);\n\n\toptions.data = data;\n\n\tself.table.options.htmlImported.call(this.table);\n\n\t// // newElement.tabulator(options);\n\n\tthis.table.element = newElement;\n};\n\n//extract tabulator attribute options\nHtmlTableImport.prototype._extractOptions = function (element, options, defaultOptions) {\n\tvar attributes = element.attributes;\n\tvar optionsArr = defaultOptions ? Object.assign([], defaultOptions) : Object.keys(options);\n\tvar optionsList = {};\n\n\toptionsArr.forEach(function (item) {\n\t\toptionsList[item.toLowerCase()] = item;\n\t});\n\n\tfor (var index in attributes) {\n\t\tvar attrib = attributes[index];\n\t\tvar name;\n\n\t\tif (attrib && (typeof attrib === 'undefined' ? 'undefined' : _typeof(attrib)) == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0) {\n\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\tif (typeof optionsList[name] !== \"undefined\") {\n\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t}\n\t\t}\n\t}\n};\n\n//get value of attribute\nHtmlTableImport.prototype._attribValue = function (value) {\n\tif (value === \"true\") {\n\t\treturn true;\n\t}\n\n\tif (value === \"false\") {\n\t\treturn false;\n\t}\n\n\treturn value;\n};\n\n//find column if it has already been defined\nHtmlTableImport.prototype._findCol = function (title) {\n\tvar match = this.table.options.columns.find(function (column) {\n\t\treturn column.title === title;\n\t});\n\n\treturn match || false;\n};\n\n//extract column from headers\nHtmlTableImport.prototype._extractHeaders = function (headers, rows) {\n\tfor (var index = 0; index < headers.length; index++) {\n\t\tvar header = headers[index],\n\t\t    exists = false,\n\t\t    col = this._findCol(header.textContent),\n\t\t    width,\n\t\t    attributes;\n\n\t\tif (col) {\n\t\t\texists = true;\n\t\t} else {\n\t\t\tcol = { title: header.textContent.trim() };\n\t\t}\n\n\t\tif (!col.field) {\n\t\t\tcol.field = header.textContent.trim().toLowerCase().replace(\" \", \"_\");\n\t\t}\n\n\t\twidth = header.getAttribute(\"width\");\n\n\t\tif (width && !col.width) {\n\t\t\tcol.width = width;\n\t\t}\n\n\t\t//check for tablator inline options\n\t\tattributes = header.attributes;\n\n\t\t// //check for tablator inline options\n\t\tthis._extractOptions(header, col, Column.prototype.defaultOptionList);\n\n\t\tthis.fieldIndex[index] = col.field;\n\n\t\tif (col.field == this.table.options.index) {\n\t\t\tthis.hasIndex = true;\n\t\t}\n\n\t\tif (!exists) {\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n};\n\n//generate blank headers\nHtmlTableImport.prototype._generateBlankHeaders = function (headers, rows) {\n\tfor (var index = 0; index < headers.length; index++) {\n\t\tvar header = headers[index],\n\t\t    col = { title: \"\", field: \"col\" + index };\n\n\t\tthis.fieldIndex[index] = col.field;\n\n\t\tvar width = header.getAttribute(\"width\");\n\n\t\tif (width) {\n\t\t\tcol.width = width;\n\t\t}\n\n\t\tthis.table.options.columns.push(col);\n\t}\n};\n\nTabulator.prototype.registerModule(\"htmlTableImport\", HtmlTableImport);\nvar Keybindings = function Keybindings(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.watchKeys = null;\n\tthis.pressedKeys = null;\n\tthis.keyupBinding = false;\n\tthis.keydownBinding = false;\n};\n\nKeybindings.prototype.initialize = function () {\n\tvar bindings = this.table.options.keybindings,\n\t    mergedBindings = {};\n\n\tthis.watchKeys = {};\n\tthis.pressedKeys = [];\n\n\tif (bindings !== false) {\n\n\t\tfor (var key in this.bindings) {\n\t\t\tmergedBindings[key] = this.bindings[key];\n\t\t}\n\n\t\tif (Object.keys(bindings).length) {\n\n\t\t\tfor (var _key in bindings) {\n\t\t\t\tmergedBindings[_key] = bindings[_key];\n\t\t\t}\n\t\t}\n\n\t\tthis.mapBindings(mergedBindings);\n\t\tthis.bindEvents();\n\t}\n};\n\nKeybindings.prototype.mapBindings = function (bindings) {\n\tvar _this70 = this;\n\n\tvar self = this;\n\n\tvar _loop2 = function _loop2(key) {\n\n\t\tif (_this70.actions[key]) {\n\n\t\t\tif (bindings[key]) {\n\n\t\t\t\tif (_typeof(bindings[key]) !== \"object\") {\n\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t}\n\n\t\t\t\tbindings[key].forEach(function (binding) {\n\t\t\t\t\tself.mapBinding(key, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t}\n\t};\n\n\tfor (var key in bindings) {\n\t\t_loop2(key);\n\t}\n};\n\nKeybindings.prototype.mapBinding = function (action, symbolsList) {\n\tvar self = this;\n\n\tvar binding = {\n\t\taction: this.actions[action],\n\t\tkeys: [],\n\t\tctrl: false,\n\t\tshift: false,\n\t\tmeta: false\n\t};\n\n\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\tsymbols.forEach(function (symbol) {\n\t\tswitch (symbol) {\n\t\t\tcase \"ctrl\":\n\t\t\t\tbinding.ctrl = true;\n\t\t\t\tbreak;\n\n\t\t\tcase \"shift\":\n\t\t\t\tbinding.shift = true;\n\t\t\t\tbreak;\n\n\t\t\tcase \"meta\":\n\t\t\t\tbinding.meta = true;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsymbol = parseInt(symbol);\n\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\tif (!self.watchKeys[symbol]) {\n\t\t\t\t\tself.watchKeys[symbol] = [];\n\t\t\t\t}\n\n\t\t\t\tself.watchKeys[symbol].push(binding);\n\t\t}\n\t});\n};\n\nKeybindings.prototype.bindEvents = function () {\n\tvar self = this;\n\n\tthis.keyupBinding = function (e) {\n\t\tvar code = e.keyCode;\n\t\tvar bindings = self.watchKeys[code];\n\n\t\tif (bindings) {\n\n\t\t\tself.pressedKeys.push(code);\n\n\t\t\tbindings.forEach(function (binding) {\n\t\t\t\tself.checkBinding(e, binding);\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.keydownBinding = function (e) {\n\t\tvar code = e.keyCode;\n\t\tvar bindings = self.watchKeys[code];\n\n\t\tif (bindings) {\n\n\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\tif (index > -1) {\n\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n};\n\nKeybindings.prototype.clearBindings = function () {\n\tif (this.keyupBinding) {\n\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t}\n\n\tif (this.keydownBinding) {\n\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t}\n};\n\nKeybindings.prototype.checkBinding = function (e, binding) {\n\tvar self = this,\n\t    match = true;\n\n\tif (e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta) {\n\t\tbinding.keys.forEach(function (key) {\n\t\t\tvar index = self.pressedKeys.indexOf(key);\n\n\t\t\tif (index == -1) {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\t\tif (match) {\n\t\t\tbinding.action.call(self, e);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n//default bindings\nKeybindings.prototype.bindings = {\n\tnavPrev: \"shift + 9\",\n\tnavNext: 9,\n\tnavUp: 38,\n\tnavDown: 40,\n\tscrollPageUp: 33,\n\tscrollPageDown: 34,\n\tscrollToStart: 36,\n\tscrollToEnd: 35,\n\tundo: \"ctrl + 90\",\n\tredo: \"ctrl + 89\",\n\tcopyToClipboard: \"ctrl + 67\"\n};\n\n//default actions\nKeybindings.prototype.actions = {\n\tkeyBlock: function keyBlock(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp: function scrollPageUp(e) {\n\t\tvar rowManager = this.table.rowManager,\n\t\t    newPos = rowManager.scrollTop - rowManager.height,\n\t\t    scrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif (rowManager.displayRowsCount) {\n\t\t\tif (newPos >= 0) {\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t} else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown: function scrollPageDown(e) {\n\t\tvar rowManager = this.table.rowManager,\n\t\t    newPos = rowManager.scrollTop + rowManager.height,\n\t\t    scrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif (rowManager.displayRowsCount) {\n\t\t\tif (newPos <= scrollMax) {\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t} else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToStart: function scrollToStart(e) {\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif (rowManager.displayRowsCount) {\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd: function scrollToEnd(e) {\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif (rowManager.displayRowsCount) {\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev: function navPrev(e) {\n\t\tvar cell = false;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcell.nav().prev();\n\t\t\t}\n\t\t}\n\t},\n\n\tnavNext: function navNext(e) {\n\t\tvar cell = false;\n\t\tvar newRow = this.table.options.tabEndNewRow;\n\t\tvar nav;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tnav = cell.nav();\n\n\t\t\t\tif (!nav.next()) {\n\t\t\t\t\tif (newRow) {\n\n\t\t\t\t\t\tcell.getElement().firstChild.blur();\n\n\t\t\t\t\t\tif (newRow === true) {\n\t\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (typeof newRow == \"function\") {\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewRow.then(function () {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tnav.next();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tnavLeft: function navLeft(e) {\n\t\tvar cell = false;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcell.nav().left();\n\t\t\t}\n\t\t}\n\t},\n\n\tnavRight: function navRight(e) {\n\t\tvar cell = false;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcell.nav().right();\n\t\t\t}\n\t\t}\n\t},\n\n\tnavUp: function navUp(e) {\n\t\tvar cell = false;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcell.nav().up();\n\t\t\t}\n\t\t}\n\t},\n\n\tnavDown: function navDown(e) {\n\t\tvar cell = false;\n\n\t\tif (this.table.modExists(\"edit\")) {\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcell.nav().down();\n\t\t\t}\n\t\t}\n\t},\n\n\tundo: function undo(e) {\n\t\tvar cell = false;\n\t\tif (this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")) {\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (!cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo: function redo(e) {\n\t\tvar cell = false;\n\t\tif (this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")) {\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif (!cell) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard: function copyToClipboard(e) {\n\t\tif (!this.table.modules.edit.currentCell) {\n\t\t\tif (this.table.modExists(\"clipboard\", true)) {\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"keybindings\", Keybindings);\nvar Menu = function Menu(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.menuEl = false;\n\tthis.blurEvent = this.hideMenu.bind(this);\n\tthis.escEvent = this.escMenu.bind(this);\n\tthis.nestedMenuBlock = false;\n};\n\nMenu.prototype.initializeColumnHeader = function (column) {\n\tvar _this71 = this;\n\n\tvar headerMenuEl;\n\n\tif (column.definition.headerContextMenu) {\n\t\tcolumn.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, column, column.definition.headerContextMenu));\n\t\tthis.tapHold(column, column.definition.headerContextMenu);\n\t}\n\n\t// if(column.definition.headerClickMenu){\n\t// \tcolumn.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, column, column.definition.headerClickMenu));\n\t// }\n\n\tif (column.definition.headerMenu) {\n\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-menu-button\");\n\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\n\t\theaderMenuEl.addEventListener(\"click\", function (e) {\n\t\t\tvar menu = typeof column.definition.headerMenu == \"function\" ? column.definition.headerMenu(column.getComponent(), e) : column.definition.headerMenu;\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\t_this71.loadMenu(e, column, menu);\n\t\t});\n\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n};\n\nMenu.prototype.LoadMenuEvent = function (component, menu, e) {\n\tmenu = typeof menu == \"function\" ? menu(component.getComponent(), e) : menu;\n\n\t// if(component instanceof Cell){\n\t// \te.stopImmediatePropagation();\n\t// }\n\n\tthis.loadMenu(e, component, menu);\n};\n\nMenu.prototype.tapHold = function (component, menu) {\n\tvar _this72 = this;\n\n\tvar element = component.getElement(),\n\t    tapHold = null,\n\t    loaded = false;\n\n\telement.addEventListener(\"touchstart\", function (e) {\n\t\tclearTimeout(tapHold);\n\t\tloaded = false;\n\n\t\ttapHold = setTimeout(function () {\n\t\t\tclearTimeout(tapHold);\n\t\t\ttapHold = null;\n\t\t\tloaded = true;\n\n\t\t\t_this72.LoadMenuEvent(component, menu, e);\n\t\t}, 1000);\n\t}, { passive: true });\n\n\telement.addEventListener(\"touchend\", function (e) {\n\t\tclearTimeout(tapHold);\n\t\ttapHold = null;\n\n\t\tif (loaded) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n};\n\nMenu.prototype.initializeCell = function (cell) {\n\tif (cell.column.definition.contextMenu) {\n\t\tcell.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, cell, cell.column.definition.contextMenu));\n\t\tthis.tapHold(cell, cell.column.definition.contextMenu);\n\t}\n\n\tif (cell.column.definition.clickMenu) {\n\t\tcell.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, cell, cell.column.definition.clickMenu));\n\t}\n};\n\nMenu.prototype.initializeRow = function (row) {\n\tif (this.table.options.rowContextMenu) {\n\t\trow.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, row, this.table.options.rowContextMenu));\n\t\tthis.tapHold(row, this.table.options.rowContextMenu);\n\t}\n\n\tif (this.table.options.rowClickMenu) {\n\t\trow.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, row, this.table.options.rowClickMenu));\n\t}\n};\n\nMenu.prototype.initializeGroup = function (group) {\n\tif (this.table.options.groupContextMenu) {\n\t\tgroup.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, group, this.table.options.groupContextMenu));\n\t\tthis.tapHold(group, this.table.options.groupContextMenu);\n\t}\n\n\tif (this.table.options.groupClickMenu) {\n\t\tgroup.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, group, this.table.options.groupClickMenu));\n\t}\n};\n\nMenu.prototype.loadMenu = function (e, component, menu) {\n\tvar _this73 = this;\n\n\tvar docHeight = Math.max(document.body.offsetHeight, window.innerHeight),\n\t    touch = !(e instanceof MouseEvent);\n\n\tif (!touch) {\n\t\te.preventDefault();\n\t}\n\n\t//abort if no menu set\n\tif (!menu || !menu.length) {\n\t\treturn;\n\t}\n\n\tif (this.nestedMenuBlock) {\n\t\t//abort if child menu already open\n\t\tif (this.isOpen()) {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\tthis.nestedMenuBlock = setTimeout(function () {\n\t\t\t_this73.nestedMenuBlock = false;\n\t\t}, 100);\n\t}\n\n\tthis.hideMenu();\n\n\tthis.menuEl = document.createElement(\"div\");\n\tthis.menuEl.classList.add(\"tabulator-menu\");\n\n\tmenu.forEach(function (item) {\n\t\tvar itemEl = document.createElement(\"div\");\n\t\tvar label = item.label;\n\t\tvar disabled = item.disabled;\n\n\t\tif (item.separator) {\n\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t} else {\n\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\n\t\t\tif (typeof label == \"function\") {\n\t\t\t\tlabel = label(component.getComponent());\n\t\t\t}\n\n\t\t\tif (label instanceof Node) {\n\t\t\t\titemEl.appendChild(label);\n\t\t\t} else {\n\t\t\t\titemEl.innerHTML = label;\n\t\t\t}\n\n\t\t\tif (typeof disabled == \"function\") {\n\t\t\t\tdisabled = disabled(component.getComponent());\n\t\t\t}\n\n\t\t\tif (disabled) {\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\titemEl.addEventListener(\"click\", function (e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titemEl.addEventListener(\"click\", function (e) {\n\t\t\t\t\t_this73.hideMenu();\n\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t_this73.menuEl.appendChild(itemEl);\n\t});\n\n\tthis.menuEl.style.top = (touch ? e.touches[0].pageY : e.pageY) + \"px\";\n\tthis.menuEl.style.left = (touch ? e.touches[0].pageX : e.pageX) + \"px\";\n\n\tsetTimeout(function () {\n\t\t_this73.table.rowManager.element.addEventListener(\"scroll\", _this73.blurEvent);\n\t\tdocument.body.addEventListener(\"click\", _this73.blurEvent);\n\t\tdocument.body.addEventListener(\"contextmenu\", _this73.blurEvent);\n\t\tdocument.body.addEventListener(\"keydown\", _this73.escEvent);\n\t}, 100);\n\n\tdocument.body.appendChild(this.menuEl);\n\n\t//move menu to start on right edge if it is too close to the edge of the screen\n\tif (e.pageX + this.menuEl.offsetWidth >= document.body.offsetWidth) {\n\t\tthis.menuEl.style.left = \"\";\n\t\tthis.menuEl.style.right = document.body.offsetWidth - e.pageX + \"px\";\n\t}\n\n\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\tif (e.pageY + this.menuEl.offsetHeight >= docHeight) {\n\t\tthis.menuEl.style.top = \"\";\n\t\tthis.menuEl.style.bottom = docHeight - e.pageY + \"px\";\n\t}\n};\n\nMenu.prototype.isOpen = function () {\n\treturn !!this.menuEl.parentNode;\n};\n\nMenu.prototype.escMenu = function (e) {\n\tif (e.keyCode == 27) {\n\t\tthis.hideMenu();\n\t}\n};\n\nMenu.prototype.hideMenu = function () {\n\tif (this.menuEl.parentNode) {\n\t\tthis.menuEl.parentNode.removeChild(this.menuEl);\n\t}\n\n\tif (this.escEvent) {\n\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t}\n\n\tif (this.blurEvent) {\n\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t}\n};\n\n//default accessors\nMenu.prototype.menus = {};\n\nTabulator.prototype.registerModule(\"menu\", Menu);\nvar MoveColumns = function MoveColumns(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.placeholderElement = this.createPlaceholderElement();\n\tthis.hoverElement = false; //floating column header element\n\tthis.checkTimeout = false; //click check timeout holder\n\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\tthis.moving = false; //currently moving column\n\tthis.toCol = false; //destination column\n\tthis.toColAfter = false; //position of moving column relative to the desitnation column\n\tthis.startX = 0; //starting position within header element\n\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\tthis.autoScrollTimeout = false; //auto scroll timeout\n\tthis.touchMove = false;\n\n\tthis.moveHover = this.moveHover.bind(this);\n\tthis.endMove = this.endMove.bind(this);\n};\n\nMoveColumns.prototype.createPlaceholderElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-col\");\n\tel.classList.add(\"tabulator-col-placeholder\");\n\n\treturn el;\n};\n\nMoveColumns.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    config = {},\n\t    colEl;\n\n\tif (!column.modules.frozen) {\n\n\t\tcolEl = column.getElement();\n\n\t\tconfig.mousemove = function (e) {\n\t\t\tif (column.parent === self.moving.parent) {\n\t\t\t\tif ((self.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(colEl).left + self.table.columnManager.element.scrollLeft > column.getWidth() / 2) {\n\t\t\t\t\tif (self.toCol !== column || !self.toColAfter) {\n\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (self.toCol !== column || self.toColAfter) {\n\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tcolEl.addEventListener(\"mousedown\", function (e) {\n\t\t\tself.touchMove = false;\n\t\t\tif (e.which === 1) {\n\t\t\t\tself.checkTimeout = setTimeout(function () {\n\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t}, self.checkPeriod);\n\t\t\t}\n\t\t});\n\n\t\tcolEl.addEventListener(\"mouseup\", function (e) {\n\t\t\tif (e.which === 1) {\n\t\t\t\tif (self.checkTimeout) {\n\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tself.bindTouchEvents(column);\n\t}\n\n\tcolumn.modules.moveColumn = config;\n};\n\nMoveColumns.prototype.bindTouchEvents = function (column) {\n\tvar self = this,\n\t    colEl = column.getElement(),\n\t    startXMove = false,\n\t    //shifting center position of the cell\n\tdir = false,\n\t    currentCol,\n\t    nextCol,\n\t    prevCol,\n\t    nextColWidth,\n\t    prevColWidth,\n\t    nextColWidthLast,\n\t    prevColWidthLast;\n\n\tcolEl.addEventListener(\"touchstart\", function (e) {\n\t\tself.checkTimeout = setTimeout(function () {\n\t\t\tself.touchMove = true;\n\t\t\tcurrentCol = column;\n\t\t\tnextCol = column.nextColumn();\n\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\tprevCol = column.prevColumn();\n\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\tnextColWidthLast = 0;\n\t\t\tprevColWidthLast = 0;\n\t\t\tstartXMove = false;\n\n\t\t\tself.startMove(e, column);\n\t\t}, self.checkPeriod);\n\t}, { passive: true });\n\n\tcolEl.addEventListener(\"touchmove\", function (e) {\n\t\tvar halfCol, diff, moveToCol;\n\n\t\tif (self.moving) {\n\t\t\tself.moveHover(e);\n\n\t\t\tif (!startXMove) {\n\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t}\n\n\t\t\tdiff = e.touches[0].pageX - startXMove;\n\n\t\t\tif (diff > 0) {\n\t\t\t\tif (nextCol && diff - nextColWidthLast > nextColWidth) {\n\t\t\t\t\tmoveToCol = nextCol;\n\n\t\t\t\t\tif (moveToCol !== column) {\n\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(self.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\tself.moveColumn(moveToCol, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (prevCol && -diff - prevColWidthLast > prevColWidth) {\n\t\t\t\t\tmoveToCol = prevCol;\n\n\t\t\t\t\tif (moveToCol !== column) {\n\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(self.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\tself.moveColumn(moveToCol, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (moveToCol) {\n\t\t\t\tcurrentCol = moveToCol;\n\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t}\n\t\t}\n\t}, { passive: true });\n\n\tcolEl.addEventListener(\"touchend\", function (e) {\n\t\tif (self.checkTimeout) {\n\t\t\tclearTimeout(self.checkTimeout);\n\t\t}\n\t\tif (self.moving) {\n\t\t\tself.endMove(e);\n\t\t}\n\t});\n};\n\nMoveColumns.prototype.startMove = function (e, column) {\n\tvar element = column.getElement();\n\n\tthis.moving = column;\n\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(element).left;\n\n\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t//create placeholder\n\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\n\telement.parentNode.insertBefore(this.placeholderElement, element);\n\telement.parentNode.removeChild(element);\n\n\t//create hover element\n\tthis.hoverElement = element.cloneNode(true);\n\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\tthis.table.columnManager.getElement().appendChild(this.hoverElement);\n\n\tthis.hoverElement.style.left = \"0\";\n\tthis.hoverElement.style.bottom = \"0\";\n\n\tif (!this.touchMove) {\n\t\tthis._bindMouseMove();\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t}\n\n\tthis.moveHover(e);\n};\n\nMoveColumns.prototype._bindMouseMove = function () {\n\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\n\t\tif (column.modules.moveColumn.mousemove) {\n\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t}\n\t});\n};\n\nMoveColumns.prototype._unbindMouseMove = function () {\n\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\n\t\tif (column.modules.moveColumn.mousemove) {\n\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t}\n\t});\n};\n\nMoveColumns.prototype.moveColumn = function (column, after) {\n\tvar movingCells = this.moving.getCells();\n\n\tthis.toCol = column;\n\tthis.toColAfter = after;\n\n\tif (after) {\n\t\tcolumn.getCells().forEach(function (cell, i) {\n\t\t\tvar cellEl = cell.getElement();\n\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t});\n\t} else {\n\t\tcolumn.getCells().forEach(function (cell, i) {\n\t\t\tvar cellEl = cell.getElement();\n\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t});\n\t}\n};\n\nMoveColumns.prototype.endMove = function (e) {\n\tif (e.which === 1 || this.touchMove) {\n\t\tthis._unbindMouseMove();\n\n\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\tif (this.toCol) {\n\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t}\n\n\t\tthis.moving = false;\n\t\tthis.toCol = false;\n\t\tthis.toColAfter = false;\n\n\t\tif (!this.touchMove) {\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t}\n};\n\nMoveColumns.prototype.moveHover = function (e) {\n\tvar self = this,\n\t    columnHolder = self.table.columnManager.getElement(),\n\t    scrollLeft = columnHolder.scrollLeft,\n\t    xPos = (self.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(columnHolder).left + scrollLeft,\n\t    scrollPos;\n\n\tself.hoverElement.style.left = xPos - self.startX + \"px\";\n\n\tif (xPos - scrollLeft < self.autoScrollMargin) {\n\t\tif (!self.autoScrollTimeout) {\n\t\t\tself.autoScrollTimeout = setTimeout(function () {\n\t\t\t\tscrollPos = Math.max(0, scrollLeft - 5);\n\t\t\t\tself.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\tself.autoScrollTimeout = false;\n\t\t\t}, 1);\n\t\t}\n\t}\n\n\tif (scrollLeft + columnHolder.clientWidth - xPos < self.autoScrollMargin) {\n\t\tif (!self.autoScrollTimeout) {\n\t\t\tself.autoScrollTimeout = setTimeout(function () {\n\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft + 5);\n\t\t\t\tself.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\tself.autoScrollTimeout = false;\n\t\t\t}, 1);\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"moveColumn\", MoveColumns);\n\nvar MoveRows = function MoveRows(table) {\n\n\tthis.table = table; //hold Tabulator object\n\tthis.placeholderElement = this.createPlaceholderElement();\n\tthis.hoverElement = false; //floating row header element\n\tthis.checkTimeout = false; //click check timeout holder\n\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\tthis.moving = false; //currently moving row\n\tthis.toRow = false; //destination row\n\tthis.toRowAfter = false; //position of moving row relative to the desitnation row\n\tthis.hasHandle = false; //row has handle instead of fully movable row\n\tthis.startY = 0; //starting Y position within header element\n\tthis.startX = 0; //starting X position within header element\n\n\tthis.moveHover = this.moveHover.bind(this);\n\tthis.endMove = this.endMove.bind(this);\n\tthis.tableRowDropEvent = false;\n\n\tthis.touchMove = false;\n\n\tthis.connection = false;\n\tthis.connectionSelectorsTables = false;\n\tthis.connectionSelectorsElements = false;\n\tthis.connectionElements = [];\n\tthis.connections = [];\n\n\tthis.connectedTable = false;\n\tthis.connectedRow = false;\n};\n\nMoveRows.prototype.createPlaceholderElement = function () {\n\tvar el = document.createElement(\"div\");\n\n\tel.classList.add(\"tabulator-row\");\n\tel.classList.add(\"tabulator-row-placeholder\");\n\n\treturn el;\n};\n\nMoveRows.prototype.initialize = function (handle) {\n\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n};\n\nMoveRows.prototype.setHandle = function (handle) {\n\tthis.hasHandle = handle;\n};\n\nMoveRows.prototype.initializeGroupHeader = function (group) {\n\tvar self = this,\n\t    config = {},\n\t    rowEl;\n\n\t//inter table drag drop\n\tconfig.mouseup = function (e) {\n\t\tself.tableRowDrop(e, row);\n\t}.bind(self);\n\n\t//same table drag drop\n\tconfig.mousemove = function (e) {\n\t\tif (e.pageY - Tabulator.prototype.helpers.elOffset(group.element).top + self.table.rowManager.element.scrollTop > group.getHeight() / 2) {\n\t\t\tif (self.toRow !== group || !self.toRowAfter) {\n\t\t\t\tvar rowEl = group.getElement();\n\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\tself.moveRow(group, true);\n\t\t\t}\n\t\t} else {\n\t\t\tif (self.toRow !== group || self.toRowAfter) {\n\t\t\t\tvar rowEl = group.getElement();\n\t\t\t\tif (rowEl.previousSibling) {\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}.bind(self);\n\n\tgroup.modules.moveRow = config;\n};\n\nMoveRows.prototype.initializeRow = function (row) {\n\tvar self = this,\n\t    config = {},\n\t    rowEl;\n\n\t//inter table drag drop\n\tconfig.mouseup = function (e) {\n\t\tself.tableRowDrop(e, row);\n\t}.bind(self);\n\n\t//same table drag drop\n\tconfig.mousemove = function (e) {\n\t\tif (e.pageY - Tabulator.prototype.helpers.elOffset(row.element).top + self.table.rowManager.element.scrollTop > row.getHeight() / 2) {\n\t\t\tif (self.toRow !== row || !self.toRowAfter) {\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\tself.moveRow(row, true);\n\t\t\t}\n\t\t} else {\n\t\t\tif (self.toRow !== row || self.toRowAfter) {\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\tself.moveRow(row, false);\n\t\t\t}\n\t\t}\n\t}.bind(self);\n\n\tif (!this.hasHandle) {\n\n\t\trowEl = row.getElement();\n\n\t\trowEl.addEventListener(\"mousedown\", function (e) {\n\t\t\tif (e.which === 1) {\n\t\t\t\tself.checkTimeout = setTimeout(function () {\n\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t}, self.checkPeriod);\n\t\t\t}\n\t\t});\n\n\t\trowEl.addEventListener(\"mouseup\", function (e) {\n\t\t\tif (e.which === 1) {\n\t\t\t\tif (self.checkTimeout) {\n\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.bindTouchEvents(row, row.getElement());\n\t}\n\n\trow.modules.moveRow = config;\n};\n\nMoveRows.prototype.initializeCell = function (cell) {\n\tvar self = this,\n\t    cellEl = cell.getElement();\n\n\tcellEl.addEventListener(\"mousedown\", function (e) {\n\t\tif (e.which === 1) {\n\t\t\tself.checkTimeout = setTimeout(function () {\n\t\t\t\tself.startMove(e, cell.row);\n\t\t\t}, self.checkPeriod);\n\t\t}\n\t});\n\n\tcellEl.addEventListener(\"mouseup\", function (e) {\n\t\tif (e.which === 1) {\n\t\t\tif (self.checkTimeout) {\n\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.bindTouchEvents(cell.row, cell.getElement());\n};\n\nMoveRows.prototype.bindTouchEvents = function (row, element) {\n\tvar self = this,\n\t    startYMove = false,\n\t    //shifting center position of the cell\n\tdir = false,\n\t    currentRow,\n\t    nextRow,\n\t    prevRow,\n\t    nextRowHeight,\n\t    prevRowHeight,\n\t    nextRowHeightLast,\n\t    prevRowHeightLast;\n\n\telement.addEventListener(\"touchstart\", function (e) {\n\t\tself.checkTimeout = setTimeout(function () {\n\t\t\tself.touchMove = true;\n\t\t\tcurrentRow = row;\n\t\t\tnextRow = row.nextRow();\n\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\tprevRow = row.prevRow();\n\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\tnextRowHeightLast = 0;\n\t\t\tprevRowHeightLast = 0;\n\t\t\tstartYMove = false;\n\n\t\t\tself.startMove(e, row);\n\t\t}, self.checkPeriod);\n\t}, { passive: true });\n\tthis.moving, this.toRow, this.toRowAfter;\n\telement.addEventListener(\"touchmove\", function (e) {\n\n\t\tvar halfCol, diff, moveToRow;\n\n\t\tif (self.moving) {\n\t\t\te.preventDefault();\n\n\t\t\tself.moveHover(e);\n\n\t\t\tif (!startYMove) {\n\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t}\n\n\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\tif (diff > 0) {\n\t\t\t\tif (nextRow && diff - nextRowHeightLast > nextRowHeight) {\n\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\tif (moveToRow !== row) {\n\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(self.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\tself.moveRow(moveToRow, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (prevRow && -diff - prevRowHeightLast > prevRowHeight) {\n\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\tif (moveToRow !== row) {\n\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(self.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\tself.moveRow(moveToRow, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (moveToRow) {\n\t\t\t\tcurrentRow = moveToRow;\n\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t}\n\t\t}\n\t});\n\n\telement.addEventListener(\"touchend\", function (e) {\n\t\tif (self.checkTimeout) {\n\t\t\tclearTimeout(self.checkTimeout);\n\t\t}\n\t\tif (self.moving) {\n\t\t\tself.endMove(e);\n\t\t\tself.touchMove = false;\n\t\t}\n\t});\n};\n\nMoveRows.prototype._bindMouseMove = function () {\n\tvar self = this;\n\n\tself.table.rowManager.getDisplayRows().forEach(function (row) {\n\t\tif ((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow.mousemove) {\n\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t}\n\t});\n};\n\nMoveRows.prototype._unbindMouseMove = function () {\n\tvar self = this;\n\n\tself.table.rowManager.getDisplayRows().forEach(function (row) {\n\t\tif ((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow.mousemove) {\n\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t}\n\t});\n};\n\nMoveRows.prototype.startMove = function (e, row) {\n\tvar element = row.getElement();\n\n\tthis.setStartPosition(e, row);\n\n\tthis.moving = row;\n\n\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t//create placeholder\n\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\tif (!this.connection) {\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t} else {\n\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\tthis.connectToTables(row);\n\t}\n\n\t//create hover element\n\tthis.hoverElement = element.cloneNode(true);\n\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\tif (this.connection) {\n\t\tdocument.body.appendChild(this.hoverElement);\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.top = \"0\";\n\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t} else {\n\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.top = \"0\";\n\n\t\tthis._bindMouseMove();\n\t}\n\n\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\tthis.moveHover(e);\n};\n\nMoveRows.prototype.setStartPosition = function (e, row) {\n\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t    pageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t    element,\n\t    position;\n\n\telement = row.getElement();\n\tif (this.connection) {\n\t\tposition = element.getBoundingClientRect();\n\n\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t} else {\n\t\tthis.startY = pageY - element.getBoundingClientRect().top;\n\t}\n};\n\nMoveRows.prototype.endMove = function (e) {\n\tif (!e || e.which === 1 || this.touchMove) {\n\t\tthis._unbindMouseMove();\n\n\t\tif (!this.connection) {\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t}\n\n\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\tif (this.toRow) {\n\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t}\n\n\t\tthis.moving = false;\n\t\tthis.toRow = false;\n\t\tthis.toRowAfter = false;\n\n\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\tif (this.connection) {\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\tthis.disconnectFromTables();\n\t\t}\n\t}\n};\n\nMoveRows.prototype.moveRow = function (row, after) {\n\tthis.toRow = row;\n\tthis.toRowAfter = after;\n};\n\nMoveRows.prototype.moveHover = function (e) {\n\tif (this.connection) {\n\t\tthis.moveHoverConnections.call(this, e);\n\t} else {\n\t\tthis.moveHoverTable.call(this, e);\n\t}\n};\n\nMoveRows.prototype.moveHoverTable = function (e) {\n\tvar rowHolder = this.table.rowManager.getElement(),\n\t    scrollTop = rowHolder.scrollTop,\n\t    yPos = (this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top + scrollTop,\n\t    scrollPos;\n\n\tthis.hoverElement.style.top = yPos - this.startY + \"px\";\n};\n\nMoveRows.prototype.moveHoverConnections = function (e) {\n\tthis.hoverElement.style.left = this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX) + \"px\";\n\tthis.hoverElement.style.top = this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY) + \"px\";\n};\n\nMoveRows.prototype.elementRowDrop = function (e, element, row) {\n\tif (this.table.options.movableRowsElementDrop) {\n\t\tthis.table.options.movableRowsElementDrop(e, element, row ? row.getComponent() : false);\n\t}\n};\n\n//establish connection with other tables\nMoveRows.prototype.connectToTables = function (row) {\n\tvar _this74 = this;\n\n\tvar connectionTables;\n\n\tif (this.connectionSelectorsTables) {\n\t\tconnectionTables = this.table.modules.comms.getConnections(this.connectionSelectorsTables);\n\n\t\tthis.table.options.movableRowsSendingStart.call(this.table, connectionTables);\n\n\t\tthis.table.modules.comms.send(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\trow: row\n\t\t});\n\t}\n\n\tif (this.connectionSelectorsElements) {\n\n\t\tthis.connectionElements = [];\n\n\t\tif (!Array.isArray(this.connectionSelectorsElements)) {\n\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t}\n\n\t\tthis.connectionSelectorsElements.forEach(function (query) {\n\t\t\tif (typeof query === \"string\") {\n\t\t\t\t_this74.connectionElements = _this74.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t} else {\n\t\t\t\t_this74.connectionElements.push(query);\n\t\t\t}\n\t\t});\n\n\t\tthis.connectionElements.forEach(function (element) {\n\t\t\tvar dropEvent = function dropEvent(e) {\n\t\t\t\t_this74.elementRowDrop(e, element, _this74.moving);\n\t\t\t};\n\n\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t});\n\t}\n};\n\n//disconnect from other tables\nMoveRows.prototype.disconnectFromTables = function () {\n\tvar connectionTables;\n\n\tif (this.connectionSelectorsTables) {\n\t\tconnectionTables = this.table.modules.comms.getConnections(this.connectionSelectorsTables);\n\n\t\tthis.table.options.movableRowsSendingStop.call(this.table, connectionTables);\n\n\t\tthis.table.modules.comms.send(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t}\n\n\tthis.connectionElements.forEach(function (element) {\n\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\tdelete element.tabulatorElementDropEvent;\n\t});\n};\n\n//accept incomming connection\nMoveRows.prototype.connect = function (table, row) {\n\tvar self = this;\n\tif (!this.connectedTable) {\n\t\tthis.connectedTable = table;\n\t\tthis.connectedRow = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\n\t\t\tif (row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup) {\n\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t}\n\t\t});\n\n\t\tself.tableRowDropEvent = self.tableRowDrop.bind(self);\n\n\t\tself.table.element.addEventListener(\"mouseup\", self.tableRowDropEvent);\n\n\t\tthis.table.options.movableRowsReceivingStart.call(this.table, row, table);\n\n\t\treturn true;\n\t} else {\n\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\treturn false;\n\t}\n};\n\n//close incomming connection\nMoveRows.prototype.disconnect = function (table) {\n\tvar self = this;\n\tif (table === this.connectedTable) {\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\n\t\t\tif (row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup) {\n\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t}\n\t\t});\n\n\t\tself.table.element.removeEventListener(\"mouseup\", self.tableRowDropEvent);\n\n\t\tthis.table.options.movableRowsReceivingStop.call(this.table, table);\n\t} else {\n\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t}\n};\n\nMoveRows.prototype.dropComplete = function (table, row, success) {\n\tvar sender = false;\n\n\tif (success) {\n\n\t\tswitch (_typeof(this.table.options.movableRowsSender)) {\n\t\t\tcase \"string\":\n\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (sender) {\n\t\t\tsender.call(this, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t} else {\n\t\t\tif (this.table.options.movableRowsSender) {\n\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.options.movableRowsSent.call(this.table, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t} else {\n\t\tthis.table.options.movableRowsSentFailed.call(this.table, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t}\n\n\tthis.endMove();\n};\n\nMoveRows.prototype.tableRowDrop = function (e, row) {\n\tvar receiver = false,\n\t    success = false;\n\n\tconsole.trace(\"drop\");\n\n\te.stopImmediatePropagation();\n\n\tswitch (_typeof(this.table.options.movableRowsReceiver)) {\n\t\tcase \"string\":\n\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\tbreak;\n\t}\n\n\tif (receiver) {\n\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t} else {\n\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t}\n\n\tif (success) {\n\t\tthis.table.options.movableRowsReceived.call(this.table, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t} else {\n\t\tthis.table.options.movableRowsReceivedFailed.call(this.table, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t}\n\n\tthis.table.modules.comms.send(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\trow: row,\n\t\tsuccess: success\n\t});\n};\n\nMoveRows.prototype.receivers = {\n\tinsert: function insert(fromRow, toRow, fromTable) {\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd: function add(fromRow, toRow, fromTable) {\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate: function update(fromRow, toRow, fromTable) {\n\t\tif (toRow) {\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace: function replace(fromRow, toRow, fromTable) {\n\t\tif (toRow) {\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n};\n\nMoveRows.prototype.senders = {\n\tdelete: function _delete(fromRow, toRow, toTable) {\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.prototype.commsReceived = function (table, action, data) {\n\tswitch (action) {\n\t\tcase \"connect\":\n\t\t\treturn this.connect(table, data.row);\n\t\t\tbreak;\n\n\t\tcase \"disconnect\":\n\t\t\treturn this.disconnect(table);\n\t\t\tbreak;\n\n\t\tcase \"dropcomplete\":\n\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t\tbreak;\n\t}\n};\n\nTabulator.prototype.registerModule(\"moveRow\", MoveRows);\nvar Mutator = function Mutator(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of muatation types\n\tthis.enabled = true;\n};\n\n//initialize column mutator\nMutator.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    match = false,\n\t    config = {};\n\n\tthis.allowedTypes.forEach(function (type) {\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t    mutator;\n\n\t\tif (column.definition[key]) {\n\t\t\tmutator = self.lookupMutator(column.definition[key]);\n\n\t\t\tif (mutator) {\n\t\t\t\tmatch = true;\n\n\t\t\t\tconfig[key] = {\n\t\t\t\t\tmutator: mutator,\n\t\t\t\t\tparams: column.definition[key + \"Params\"] || {}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\n\tif (match) {\n\t\tcolumn.modules.mutate = config;\n\t}\n};\n\nMutator.prototype.lookupMutator = function (value) {\n\tvar mutator = false;\n\n\t//set column mutator\n\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t\tcase \"string\":\n\t\t\tif (this.mutators[value]) {\n\t\t\t\tmutator = this.mutators[value];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tmutator = value;\n\t\t\tbreak;\n\t}\n\n\treturn mutator;\n};\n\n//apply mutator to row\nMutator.prototype.transformRow = function (data, type, updatedData) {\n\tvar self = this,\n\t    key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t    value;\n\n\tif (this.enabled) {\n\n\t\tself.table.columnManager.traverse(function (column) {\n\t\t\tvar mutator, params, component;\n\n\t\t\tif (column.modules.mutate) {\n\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\tif (mutator) {\n\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\tif (type == \"data\" || typeof value !== \"undefined\") {\n\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn data;\n};\n\n//apply mutator to new cell value\nMutator.prototype.transformCell = function (cell, value) {\n\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t    tempData = {};\n\n\tif (mutator) {\n\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\tcell.column.setFieldValue(tempData, value);\n\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t} else {\n\t\treturn value;\n\t}\n};\n\nMutator.prototype.enable = function () {\n\tthis.enabled = true;\n};\n\nMutator.prototype.disable = function () {\n\tthis.enabled = false;\n};\n\n//default mutators\nMutator.prototype.mutators = {};\n\nTabulator.prototype.registerModule(\"mutator\", Mutator);\nvar Page = function Page(table) {\n\n\tthis.table = table; //hold Tabulator object\n\n\tthis.mode = \"local\";\n\tthis.progressiveLoad = false;\n\n\tthis.size = 0;\n\tthis.page = 1;\n\tthis.count = 5;\n\tthis.max = 1;\n\n\tthis.displayIndex = 0; //index in display pipeline\n\n\tthis.initialLoad = true;\n\n\tthis.pageSizes = [];\n\n\tthis.dataReceivedNames = {};\n\tthis.dataSentNames = {};\n\n\tthis.createElements();\n};\n\nPage.prototype.createElements = function () {\n\n\tvar button;\n\n\tthis.element = document.createElement(\"span\");\n\tthis.element.classList.add(\"tabulator-paginator\");\n\n\tthis.pagesElement = document.createElement(\"span\");\n\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\n\tbutton = document.createElement(\"button\");\n\tbutton.classList.add(\"tabulator-page\");\n\tbutton.setAttribute(\"type\", \"button\");\n\tbutton.setAttribute(\"role\", \"button\");\n\tbutton.setAttribute(\"aria-label\", \"\");\n\tbutton.setAttribute(\"title\", \"\");\n\n\tthis.firstBut = button.cloneNode(true);\n\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\n\tthis.prevBut = button.cloneNode(true);\n\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\n\tthis.nextBut = button.cloneNode(true);\n\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\n\tthis.lastBut = button.cloneNode(true);\n\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\n\tif (this.table.options.paginationSizeSelector) {\n\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t}\n};\n\nPage.prototype.generatePageSizeSelectList = function () {\n\tvar _this75 = this;\n\n\tvar pageSizes = [];\n\n\tif (this.pageSizeSelect) {\n\n\t\tif (Array.isArray(this.table.options.paginationSizeSelector)) {\n\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\tthis.pageSizes = pageSizes;\n\n\t\t\tif (this.pageSizes.indexOf(this.size) == -1) {\n\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (this.pageSizes.indexOf(this.size) == -1) {\n\t\t\t\tpageSizes = [];\n\n\t\t\t\tfor (var _i13 = 1; _i13 < 5; _i13++) {\n\t\t\t\t\tpageSizes.push(this.size * _i13);\n\t\t\t\t}\n\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t} else {\n\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t}\n\t\t}\n\n\t\twhile (this.pageSizeSelect.firstChild) {\n\t\t\tthis.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t}pageSizes.forEach(function (item) {\n\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\titemEl.value = item;\n\n\t\t\tif (item === true) {\n\t\t\t\t_this75.table.modules.localize.bind(\"pagination|all\", function (value) {\n\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titemEl.innerHTML = item;\n\t\t\t}\n\n\t\t\t_this75.pageSizeSelect.appendChild(itemEl);\n\t\t});\n\n\t\tthis.pageSizeSelect.value = this.size;\n\t}\n};\n\n//setup pageination\nPage.prototype.initialize = function (hidden) {\n\tvar self = this,\n\t    pageSelectLabel,\n\t    testElRow,\n\t    testElCell;\n\n\t//update param names\n\tthis.dataSentNames = Object.assign({}, this.paginationDataSentNames);\n\tthis.dataSentNames = Object.assign(this.dataSentNames, this.table.options.paginationDataSent);\n\n\tthis.dataReceivedNames = Object.assign({}, this.paginationDataReceivedNames);\n\tthis.dataReceivedNames = Object.assign(this.dataReceivedNames, this.table.options.paginationDataReceived);\n\n\t//build pagination element\n\n\t//bind localizations\n\tself.table.modules.localize.bind(\"pagination|first\", function (value) {\n\t\tself.firstBut.innerHTML = value;\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|first_title\", function (value) {\n\t\tself.firstBut.setAttribute(\"aria-label\", value);\n\t\tself.firstBut.setAttribute(\"title\", value);\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|prev\", function (value) {\n\t\tself.prevBut.innerHTML = value;\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|prev_title\", function (value) {\n\t\tself.prevBut.setAttribute(\"aria-label\", value);\n\t\tself.prevBut.setAttribute(\"title\", value);\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|next\", function (value) {\n\t\tself.nextBut.innerHTML = value;\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|next_title\", function (value) {\n\t\tself.nextBut.setAttribute(\"aria-label\", value);\n\t\tself.nextBut.setAttribute(\"title\", value);\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|last\", function (value) {\n\t\tself.lastBut.innerHTML = value;\n\t});\n\n\tself.table.modules.localize.bind(\"pagination|last_title\", function (value) {\n\t\tself.lastBut.setAttribute(\"aria-label\", value);\n\t\tself.lastBut.setAttribute(\"title\", value);\n\t});\n\n\t//click bindings\n\tself.firstBut.addEventListener(\"click\", function () {\n\t\tself.setPage(1).then(function () {}).catch(function () {});\n\t});\n\n\tself.prevBut.addEventListener(\"click\", function () {\n\t\tself.previousPage().then(function () {}).catch(function () {});\n\t});\n\n\tself.nextBut.addEventListener(\"click\", function () {\n\t\tself.nextPage().then(function () {}).catch(function () {});\n\t});\n\n\tself.lastBut.addEventListener(\"click\", function () {\n\t\tself.setPage(self.max).then(function () {}).catch(function () {});\n\t});\n\n\tif (self.table.options.paginationElement) {\n\t\tself.element = self.table.options.paginationElement;\n\t}\n\n\tif (this.pageSizeSelect) {\n\t\tpageSelectLabel = document.createElement(\"label\");\n\n\t\tself.table.modules.localize.bind(\"pagination|page_size\", function (value) {\n\t\t\tself.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\tself.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\tpageSelectLabel.innerHTML = value;\n\t\t});\n\n\t\tself.element.appendChild(pageSelectLabel);\n\t\tself.element.appendChild(self.pageSizeSelect);\n\n\t\tself.pageSizeSelect.addEventListener(\"change\", function (e) {\n\t\t\tself.setPageSize(self.pageSizeSelect.value == \"true\" ? true : self.pageSizeSelect.value);\n\t\t\tself.setPage(1).then(function () {}).catch(function () {});\n\t\t});\n\t}\n\n\t//append to DOM\n\tself.element.appendChild(self.firstBut);\n\tself.element.appendChild(self.prevBut);\n\tself.element.appendChild(self.pagesElement);\n\tself.element.appendChild(self.nextBut);\n\tself.element.appendChild(self.lastBut);\n\n\tif (!self.table.options.paginationElement && !hidden) {\n\t\tself.table.footerManager.append(self.element, self);\n\t}\n\n\t//set default values\n\tself.mode = self.table.options.pagination;\n\n\tif (self.table.options.paginationSize) {\n\t\tself.size = self.table.options.paginationSize;\n\t} else {\n\t\ttestElRow = document.createElement(\"div\");\n\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\ttestElRow.style.visibility = hidden;\n\n\t\ttestElCell = document.createElement(\"div\");\n\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\ttestElCell.innerHTML = \"Page Row Test\";\n\n\t\ttestElRow.appendChild(testElCell);\n\n\t\tself.table.rowManager.getTableElement().appendChild(testElRow);\n\n\t\tself.size = Math.floor(self.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\n\t\tself.table.rowManager.getTableElement().removeChild(testElRow);\n\t}\n\n\t// self.page = self.table.options.paginationInitialPage || 1;\n\tself.count = self.table.options.paginationButtonCount;\n\n\tself.generatePageSizeSelectList();\n};\n\nPage.prototype.initializeProgressive = function (mode) {\n\tthis.initialize(true);\n\tthis.mode = \"progressive_\" + mode;\n\tthis.progressiveLoad = true;\n};\n\nPage.prototype.setDisplayIndex = function (index) {\n\tthis.displayIndex = index;\n};\n\nPage.prototype.getDisplayIndex = function () {\n\treturn this.displayIndex;\n};\n\n//calculate maximum page from number of rows\nPage.prototype.setMaxRows = function (rowCount) {\n\tif (!rowCount) {\n\t\tthis.max = 1;\n\t} else {\n\t\tthis.max = this.size === true ? 1 : Math.ceil(rowCount / this.size);\n\t}\n\n\tif (this.page > this.max) {\n\t\tthis.page = this.max;\n\t}\n};\n\n//reset to first page without triggering action\nPage.prototype.reset = function (force, columnsChanged) {\n\tif (this.mode == \"local\" || force) {\n\t\tthis.page = 1;\n\t}\n\n\tif (columnsChanged) {\n\t\tthis.initialLoad = true;\n\t}\n\n\treturn true;\n};\n\n//set the maxmum page\nPage.prototype.setMaxPage = function (max) {\n\n\tmax = parseInt(max);\n\n\tthis.max = max || 1;\n\n\tif (this.page > this.max) {\n\t\tthis.page = this.max;\n\t\tthis.trigger();\n\t}\n};\n\n//set current page number\nPage.prototype.setPage = function (page) {\n\tvar _this76 = this;\n\n\tvar self = this;\n\n\tswitch (page) {\n\t\tcase \"first\":\n\t\t\treturn this.setPage(1);\n\t\t\tbreak;\n\n\t\tcase \"prev\":\n\t\t\treturn this.previousPage();\n\t\t\tbreak;\n\n\t\tcase \"next\":\n\t\t\treturn this.nextPage();\n\t\t\tbreak;\n\n\t\tcase \"last\":\n\t\t\treturn this.setPage(this.max);\n\t\t\tbreak;\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tpage = parseInt(page);\n\n\t\tif (page > 0 && page <= _this76.max) {\n\t\t\t_this76.page = page;\n\t\t\t_this76.trigger().then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function () {\n\t\t\t\treject();\n\t\t\t});\n\n\t\t\tif (self.table.options.persistence && self.table.modExists(\"persistence\", true) && self.table.modules.persistence.config.page) {\n\t\t\t\tself.table.modules.persistence.save(\"page\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + _this76.max + \":\", page);\n\t\t\treject();\n\t\t}\n\t});\n};\n\nPage.prototype.setPageToRow = function (row) {\n\tvar _this77 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tvar rows = _this77.table.rowManager.getDisplayRows(_this77.displayIndex - 1);\n\t\tvar index = rows.indexOf(row);\n\n\t\tif (index > -1) {\n\t\t\tvar page = _this77.size === true ? 1 : Math.ceil((index + 1) / _this77.size);\n\n\t\t\t_this77.setPage(page).then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function () {\n\t\t\t\treject();\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treject();\n\t\t}\n\t});\n};\n\nPage.prototype.setPageSize = function (size) {\n\tif (size !== true) {\n\t\tsize = parseInt(size);\n\t}\n\n\tif (size > 0) {\n\t\tthis.size = size;\n\t}\n\n\tif (this.pageSizeSelect) {\n\t\t// this.pageSizeSelect.value = size;\n\t\tthis.generatePageSizeSelectList();\n\t}\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.page) {\n\t\tthis.table.modules.persistence.save(\"page\");\n\t}\n};\n\n//setup the pagination buttons\nPage.prototype._setPageButtons = function () {\n\tvar self = this;\n\n\tvar leftSize = Math.floor((this.count - 1) / 2);\n\tvar rightSize = Math.ceil((this.count - 1) / 2);\n\tvar min = this.max - this.page + leftSize + 1 < this.count ? this.max - this.count + 1 : Math.max(this.page - leftSize, 1);\n\tvar max = this.page <= rightSize ? Math.min(this.count, this.max) : Math.min(this.page + rightSize, this.max);\n\n\twhile (self.pagesElement.firstChild) {\n\t\tself.pagesElement.removeChild(self.pagesElement.firstChild);\n\t}if (self.page == 1) {\n\t\tself.firstBut.disabled = true;\n\t\tself.prevBut.disabled = true;\n\t} else {\n\t\tself.firstBut.disabled = false;\n\t\tself.prevBut.disabled = false;\n\t}\n\n\tif (self.page == self.max) {\n\t\tself.lastBut.disabled = true;\n\t\tself.nextBut.disabled = true;\n\t} else {\n\t\tself.lastBut.disabled = false;\n\t\tself.nextBut.disabled = false;\n\t}\n\n\tfor (var _i14 = min; _i14 <= max; _i14++) {\n\t\tif (_i14 > 0 && _i14 <= self.max) {\n\t\t\tself.pagesElement.appendChild(self._generatePageButton(_i14));\n\t\t}\n\t}\n\n\tthis.footerRedraw();\n};\n\nPage.prototype._generatePageButton = function (page) {\n\tvar self = this,\n\t    button = document.createElement(\"button\");\n\n\tbutton.classList.add(\"tabulator-page\");\n\tif (page == self.page) {\n\t\tbutton.classList.add(\"active\");\n\t}\n\n\tbutton.setAttribute(\"type\", \"button\");\n\tbutton.setAttribute(\"role\", \"button\");\n\n\tself.table.modules.localize.bind(\"pagination|page_title\", function (value) {\n\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t});\n\n\tbutton.setAttribute(\"data-page\", page);\n\tbutton.textContent = page;\n\n\tbutton.addEventListener(\"click\", function (e) {\n\t\tself.setPage(page).then(function () {}).catch(function () {});\n\t});\n\n\treturn button;\n};\n\n//previous page\nPage.prototype.previousPage = function () {\n\tvar _this78 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this78.page > 1) {\n\t\t\t_this78.page--;\n\t\t\t_this78.trigger().then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function () {\n\t\t\t\treject();\n\t\t\t});\n\n\t\t\tif (_this78.table.options.persistence && _this78.table.modExists(\"persistence\", true) && _this78.table.modules.persistence.config.page) {\n\t\t\t\t_this78.table.modules.persistence.save(\"page\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treject();\n\t\t}\n\t});\n};\n\n//next page\nPage.prototype.nextPage = function () {\n\tvar _this79 = this;\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (_this79.page < _this79.max) {\n\t\t\t_this79.page++;\n\t\t\t_this79.trigger().then(function () {\n\t\t\t\tresolve();\n\t\t\t}).catch(function () {\n\t\t\t\treject();\n\t\t\t});\n\n\t\t\tif (_this79.table.options.persistence && _this79.table.modExists(\"persistence\", true) && _this79.table.modules.persistence.config.page) {\n\t\t\t\t_this79.table.modules.persistence.save(\"page\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (!_this79.progressiveLoad) {\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + _this79.max + \":\", _this79.max + 1);\n\t\t\t}\n\t\t\treject();\n\t\t}\n\t});\n};\n\n//return current page number\nPage.prototype.getPage = function () {\n\treturn this.page;\n};\n\n//return max page number\nPage.prototype.getPageMax = function () {\n\treturn this.max;\n};\n\nPage.prototype.getPageSize = function (size) {\n\treturn this.size;\n};\n\nPage.prototype.getMode = function () {\n\treturn this.mode;\n};\n\n//return appropriate rows for current page\nPage.prototype.getRows = function (data) {\n\tvar output, start, end;\n\n\tif (this.mode == \"local\") {\n\t\toutput = [];\n\n\t\tif (this.size === true) {\n\t\t\tstart = 0;\n\t\t\tend = data.length;\n\t\t} else {\n\t\t\tstart = this.size * (this.page - 1);\n\t\t\tend = start + parseInt(this.size);\n\t\t}\n\n\t\tthis._setPageButtons();\n\n\t\tfor (var _i15 = start; _i15 < end; _i15++) {\n\t\t\tif (data[_i15]) {\n\t\t\t\toutput.push(data[_i15]);\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t} else {\n\n\t\tthis._setPageButtons();\n\n\t\treturn data.slice(0);\n\t}\n};\n\nPage.prototype.trigger = function () {\n\tvar _this80 = this;\n\n\tvar left;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tswitch (_this80.mode) {\n\t\t\tcase \"local\":\n\t\t\t\tleft = _this80.table.rowManager.scrollLeft;\n\n\t\t\t\t_this80.table.rowManager.refreshActiveData(\"page\");\n\t\t\t\t_this80.table.rowManager.scrollHorizontal(left);\n\n\t\t\t\t_this80.table.options.pageLoaded.call(_this80.table, _this80.getPage());\n\t\t\t\tresolve();\n\t\t\t\tbreak;\n\n\t\t\tcase \"remote\":\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\t_this80.table.modules.ajax.blockActiveRequest();\n\t\t\t\t_this80._getRemotePage().then(function () {\n\t\t\t\t\tresolve();\n\t\t\t\t}).catch(function () {\n\t\t\t\t\treject();\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", _this80.mode);\n\t\t\t\treject();\n\t\t}\n\t});\n};\n\nPage.prototype._getRemotePage = function () {\n\tvar _this81 = this;\n\n\tvar self = this,\n\t    oldParams,\n\t    pageParams;\n\n\treturn new Promise(function (resolve, reject) {\n\n\t\tif (!self.table.modExists(\"ajax\", true)) {\n\t\t\treject();\n\t\t}\n\n\t\t//record old params and restore after request has been made\n\t\toldParams = Tabulator.prototype.helpers.deepClone(self.table.modules.ajax.getParams() || {});\n\t\tpageParams = self.table.modules.ajax.getParams();\n\n\t\t//configure request params\n\t\tpageParams[_this81.dataSentNames.page] = self.page;\n\n\t\t//set page size if defined\n\t\tif (_this81.size) {\n\t\t\tpageParams[_this81.dataSentNames.size] = _this81.size;\n\t\t}\n\n\t\t//set sort data if defined\n\t\tif (_this81.table.options.ajaxSorting && _this81.table.modExists(\"sort\")) {\n\t\t\tvar sorters = self.table.modules.sort.getSort();\n\n\t\t\tsorters.forEach(function (item) {\n\t\t\t\tdelete item.column;\n\t\t\t});\n\n\t\t\tpageParams[_this81.dataSentNames.sorters] = sorters;\n\t\t}\n\n\t\t//set filter data if defined\n\t\tif (_this81.table.options.ajaxFiltering && _this81.table.modExists(\"filter\")) {\n\t\t\tvar filters = self.table.modules.filter.getFilters(true, true);\n\t\t\tpageParams[_this81.dataSentNames.filters] = filters;\n\t\t}\n\n\t\tself.table.modules.ajax.setParams(pageParams);\n\n\t\tself.table.modules.ajax.sendRequest(_this81.progressiveLoad).then(function (data) {\n\t\t\tself._parseRemoteData(data);\n\t\t\tresolve();\n\t\t}).catch(function (e) {\n\t\t\treject();\n\t\t});\n\n\t\tself.table.modules.ajax.setParams(oldParams);\n\t});\n};\n\nPage.prototype._parseRemoteData = function (data) {\n\tvar self = this,\n\t    left,\n\t    data,\n\t    margin;\n\n\tif (typeof data[this.dataReceivedNames.last_page] === \"undefined\") {\n\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + this.dataReceivedNames.last_page + \"' property\");\n\t}\n\n\tif (data[this.dataReceivedNames.data]) {\n\t\tthis.max = parseInt(data[this.dataReceivedNames.last_page]) || 1;\n\n\t\tif (this.progressiveLoad) {\n\t\t\tswitch (this.mode) {\n\t\t\t\tcase \"progressive_load\":\n\n\t\t\t\t\tif (this.page == 1) {\n\t\t\t\t\t\tthis.table.rowManager.setData(data[this.dataReceivedNames.data], false, this.initialLoad && this.page == 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.table.rowManager.addRows(data[this.dataReceivedNames.data]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.page < this.max) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tself.nextPage().then(function () {}).catch(function () {});\n\t\t\t\t\t\t}, self.table.options.ajaxProgressiveLoadDelay);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\tdata = this.table.rowManager.getData().concat(data[this.dataReceivedNames.data]);\n\n\t\t\t\t\tthis.table.rowManager.setData(data, true, this.initialLoad && this.page == 1);\n\n\t\t\t\t\tmargin = this.table.options.ajaxProgressiveLoadScrollMargin || this.table.rowManager.element.clientHeight * 2;\n\n\t\t\t\t\tif (self.table.rowManager.element.scrollHeight <= self.table.rowManager.element.clientHeight + margin) {\n\t\t\t\t\t\tself.nextPage().then(function () {}).catch(function () {});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tleft = this.table.rowManager.scrollLeft;\n\n\t\t\tthis.table.rowManager.setData(data[this.dataReceivedNames.data], false, this.initialLoad && this.page == 1);\n\n\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\n\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\n\t\t\tthis.table.options.pageLoaded.call(this.table, this.getPage());\n\t\t}\n\n\t\tthis.initialLoad = false;\n\t} else {\n\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + this.dataReceivedNames.data + \"' property\");\n\t}\n};\n\n//handle the footer element being redrawn\nPage.prototype.footerRedraw = function () {\n\tvar footer = this.table.footerManager.element;\n\n\tif (Math.ceil(footer.clientWidth) - footer.scrollWidth < 0) {\n\t\tthis.pagesElement.style.display = 'none';\n\t} else {\n\t\tthis.pagesElement.style.display = '';\n\n\t\tif (Math.ceil(footer.clientWidth) - footer.scrollWidth < 0) {\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}\n\t}\n};\n\n//set the paramter names for pagination requests\nPage.prototype.paginationDataSentNames = {\n\t\"page\": \"page\",\n\t\"size\": \"size\",\n\t\"sorters\": \"sorters\",\n\t// \"sort_dir\":\"sort_dir\",\n\t\"filters\": \"filters\"\n\t// \"filter_value\":\"filter_value\",\n\t// \"filter_type\":\"filter_type\",\n};\n\n//set the property names for pagination responses\nPage.prototype.paginationDataReceivedNames = {\n\t\"current_page\": \"current_page\",\n\t\"last_page\": \"last_page\",\n\t\"data\": \"data\"\n};\n\nTabulator.prototype.registerModule(\"page\", Page);\n\nvar Persistence = function Persistence(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.mode = \"\";\n\tthis.id = \"\";\n\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\tthis.defWatcherBlock = false;\n\tthis.config = {};\n\tthis.readFunc = false;\n\tthis.writeFunc = false;\n};\n\n// Test for whether localStorage is available for use.\nPersistence.prototype.localStorageTest = function () {\n\tvar testKey = \"_tabulator_test\";\n\n\ttry {\n\t\twindow.localStorage.setItem(testKey, testKey);\n\t\twindow.localStorage.removeItem(testKey);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\n//setup parameters\nPersistence.prototype.initialize = function () {\n\t//determine persistent layout storage type\n\n\tvar mode = this.table.options.persistenceMode,\n\t    id = this.table.options.persistenceID,\n\t    retreivedData;\n\n\tthis.mode = mode !== true ? mode : this.localStorageTest() ? \"local\" : \"cookie\";\n\n\tif (this.table.options.persistenceReaderFunc) {\n\t\tif (typeof this.table.options.persistenceReaderFunc === \"function\") {\n\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t} else {\n\t\t\tif (this.readers[this.table.options.persistenceReaderFunc]) {\n\t\t\t\tthis.readFunc = this.readers[this.table.options.persistenceReaderFunc];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (this.readers[this.mode]) {\n\t\t\tthis.readFunc = this.readers[this.mode];\n\t\t} else {\n\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t}\n\t}\n\n\tif (this.table.options.persistenceWriterFunc) {\n\t\tif (typeof this.table.options.persistenceWriterFunc === \"function\") {\n\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t} else {\n\t\t\tif (this.readers[this.table.options.persistenceWriterFunc]) {\n\t\t\t\tthis.writeFunc = this.readers[this.table.options.persistenceWriterFunc];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (this.writers[this.mode]) {\n\t\t\tthis.writeFunc = this.writers[this.mode];\n\t\t} else {\n\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t}\n\t}\n\n\t//set storage tag\n\tthis.id = \"tabulator-\" + (id || this.table.element.getAttribute(\"id\") || \"\");\n\n\tthis.config = {\n\t\tsort: this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\tfilter: this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\tgroup: this.table.options.persistence === true || this.table.options.persistence.group,\n\t\tpage: this.table.options.persistence === true || this.table.options.persistence.page,\n\t\tcolumns: this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns\n\t};\n\n\t//load pagination data if needed\n\tif (this.config.page) {\n\t\tretreivedData = this.retreiveData(\"page\");\n\n\t\tif (retreivedData) {\n\t\t\tif (typeof retreivedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)) {\n\t\t\t\tthis.table.options.paginationSize = retreivedData.paginationSize;\n\t\t\t}\n\n\t\t\tif (typeof retreivedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)) {\n\t\t\t\tthis.table.options.paginationInitialPage = retreivedData.paginationInitialPage;\n\t\t\t}\n\t\t}\n\t}\n\n\t//load group data if needed\n\tif (this.config.group) {\n\t\tretreivedData = this.retreiveData(\"group\");\n\n\t\tif (retreivedData) {\n\t\t\tif (typeof retreivedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)) {\n\t\t\t\tthis.table.options.groupBy = retreivedData.groupBy;\n\t\t\t}\n\t\t\tif (typeof retreivedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)) {\n\t\t\t\tthis.table.options.groupStartOpen = retreivedData.groupStartOpen;\n\t\t\t}\n\t\t\tif (typeof retreivedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)) {\n\t\t\t\tthis.table.options.groupHeader = retreivedData.groupHeader;\n\t\t\t}\n\t\t}\n\t}\n};\n\nPersistence.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    def,\n\t    keys;\n\n\tif (this.config.columns) {\n\t\tthis.defWatcherBlock = true;\n\n\t\tdef = column.getDefinition();\n\n\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\tkeys.forEach(function (key) {\n\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\tvar value = def[key];\n\t\t\tif (props) {\n\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\tset: function set(newValue) {\n\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\tif (!self.defWatcherBlock) {\n\t\t\t\t\t\t\tself.save(\"columns\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (props.set) {\n\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\tif (props.get) {\n\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.defWatcherBlock = false;\n\t}\n};\n\n//load saved definitions\nPersistence.prototype.load = function (type, current) {\n\tvar data = this.retreiveData(type);\n\n\tif (current) {\n\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t}\n\n\treturn data;\n};\n\n//retreive data from memory\nPersistence.prototype.retreiveData = function (type) {\n\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n};\n\n//merge old and new column definitions\nPersistence.prototype.mergeDefinition = function (oldCols, newCols) {\n\tvar self = this,\n\t    output = [];\n\n\t// oldCols = oldCols || [];\n\tnewCols = newCols || [];\n\n\tnewCols.forEach(function (column, to) {\n\n\t\tvar from = self._findColumn(oldCols, column),\n\t\t    keys;\n\n\t\tif (from) {\n\n\t\t\tif (self.config.columns === true || self.config.columns == undefined) {\n\t\t\t\tkeys = Object.keys(from);\n\t\t\t\tkeys.push(\"width\");\n\t\t\t} else {\n\t\t\t\tkeys = self.config.columns;\n\t\t\t}\n\n\t\t\tkeys.forEach(function (key) {\n\t\t\t\tif (typeof column[key] !== \"undefined\") {\n\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (from.columns) {\n\t\t\t\tfrom.columns = self.mergeDefinition(from.columns, column.columns);\n\t\t\t}\n\n\t\t\toutput.push(from);\n\t\t}\n\t});\n\n\toldCols.forEach(function (column, i) {\n\t\tvar from = self._findColumn(newCols, column);\n\t\tif (!from) {\n\t\t\tif (output.length > i) {\n\t\t\t\toutput.splice(i, 0, column);\n\t\t\t} else {\n\t\t\t\toutput.push(column);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn output;\n};\n\n//find matching columns\nPersistence.prototype._findColumn = function (columns, subject) {\n\tvar type = subject.columns ? \"group\" : subject.field ? \"field\" : \"object\";\n\n\treturn columns.find(function (col) {\n\t\tswitch (type) {\n\t\t\tcase \"group\":\n\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"field\":\n\t\t\t\treturn col.field === subject.field;\n\t\t\t\tbreak;\n\n\t\t\tcase \"object\":\n\t\t\t\treturn col === subject;\n\t\t\t\tbreak;\n\t\t}\n\t});\n};\n\n//save data\nPersistence.prototype.save = function (type) {\n\tvar data = {};\n\n\tswitch (type) {\n\t\tcase \"columns\":\n\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\tbreak;\n\n\t\tcase \"filter\":\n\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\tbreak;\n\n\t\tcase \"sort\":\n\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\tbreak;\n\n\t\tcase \"group\":\n\t\t\tdata = this.getGroupConfig();\n\t\t\tbreak;\n\n\t\tcase \"page\":\n\t\t\tdata = this.getPageConfig();\n\t\t\tbreak;\n\t}\n\n\tif (this.writeFunc) {\n\t\tthis.writeFunc(this.id, type, data);\n\t}\n};\n\n//ensure sorters contain no function data\nPersistence.prototype.validateSorters = function (data) {\n\tdata.forEach(function (item) {\n\t\titem.column = item.field;\n\t\tdelete item.field;\n\t});\n\n\treturn data;\n};\n\nPersistence.prototype.getGroupConfig = function () {\n\tvar data = {};\n\n\tif (this.config.group) {\n\t\tif (this.config.group === true || this.config.group.groupBy) {\n\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t}\n\n\t\tif (this.config.group === true || this.config.group.groupStartOpen) {\n\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t}\n\n\t\tif (this.config.group === true || this.config.group.groupHeader) {\n\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t}\n\t}\n\n\treturn data;\n};\n\nPersistence.prototype.getPageConfig = function () {\n\tvar data = {};\n\n\tif (this.config.page) {\n\t\tif (this.config.page === true || this.config.page.size) {\n\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t}\n\n\t\tif (this.config.page === true || this.config.page.page) {\n\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t}\n\t}\n\n\treturn data;\n};\n\n//parse columns for data to store\nPersistence.prototype.parseColumns = function (columns) {\n\tvar self = this,\n\t    definitions = [],\n\t    excludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\tcolumns.forEach(function (column) {\n\t\tvar defStore = {},\n\t\t    colDef = column.getDefinition(),\n\t\t    keys;\n\n\t\tif (column.isGroup) {\n\t\t\tdefStore.title = colDef.title;\n\t\t\tdefStore.columns = self.parseColumns(column.getColumns());\n\t\t} else {\n\t\t\tdefStore.field = column.getField();\n\n\t\t\tif (self.config.columns === true || self.config.columns == undefined) {\n\t\t\t\tkeys = Object.keys(colDef);\n\t\t\t\tkeys.push(\"width\");\n\t\t\t} else {\n\t\t\t\tkeys = self.config.columns;\n\t\t\t}\n\n\t\t\tkeys.forEach(function (key) {\n\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1) {\n\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tdefinitions.push(defStore);\n\t});\n\n\treturn definitions;\n};\n\n// read peristence information from storage\nPersistence.prototype.readers = {\n\tlocal: function local(id, type) {\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie: function cookie(id, type) {\n\t\tvar cookie = document.cookie,\n\t\t    key = id + \"-\" + type,\n\t\t    cookiePos = cookie.indexOf(key + \"=\"),\n\t\t    end,\n\t\t    data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif (cookiePos > -1) {\n\t\t\tcookie = cookie.substr(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif (end > -1) {\n\t\t\t\tcookie = cookie.substr(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n\n//write persistence information to storage\nPersistence.prototype.writers = {\n\tlocal: function local(id, type, data) {\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie: function cookie(id, type, data) {\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};\n\nTabulator.prototype.registerModule(\"persistence\", Persistence);\n\nvar Print = function Print(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.element = false;\n\tthis.manualBlock = false;\n};\n\nPrint.prototype.initialize = function () {\n\twindow.addEventListener(\"beforeprint\", this.replaceTable.bind(this));\n\twindow.addEventListener(\"afterprint\", this.cleanup.bind(this));\n};\n\nPrint.prototype.replaceTable = function () {\n\tif (!this.manualBlock) {\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\tthis.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\tthis.table.element.style.display = \"none\";\n\n\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t}\n};\n\nPrint.prototype.cleanup = function () {\n\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\tif (this.element && this.element.parentNode) {\n\t\tthis.element.parentNode.removeChild(this.element);\n\t\tthis.table.element.style.display = \"\";\n\t}\n};\n\nPrint.prototype.printFullscreen = function (visible, style, config) {\n\tvar scrollX = window.scrollX,\n\t    scrollY = window.scrollY,\n\t    headerEl = document.createElement(\"div\"),\n\t    footerEl = document.createElement(\"div\"),\n\t    tableEl = this.table.modules.export.genereateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible, \"print\"),\n\t    headerContent,\n\t    footerContent;\n\n\tthis.manualBlock = true;\n\n\tthis.element = document.createElement(\"div\");\n\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\tif (this.table.options.printHeader) {\n\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\tif (typeof headerContent == \"string\") {\n\t\t\theaderEl.innerHTML = headerContent;\n\t\t} else {\n\t\t\theaderEl.appendChild(headerContent);\n\t\t}\n\n\t\tthis.element.appendChild(headerEl);\n\t}\n\n\tthis.element.appendChild(tableEl);\n\n\tif (this.table.options.printFooter) {\n\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\t\tif (typeof footerContent == \"string\") {\n\t\t\tfooterEl.innerHTML = footerContent;\n\t\t} else {\n\t\t\tfooterEl.appendChild(footerContent);\n\t\t}\n\n\t\tthis.element.appendChild(footerEl);\n\t}\n\n\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\tdocument.body.appendChild(this.element);\n\n\tif (this.table.options.printFormatter) {\n\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t}\n\n\twindow.print();\n\n\tthis.cleanup();\n\n\twindow.scrollTo(scrollX, scrollY);\n\n\tthis.manualBlock = false;\n};\n\nTabulator.prototype.registerModule(\"print\", Print);\nvar ReactiveData = function ReactiveData(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.data = false;\n\tthis.blocked = false; //block reactivity while performing update\n\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\tthis.currentVersion = 0;\n};\n\nReactiveData.prototype.watchData = function (data) {\n\tvar self = this,\n\t    pushFunc,\n\t    version;\n\n\tthis.currentVersion++;\n\n\tversion = this.currentVersion;\n\n\tself.unwatchData();\n\n\tself.data = data;\n\n\t//override array push function\n\tself.origFuncs.push = data.push;\n\n\tObject.defineProperty(self.data, \"push\", {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue: function value() {\n\t\t\tvar args = Array.from(arguments);\n\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\t\t\t\targs.forEach(function (arg) {\n\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn self.origFuncs.push.apply(data, arguments);\n\t\t}\n\t});\n\n\t//override array unshift function\n\tself.origFuncs.unshift = data.unshift;\n\n\tObject.defineProperty(self.data, \"unshift\", {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue: function value() {\n\t\t\tvar args = Array.from(arguments);\n\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\t\t\t\targs.forEach(function (arg) {\n\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn self.origFuncs.unshift.apply(data, arguments);\n\t\t}\n\t});\n\n\t//override array shift function\n\tself.origFuncs.shift = data.shift;\n\n\tObject.defineProperty(self.data, \"shift\", {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue: function value() {\n\t\t\tvar row;\n\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\t\t\t\tif (self.data.length) {\n\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\n\t\t\t\t\tif (row) {\n\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn self.origFuncs.shift.call(data);\n\t\t}\n\t});\n\n\t//override array pop function\n\tself.origFuncs.pop = data.pop;\n\n\tObject.defineProperty(self.data, \"pop\", {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue: function value() {\n\t\t\tvar row;\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\t\t\t\tif (self.data.length) {\n\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\n\t\t\t\t\tif (row) {\n\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn self.origFuncs.pop.call(data);\n\t\t}\n\t});\n\n\t//override array splice function\n\tself.origFuncs.splice = data.splice;\n\n\tObject.defineProperty(self.data, \"splice\", {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue: function value() {\n\t\t\tvar args = Array.from(arguments),\n\t\t\t    start = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t    end = args[1],\n\t\t\t    newRows = args[2] ? args.slice(2) : false,\n\t\t\t    startRow;\n\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\n\t\t\t\t//add new rows\n\t\t\t\tif (newRows) {\n\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\n\t\t\t\t\tif (startRow) {\n\t\t\t\t\t\tnewRows.forEach(function (rowData) {\n\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\n\t\t\t\t\t\tnewRows.forEach(function (rowData) {\n\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//delete removed rows\n\t\t\t\tif (end !== 0) {\n\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\n\t\t\t\t\toldRows.forEach(function (rowData, i) {\n\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\n\t\t\t\t\t\tif (row) {\n\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (newRows || end !== 0) {\n\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn self.origFuncs.splice.apply(data, arguments);\n\t\t}\n\t});\n};\n\nReactiveData.prototype.unwatchData = function () {\n\tif (this.data !== false) {\n\t\tfor (var key in this.origFuncs) {\n\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: this.origFuncs.key\n\t\t\t});\n\t\t}\n\t}\n};\n\nReactiveData.prototype.watchRow = function (row) {\n\tvar data = row.getData();\n\n\tthis.blocked = true;\n\n\tfor (var key in data) {\n\t\tthis.watchKey(row, data, key);\n\t}\n\n\tif (this.table.options.dataTree) {\n\t\tthis.watchTreeChildren(row);\n\t}\n\n\tthis.blocked = false;\n};\n\nReactiveData.prototype.watchTreeChildren = function (row) {\n\tvar self = this,\n\t    childField = row.getData()[this.table.options.dataTreeChildField],\n\t    origFuncs = {};\n\n\tfunction rebuildTree() {\n\t\tself.table.modules.dataTree.initializeRow(row);\n\t\tself.table.modules.dataTree.layoutRow(row);\n\t\tself.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\n\tif (childField) {\n\n\t\torigFuncs.push = childField.push;\n\n\t\tObject.defineProperty(childField, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function value() {\n\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\n\t\t\t\trebuildTree();\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\n\t\torigFuncs.unshift = childField.unshift;\n\n\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function value() {\n\t\t\t\tvar result = origFuncs.unshift.apply(childField, arguments);\n\n\t\t\t\trebuildTree();\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\n\t\torigFuncs.shift = childField.shift;\n\n\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function value() {\n\t\t\t\tvar result = origFuncs.shift.call(childField);\n\n\t\t\t\trebuildTree();\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\n\t\torigFuncs.pop = childField.pop;\n\n\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function value() {\n\t\t\t\tvar result = origFuncs.pop.call(childField);\n\n\t\t\t\trebuildTree();\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\n\t\torigFuncs.splice = childField.splice;\n\n\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function value() {\n\t\t\t\tvar result = origFuncs.splice.apply(childField, arguments);\n\n\t\t\t\trebuildTree();\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t}\n};\n\nReactiveData.prototype.watchKey = function (row, data, key) {\n\tvar self = this,\n\t    props = Object.getOwnPropertyDescriptor(data, key),\n\t    value = data[key],\n\t    version = this.currentVersion;\n\n\tObject.defineProperty(data, key, {\n\t\tset: function set(newValue) {\n\t\t\tvalue = newValue;\n\t\t\tif (!self.blocked && version === self.currentVersion) {\n\t\t\t\tvar update = {};\n\t\t\t\tupdate[key] = newValue;\n\t\t\t\trow.updateData(update);\n\t\t\t}\n\n\t\t\tif (props.set) {\n\t\t\t\tprops.set(newValue);\n\t\t\t}\n\t\t},\n\t\tget: function get() {\n\n\t\t\tif (props.get) {\n\t\t\t\tprops.get();\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\t});\n};\n\nReactiveData.prototype.unwatchRow = function (row) {\n\tvar data = row.getData();\n\n\tfor (var key in data) {\n\t\tObject.defineProperty(data, key, {\n\t\t\tvalue: data[key]\n\t\t});\n\t}\n};\n\nReactiveData.prototype.block = function () {\n\tthis.blocked = true;\n};\n\nReactiveData.prototype.unblock = function () {\n\tthis.blocked = false;\n};\n\nTabulator.prototype.registerModule(\"reactiveData\", ReactiveData);\n\nvar ResizeColumns = function ResizeColumns(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.startColumn = false;\n\tthis.startX = false;\n\tthis.startWidth = false;\n\tthis.handle = null;\n\tthis.prevHandle = null;\n};\n\nResizeColumns.prototype.initializeColumn = function (type, column, element) {\n\tvar self = this,\n\t    variableHeight = false,\n\t    mode = this.table.options.resizableColumns;\n\n\t//set column resize mode\n\tif (type === \"header\") {\n\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\tcolumn.modules.resize = { variableHeight: variableHeight };\n\t}\n\n\tif (mode === true || mode == type) {\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-col-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-col-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function handleDown(e) {\n\t\t\tvar nearestColumn = column.getLastColumn();\n\n\t\t\tif (nearestColumn && self._checkResizability(nearestColumn)) {\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t}\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, { passive: true });\n\n\t\t//reszie column on  double click\n\t\thandle.addEventListener(\"dblclick\", function (e) {\n\t\t\tvar col = column.getLastColumn();\n\n\t\t\tif (col && self._checkResizability(col)) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tcol.reinitializeWidth(true);\n\t\t\t}\n\t\t});\n\n\t\tprevHandle.addEventListener(\"click\", function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown = function prevHandleDown(e) {\n\t\t\tvar nearestColumn, colIndex, prevColumn;\n\n\t\t\tnearestColumn = column.getFirstColumn();\n\n\t\t\tif (nearestColumn) {\n\t\t\t\tcolIndex = self.table.columnManager.findColumnIndex(nearestColumn);\n\t\t\t\tprevColumn = colIndex > 0 ? self.table.columnManager.getColumnByIndex(colIndex - 1) : false;\n\n\t\t\t\tif (prevColumn && self._checkResizability(prevColumn)) {\n\t\t\t\t\tself.startColumn = column;\n\t\t\t\t\tself._mouseDown(e, prevColumn, prevHandle);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\", prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\", prevHandleDown, { passive: true });\n\n\t\t//resize column on double click\n\t\tprevHandle.addEventListener(\"dblclick\", function (e) {\n\t\t\tvar nearestColumn, colIndex, prevColumn;\n\n\t\t\tnearestColumn = column.getFirstColumn();\n\n\t\t\tif (nearestColumn) {\n\t\t\t\tcolIndex = self.table.columnManager.findColumnIndex(nearestColumn);\n\t\t\t\tprevColumn = colIndex > 0 ? self.table.columnManager.getColumnByIndex(colIndex - 1) : false;\n\n\t\t\t\tif (prevColumn && self._checkResizability(prevColumn)) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tprevColumn.reinitializeWidth(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.appendChild(handle);\n\t\telement.appendChild(prevHandle);\n\t}\n};\n\nResizeColumns.prototype._checkResizability = function (column) {\n\treturn typeof column.definition.resizable != \"undefined\" ? column.definition.resizable : this.table.options.resizableColumns;\n};\n\nResizeColumns.prototype._mouseDown = function (e, column, handle) {\n\tvar self = this;\n\n\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\tfunction mouseMove(e) {\n\t\t// self.table.columnManager.tempScrollBlock();\n\n\t\tif (self.table.rtl) {\n\t\t\tcolumn.setWidth(self.startWidth - ((typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX) - self.startX));\n\t\t} else {\n\t\t\tcolumn.setWidth(self.startWidth + ((typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX) - self.startX));\n\t\t}\n\n\t\tif (self.table.options.virtualDomHoz) {\n\t\t\tself.table.vdomHoz.reinitialize(true);\n\t\t}\n\n\t\tif (!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight) {\n\t\t\tcolumn.checkCellHeights();\n\t\t}\n\t}\n\n\tfunction mouseUp(e) {\n\n\t\t//block editor from taking action while resizing is taking place\n\t\tif (self.startColumn.modules.edit) {\n\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t}\n\n\t\tif (self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight) {\n\t\t\tcolumn.checkCellHeights();\n\t\t}\n\n\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\tif (self.table.options.persistence && self.table.modExists(\"persistence\", true) && self.table.modules.persistence.config.columns) {\n\t\t\tself.table.modules.persistence.save(\"columns\");\n\t\t}\n\n\t\tself.table.options.columnResized.call(self.table, column.getComponent());\n\t}\n\n\te.stopPropagation(); //prevent resize from interfereing with movable columns\n\n\t//block editor from taking action while resizing is taking place\n\tif (self.startColumn.modules.edit) {\n\t\tself.startColumn.modules.edit.blocked = true;\n\t}\n\n\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\tself.startWidth = column.getWidth();\n\n\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\thandle.addEventListener(\"touchmove\", mouseMove, { passive: true });\n\thandle.addEventListener(\"touchend\", mouseUp);\n};\n\nTabulator.prototype.registerModule(\"resizeColumns\", ResizeColumns);\nvar ResizeRows = function ResizeRows(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.startColumn = false;\n\tthis.startY = false;\n\tthis.startHeight = false;\n\tthis.handle = null;\n\tthis.prevHandle = null;\n};\n\nResizeRows.prototype.initializeRow = function (row) {\n\tvar self = this,\n\t    rowEl = row.getElement();\n\n\tvar handle = document.createElement('div');\n\thandle.className = \"tabulator-row-resize-handle\";\n\n\tvar prevHandle = document.createElement('div');\n\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\thandle.addEventListener(\"click\", function (e) {\n\t\te.stopPropagation();\n\t});\n\n\tvar handleDown = function handleDown(e) {\n\t\tself.startRow = row;\n\t\tself._mouseDown(e, row, handle);\n\t};\n\n\thandle.addEventListener(\"mousedown\", handleDown);\n\thandle.addEventListener(\"touchstart\", handleDown, { passive: true });\n\n\tprevHandle.addEventListener(\"click\", function (e) {\n\t\te.stopPropagation();\n\t});\n\n\tvar prevHandleDown = function prevHandleDown(e) {\n\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\tif (prevRow) {\n\t\t\tself.startRow = prevRow;\n\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t}\n\t};\n\n\tprevHandle.addEventListener(\"mousedown\", prevHandleDown);\n\tprevHandle.addEventListener(\"touchstart\", prevHandleDown, { passive: true });\n\n\trowEl.appendChild(handle);\n\trowEl.appendChild(prevHandle);\n};\n\nResizeRows.prototype._mouseDown = function (e, row, handle) {\n\tvar self = this;\n\n\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\tfunction mouseMove(e) {\n\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t}\n\n\tfunction mouseUp(e) {\n\n\t\t// //block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t// }\n\n\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\tself.table.options.rowResized.call(this.table, row.getComponent());\n\t}\n\n\te.stopPropagation(); //prevent resize from interfereing with movable columns\n\n\t//block editor from taking action while resizing is taking place\n\t// if(self.startColumn.modules.edit){\n\t// \tself.startColumn.modules.edit.blocked = true;\n\t// }\n\n\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\tself.startHeight = row.getHeight();\n\n\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\thandle.addEventListener(\"touchmove\", mouseMove, { passive: true });\n\thandle.addEventListener(\"touchend\", mouseUp);\n};\n\nTabulator.prototype.registerModule(\"resizeRows\", ResizeRows);\nvar ResizeTable = function ResizeTable(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.binding = false;\n\tthis.observer = false;\n\tthis.containerObserver = false;\n\n\tthis.tableHeight = 0;\n\tthis.tableWidth = 0;\n\tthis.containerHeight = 0;\n\tthis.containerWidth = 0;\n\n\tthis.autoResize = false;\n};\n\nResizeTable.prototype.initialize = function (row) {\n\tvar _this82 = this;\n\n\tvar table = this.table,\n\t    tableStyle;\n\n\tthis.tableHeight = table.element.clientHeight;\n\tthis.tableWidth = table.element.clientWidth;\n\n\tif (table.element.parentNode) {\n\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t}\n\n\tif (typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\") {\n\n\t\tthis.autoResize = true;\n\n\t\tthis.observer = new ResizeObserver(function (entry) {\n\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\n\n\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\n\t\t\t\tif (_this82.tableHeight != nodeHeight || _this82.tableWidth != nodeWidth) {\n\t\t\t\t\t_this82.tableHeight = nodeHeight;\n\t\t\t\t\t_this82.tableWidth = nodeWidth;\n\n\t\t\t\t\tif (table.element.parentNode) {\n\t\t\t\t\t\t_this82.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t_this82.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (table.options.virtualDomHoz) {\n\t\t\t\t\t\ttable.vdomHoz.reinitialize(true);\n\t\t\t\t\t}\n\n\t\t\t\t\ttable.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.observer.observe(table.element);\n\n\t\ttableStyle = window.getComputedStyle(table.element);\n\n\t\tif (this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))) {\n\n\t\t\tthis.containerObserver = new ResizeObserver(function (entry) {\n\t\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\n\n\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\n\t\t\t\t\tif (_this82.containerHeight != nodeHeight || _this82.containerWidth != nodeWidth) {\n\t\t\t\t\t\t_this82.containerHeight = nodeHeight;\n\t\t\t\t\t\t_this82.containerWidth = nodeWidth;\n\t\t\t\t\t\t_this82.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t_this82.tableWidth = table.element.clientWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (table.options.virtualDomHoz) {\n\t\t\t\t\t\ttable.vdomHoz.reinitialize(true);\n\t\t\t\t\t}\n\n\t\t\t\t\ttable.redraw();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t}\n\t} else {\n\t\tthis.binding = function () {\n\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\n\t\t\t\tif (table.options.virtualDomHoz) {\n\t\t\t\t\ttable.vdomHoz.reinitialize(true);\n\t\t\t\t}\n\n\t\t\t\ttable.redraw();\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"resize\", this.binding);\n\t}\n};\n\nResizeTable.prototype.clearBindings = function (row) {\n\tif (this.binding) {\n\t\twindow.removeEventListener(\"resize\", this.binding);\n\t}\n\n\tif (this.observer) {\n\t\tthis.observer.unobserve(this.table.element);\n\t}\n\n\tif (this.containerObserver) {\n\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t}\n};\n\nTabulator.prototype.registerModule(\"resizeTable\", ResizeTable);\nvar ResponsiveLayout = function ResponsiveLayout(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.columns = [];\n\tthis.hiddenColumns = [];\n\tthis.mode = \"\";\n\tthis.index = 0;\n\tthis.collapseFormatter = [];\n\tthis.collapseStartOpen = true;\n\tthis.collapseHandleColumn = false;\n};\n\n//generate resposive columns list\nResponsiveLayout.prototype.initialize = function () {\n\tvar self = this,\n\t    columns = [];\n\n\tthis.mode = this.table.options.responsiveLayout;\n\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\tthis.hiddenColumns = [];\n\n\t//detemine level of responsivity for each column\n\tthis.table.columnManager.columnsByIndex.forEach(function (column, i) {\n\t\tif (column.modules.responsive) {\n\t\t\tif (column.modules.responsive.order && column.modules.responsive.visible) {\n\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\tcolumns.push(column);\n\n\t\t\t\tif (!column.visible && self.mode === \"collapse\") {\n\t\t\t\t\tself.hiddenColumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t//sort list by responsivity\n\tcolumns = columns.reverse();\n\tcolumns = columns.sort(function (a, b) {\n\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\treturn diff || b.modules.responsive.index - a.modules.responsive.index;\n\t});\n\n\tthis.columns = columns;\n\n\tif (this.mode === \"collapse\") {\n\t\tthis.generateCollapsedContent();\n\t}\n\n\t//assign collapse column\n\tfor (var _iterator = this.table.columnManager.columnsByIndex, _isArray = Array.isArray(_iterator), _i16 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n\t\tvar _ref;\n\n\t\tif (_isArray) {\n\t\t\tif (_i16 >= _iterator.length) break;\n\t\t\t_ref = _iterator[_i16++];\n\t\t} else {\n\t\t\t_i16 = _iterator.next();\n\t\t\tif (_i16.done) break;\n\t\t\t_ref = _i16.value;\n\t\t}\n\n\t\tvar col = _ref;\n\n\t\tif (col.definition.formatter == \"responsiveCollapse\") {\n\t\t\tthis.collapseHandleColumn = col;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (this.collapseHandleColumn) {\n\t\tif (this.hiddenColumns.length) {\n\t\t\tthis.collapseHandleColumn.show();\n\t\t} else {\n\t\t\tthis.collapseHandleColumn.hide();\n\t\t}\n\t}\n};\n\n//define layout information\nResponsiveLayout.prototype.initializeColumn = function (column) {\n\tvar def = column.getDefinition();\n\n\tcolumn.modules.responsive = { order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible: def.visible === false ? false : true };\n};\n\nResponsiveLayout.prototype.initializeRow = function (row) {\n\tvar el;\n\n\tif (row.type !== \"calc\") {\n\t\tel = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\trow.modules.responsiveLayout = {\n\t\t\telement: el,\n\t\t\topen: this.collapseStartOpen\n\t\t};\n\n\t\tif (!this.collapseStartOpen) {\n\t\t\tel.style.display = 'none';\n\t\t}\n\t}\n};\n\nResponsiveLayout.prototype.layoutRow = function (row) {\n\tvar rowEl = row.getElement();\n\n\tif (row.modules.responsiveLayout) {\n\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\tthis.generateCollapsedRowContent(row);\n\t}\n};\n\n//update column visibility\nResponsiveLayout.prototype.updateColumnVisibility = function (column, visible) {\n\tvar index;\n\tif (column.modules.responsive) {\n\t\tcolumn.modules.responsive.visible = visible;\n\t\tthis.initialize();\n\t}\n};\n\nResponsiveLayout.prototype.hideColumn = function (column) {\n\tvar colCount = this.hiddenColumns.length;\n\n\tcolumn.hide(false, true);\n\n\tif (this.mode === \"collapse\") {\n\t\tthis.hiddenColumns.unshift(column);\n\t\tthis.generateCollapsedContent();\n\n\t\tif (this.collapseHandleColumn && !colCount) {\n\t\t\tthis.collapseHandleColumn.show();\n\t\t}\n\t}\n};\n\nResponsiveLayout.prototype.showColumn = function (column) {\n\tvar index;\n\n\tcolumn.show(false, true);\n\t//set column width to prevent calculation loops on uninitialized columns\n\tcolumn.setWidth(column.getWidth());\n\n\tif (this.mode === \"collapse\") {\n\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\tif (index > -1) {\n\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t}\n\n\t\tthis.generateCollapsedContent();\n\n\t\tif (this.collapseHandleColumn && !this.hiddenColumns.length) {\n\t\t\tthis.collapseHandleColumn.hide();\n\t\t}\n\t}\n};\n\n//redraw columns to fit space\nResponsiveLayout.prototype.update = function () {\n\tvar self = this,\n\t    working = true;\n\n\twhile (working) {\n\n\t\tvar width = self.table.modules.layout.getMode() == \"fitColumns\" ? self.table.columnManager.getFlexBaseWidth() : self.table.columnManager.getWidth();\n\n\t\tvar diff = (self.table.options.headerVisible ? self.table.columnManager.element.clientWidth : self.table.element.clientWidth) - width;\n\n\t\tif (diff < 0) {\n\t\t\t//table is too wide\n\t\t\tvar column = self.columns[self.index];\n\n\t\t\tif (column) {\n\t\t\t\tself.hideColumn(column);\n\t\t\t\tself.index++;\n\t\t\t} else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t} else {\n\n\t\t\t//table has spare space\n\t\t\tvar _column = self.columns[self.index - 1];\n\n\t\t\tif (_column) {\n\t\t\t\tif (diff > 0) {\n\t\t\t\t\tif (diff >= _column.getWidth()) {\n\t\t\t\t\t\tself.showColumn(_column);\n\t\t\t\t\t\tself.index--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!self.table.rowManager.activeRowsCount) {\n\t\t\tself.table.rowManager.renderEmptyScroll();\n\t\t}\n\t}\n};\n\nResponsiveLayout.prototype.generateCollapsedContent = function () {\n\tvar self = this,\n\t    rows = this.table.rowManager.getDisplayRows();\n\n\trows.forEach(function (row) {\n\t\tself.generateCollapsedRowContent(row);\n\t});\n};\n\nResponsiveLayout.prototype.generateCollapsedRowContent = function (row) {\n\tvar el, contents;\n\n\tif (row.modules.responsiveLayout) {\n\t\tel = row.modules.responsiveLayout.element;\n\n\t\twhile (el.firstChild) {\n\t\t\tel.removeChild(el.firstChild);\n\t\t}contents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\tif (contents) {\n\t\t\tel.appendChild(contents);\n\t\t}\n\t}\n};\n\nResponsiveLayout.prototype.generateCollapsedRowData = function (row) {\n\tvar self = this,\n\t    data = row.getData(),\n\t    output = [],\n\t    mockCellComponent;\n\n\tthis.hiddenColumns.forEach(function (column) {\n\t\tvar value = column.getFieldValue(data);\n\n\t\tif (column.definition.title && column.field) {\n\t\t\tif (column.modules.format && self.table.options.responsiveLayoutCollapseUseFormatters) {\n\n\t\t\t\tmockCellComponent = {\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tgetValue: function getValue() {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetData: function getData() {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement: function getElement() {\n\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t},\n\t\t\t\t\tgetRow: function getRow() {\n\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn: function getColumn() {\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\toutput.push({\n\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\tvalue: column.modules.format.formatter.call(self.table.modules.format, mockCellComponent, column.modules.format.params)\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn output;\n};\n\nResponsiveLayout.prototype.formatCollapsedData = function (data) {\n\tvar list = document.createElement(\"table\"),\n\t    listContents = \"\";\n\n\tdata.forEach(function (item) {\n\t\tvar div = document.createElement(\"div\");\n\n\t\tif (item.value instanceof Node) {\n\t\t\tdiv.appendChild(item.value);\n\t\t\titem.value = div.innerHTML;\n\t\t}\n\n\t\tlistContents += \"<tr><td><strong>\" + item.title + \"</strong></td><td>\" + item.value + \"</td></tr>\";\n\t});\n\n\tlist.innerHTML = listContents;\n\n\treturn Object.keys(data).length ? list : \"\";\n};\n\nTabulator.prototype.registerModule(\"responsiveLayout\", ResponsiveLayout);\n\nvar SelectRow = function SelectRow(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.selecting = false; //flag selecting in progress\n\tthis.lastClickedRow = false; //last clicked row\n\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\tthis.selectedRows = []; //hold selected rows\n\tthis.headerCheckboxElement = null; // hold header select element\n};\n\nSelectRow.prototype.clearSelectionData = function (silent) {\n\tthis.selecting = false;\n\tthis.lastClickedRow = false;\n\tthis.selectPrev = [];\n\tthis.selectedRows = [];\n\n\tif (!silent) {\n\t\tthis._rowSelectionChanged();\n\t}\n};\n\nSelectRow.prototype.initializeRow = function (row) {\n\tvar self = this,\n\t    element = row.getElement();\n\n\t// trigger end of row selection\n\tvar endSelect = function endSelect() {\n\n\t\tsetTimeout(function () {\n\t\t\tself.selecting = false;\n\t\t}, 50);\n\n\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t};\n\n\trow.modules.select = { selected: false };\n\n\t//set row selection class\n\tif (self.table.options.selectableCheck.call(this.table, row.getComponent())) {\n\t\telement.classList.add(\"tabulator-selectable\");\n\t\telement.classList.remove(\"tabulator-unselectable\");\n\n\t\tif (self.table.options.selectable && self.table.options.selectable != \"highlight\") {\n\t\t\tif (self.table.options.selectableRangeMode === \"click\") {\n\t\t\t\telement.addEventListener(\"click\", function (e) {\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\tself.lastClickedRow = self.lastClickedRow || row;\n\n\t\t\t\t\t\tvar lastClickedRowIdx = self.table.rowManager.getDisplayRowIndex(self.lastClickedRow);\n\t\t\t\t\t\tvar rowIdx = self.table.rowManager.getDisplayRowIndex(row);\n\n\t\t\t\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\n\t\t\t\t\t\tvar rows = self.table.rowManager.getDisplayRows().slice(0);\n\t\t\t\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\n\t\t\t\t\t\tif (e.ctrlKey || e.metaKey) {\n\t\t\t\t\t\t\ttoggledRows.forEach(function (toggledRow) {\n\t\t\t\t\t\t\t\tif (toggledRow !== self.lastClickedRow) {\n\n\t\t\t\t\t\t\t\t\tif (self.table.options.selectable !== true && !self.isRowSelected(row)) {\n\t\t\t\t\t\t\t\t\t\tif (self.selectedRows.length < self.table.options.selectable) {\n\t\t\t\t\t\t\t\t\t\t\tself.toggleRow(toggledRow);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.toggleRow(toggledRow);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.lastClickedRow = row;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.deselectRows(undefined, true);\n\n\t\t\t\t\t\t\tif (self.table.options.selectable !== true) {\n\t\t\t\t\t\t\t\tif (toggledRows.length > self.table.options.selectable) {\n\t\t\t\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, self.table.options.selectable);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.selectRows(toggledRows);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t} else if (e.ctrlKey || e.metaKey) {\n\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\tself.lastClickedRow = row;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.deselectRows(undefined, true);\n\t\t\t\t\t\tself.selectRows(row);\n\t\t\t\t\t\tself.lastClickedRow = row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\telement.addEventListener(\"click\", function (e) {\n\t\t\t\t\tif (!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()) {\n\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!self.selecting) {\n\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telement.addEventListener(\"mousedown\", function (e) {\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tself.table._clearSelection();\n\n\t\t\t\t\t\tself.selecting = true;\n\n\t\t\t\t\t\tself.selectPrev = [];\n\n\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\n\t\t\t\t\t\tself.toggleRow(row);\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telement.addEventListener(\"mouseenter\", function (e) {\n\t\t\t\t\tif (self.selecting) {\n\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\tself.toggleRow(row);\n\n\t\t\t\t\t\tif (self.selectPrev[1] == row) {\n\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telement.addEventListener(\"mouseout\", function (e) {\n\t\t\t\t\tif (self.selecting) {\n\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} else {\n\t\telement.classList.add(\"tabulator-unselectable\");\n\t\telement.classList.remove(\"tabulator-selectable\");\n\t}\n};\n\n//toggle row selection\nSelectRow.prototype.toggleRow = function (row) {\n\tif (this.table.options.selectableCheck.call(this.table, row.getComponent())) {\n\t\tif (row.modules.select && row.modules.select.selected) {\n\t\t\tthis._deselectRow(row);\n\t\t} else {\n\t\t\tthis._selectRow(row);\n\t\t}\n\t}\n};\n\n//select a number of rows\nSelectRow.prototype.selectRows = function (rows) {\n\tvar _this83 = this;\n\n\tvar rowMatch;\n\n\tswitch (typeof rows === 'undefined' ? 'undefined' : _typeof(rows)) {\n\t\tcase \"undefined\":\n\t\t\tthis.table.rowManager.rows.forEach(function (row) {\n\t\t\t\t_this83._selectRow(row, true, true);\n\t\t\t});\n\n\t\t\tthis._rowSelectionChanged();\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\n\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\n\t\t\tif (rowMatch) {\n\t\t\t\tthis._selectRow(rowMatch, true, true);\n\t\t\t} else {\n\t\t\t\tthis.table.rowManager.getRows(rows).forEach(function (row) {\n\t\t\t\t\t_this83._selectRow(row, true, true);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._rowSelectionChanged();\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tif (Array.isArray(rows)) {\n\t\t\t\trows.forEach(function (row) {\n\t\t\t\t\t_this83._selectRow(row, true, true);\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged();\n\t\t\t} else {\n\t\t\t\tthis._selectRow(rows, false, true);\n\t\t\t}\n\t\t\tbreak;\n\t}\n};\n\n//select an individual row\nSelectRow.prototype._selectRow = function (rowInfo, silent, force) {\n\tvar index;\n\n\t//handle max row count\n\tif (!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force) {\n\t\tif (this.selectedRows.length >= this.table.options.selectable) {\n\t\t\tif (this.table.options.selectableRollingSelection) {\n\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar row = this.table.rowManager.findRow(rowInfo);\n\n\tif (row) {\n\t\tif (this.selectedRows.indexOf(row) == -1) {\n\t\t\tif (!row.modules.select) {\n\t\t\t\trow.modules.select = {};\n\t\t\t}\n\n\t\t\trow.modules.select.selected = true;\n\t\t\tif (row.modules.select.checkboxEl) {\n\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t}\n\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\n\t\t\tthis.selectedRows.push(row);\n\n\t\t\tif (this.table.options.dataTreeSelectPropagate) {\n\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tthis.table.options.rowSelected.call(this.table, row.getComponent());\n\t\t\t}\n\n\t\t\tthis._rowSelectionChanged(silent);\n\t\t}\n\t} else {\n\t\tif (!silent) {\n\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t}\n\t}\n};\n\nSelectRow.prototype.isRowSelected = function (row) {\n\treturn this.selectedRows.indexOf(row) !== -1;\n};\n\n//deselect a number of rows\nSelectRow.prototype.deselectRows = function (rows, silent) {\n\tvar self = this,\n\t    rowCount;\n\n\tif (typeof rows == \"undefined\") {\n\n\t\trowCount = self.selectedRows.length;\n\n\t\tfor (var _i17 = 0; _i17 < rowCount; _i17++) {\n\t\t\tself._deselectRow(self.selectedRows[0], true);\n\t\t}\n\n\t\tself._rowSelectionChanged(silent);\n\t} else {\n\t\tif (Array.isArray(rows)) {\n\t\t\trows.forEach(function (row) {\n\t\t\t\tself._deselectRow(row, true);\n\t\t\t});\n\n\t\t\tself._rowSelectionChanged(silent);\n\t\t} else {\n\t\t\tself._deselectRow(rows, silent);\n\t\t}\n\t}\n};\n\n//deselect an individual row\nSelectRow.prototype._deselectRow = function (rowInfo, silent) {\n\tvar self = this,\n\t    row = self.table.rowManager.findRow(rowInfo),\n\t    index;\n\n\tif (row) {\n\t\tindex = self.selectedRows.findIndex(function (selectedRow) {\n\t\t\treturn selectedRow == row;\n\t\t});\n\n\t\tif (index > -1) {\n\n\t\t\tif (!row.modules.select) {\n\t\t\t\trow.modules.select = {};\n\t\t\t}\n\n\t\t\trow.modules.select.selected = false;\n\t\t\tif (row.modules.select.checkboxEl) {\n\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t}\n\t\t\trow.getElement().classList.remove(\"tabulator-selected\");\n\t\t\tself.selectedRows.splice(index, 1);\n\n\t\t\tif (this.table.options.dataTreeSelectPropagate) {\n\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tself.table.options.rowDeselected.call(this.table, row.getComponent());\n\t\t\t}\n\n\t\t\tself._rowSelectionChanged(silent);\n\t\t}\n\t} else {\n\t\tif (!silent) {\n\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t}\n\t}\n};\n\nSelectRow.prototype.getSelectedData = function () {\n\tvar data = [];\n\n\tthis.selectedRows.forEach(function (row) {\n\t\tdata.push(row.getData());\n\t});\n\n\treturn data;\n};\n\nSelectRow.prototype.getSelectedRows = function () {\n\n\tvar rows = [];\n\n\tthis.selectedRows.forEach(function (row) {\n\t\trows.push(row.getComponent());\n\t});\n\n\treturn rows;\n};\n\nSelectRow.prototype._rowSelectionChanged = function (silent) {\n\tif (this.headerCheckboxElement) {\n\t\tif (this.selectedRows.length === 0) {\n\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t} else if (this.table.rowManager.rows.length === this.selectedRows.length) {\n\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t} else {\n\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t}\n\t}\n\n\tif (!silent) {\n\t\tthis.table.options.rowSelectionChanged.call(this.table, this.getSelectedData(), this.getSelectedRows());\n\t}\n};\n\nSelectRow.prototype.registerRowSelectCheckbox = function (row, element) {\n\tif (!row._row.modules.select) {\n\t\trow._row.modules.select = {};\n\t}\n\n\trow._row.modules.select.checkboxEl = element;\n};\n\nSelectRow.prototype.registerHeaderSelectCheckbox = function (element) {\n\tthis.headerCheckboxElement = element;\n};\n\nSelectRow.prototype.childRowSelection = function (row, select) {\n\tvar children = this.table.modules.dataTree.getChildren(row);\n\n\tif (select) {\n\t\tfor (var _iterator2 = children, _isArray2 = Array.isArray(_iterator2), _i18 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n\t\t\tvar _ref2;\n\n\t\t\tif (_isArray2) {\n\t\t\t\tif (_i18 >= _iterator2.length) break;\n\t\t\t\t_ref2 = _iterator2[_i18++];\n\t\t\t} else {\n\t\t\t\t_i18 = _iterator2.next();\n\t\t\t\tif (_i18.done) break;\n\t\t\t\t_ref2 = _i18.value;\n\t\t\t}\n\n\t\t\tvar child = _ref2;\n\n\t\t\tthis._selectRow(child, true);\n\t\t}\n\t} else {\n\t\tfor (var _iterator3 = children, _isArray3 = Array.isArray(_iterator3), _i19 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n\t\t\tvar _ref3;\n\n\t\t\tif (_isArray3) {\n\t\t\t\tif (_i19 >= _iterator3.length) break;\n\t\t\t\t_ref3 = _iterator3[_i19++];\n\t\t\t} else {\n\t\t\t\t_i19 = _iterator3.next();\n\t\t\t\tif (_i19.done) break;\n\t\t\t\t_ref3 = _i19.value;\n\t\t\t}\n\n\t\t\tvar _child = _ref3;\n\n\t\t\tthis._deselectRow(_child, true);\n\t\t}\n\t}\n};\n\nTabulator.prototype.registerModule(\"selectRow\", SelectRow);\n\nvar Sort = function Sort(table) {\n\tthis.table = table; //hold Tabulator object\n\tthis.sortList = []; //holder current sort\n\tthis.changed = false; //has the sort changed since last render\n};\n\n//initialize column header for sorting\nSort.prototype.initializeColumn = function (column, content) {\n\tvar self = this,\n\t    sorter = false,\n\t    colEl,\n\t    arrowEl;\n\n\tswitch (_typeof(column.definition.sorter)) {\n\t\tcase \"string\":\n\t\t\tif (self.sorters[column.definition.sorter]) {\n\t\t\t\tsorter = self.sorters[column.definition.sorter];\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tsorter = column.definition.sorter;\n\t\t\tbreak;\n\t}\n\n\tcolumn.modules.sort = {\n\t\tsorter: sorter, dir: \"none\",\n\t\tparams: column.definition.sorterParams || {},\n\t\tstartingDir: column.definition.headerSortStartingDir || \"asc\",\n\t\ttristate: typeof column.definition.headerSortTristate !== \"undefined\" ? column.definition.headerSortTristate : this.table.options.headerSortTristate\n\t};\n\n\tif (typeof column.definition.headerSort === \"undefined\" ? this.table.options.headerSort !== false : column.definition.headerSort !== false) {\n\n\t\tcolEl = column.getElement();\n\n\t\tcolEl.classList.add(\"tabulator-sortable\");\n\n\t\tarrowEl = document.createElement(\"div\");\n\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\n\t\tif (_typeof(this.table.options.headerSortElement) == \"object\") {\n\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t} else {\n\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t}\n\n\t\t//create sorter arrow\n\t\tcontent.appendChild(arrowEl);\n\n\t\tcolumn.modules.sort.element = arrowEl;\n\n\t\t//sort on click\n\t\tcolEl.addEventListener(\"click\", function (e) {\n\t\t\tvar dir = \"\",\n\t\t\t    sorters = [],\n\t\t\t    match = false;\n\n\t\t\tif (column.modules.sort) {\n\t\t\t\tif (column.modules.sort.tristate) {\n\t\t\t\t\tif (column.modules.sort.dir == \"none\") {\n\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (column.modules.sort.dir == column.modules.sort.startingDir) {\n\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (column.modules.sort.dir) {\n\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (self.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\tsorters = self.getSort();\n\n\t\t\t\t\tmatch = sorters.findIndex(function (sorter) {\n\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t});\n\n\t\t\t\t\tif (match > -1) {\n\t\t\t\t\t\tsorters[match].dir = dir;\n\n\t\t\t\t\t\tif (match != sorters.length - 1) {\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif (dir != \"none\") {\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dir != \"none\") {\n\t\t\t\t\t\t\tsorters.push({ column: column, dir: dir });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//add to existing sort\n\t\t\t\t\tself.setSort(sorters);\n\t\t\t\t} else {\n\t\t\t\t\tif (dir == \"none\") {\n\t\t\t\t\t\tself.clear();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\tself.setSort(column, dir);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself.table.rowManager.sorterRefresh(!self.sortList.length);\n\t\t\t}\n\t\t});\n\t}\n};\n\n//check if the sorters have changed since last use\nSort.prototype.hasChanged = function () {\n\tvar changed = this.changed;\n\tthis.changed = false;\n\treturn changed;\n};\n\n//return current sorters\nSort.prototype.getSort = function () {\n\tvar self = this,\n\t    sorters = [];\n\n\tself.sortList.forEach(function (item) {\n\t\tif (item.column) {\n\t\t\tsorters.push({ column: item.column.getComponent(), field: item.column.getField(), dir: item.dir });\n\t\t}\n\t});\n\n\treturn sorters;\n};\n\n//change sort list and trigger sort\nSort.prototype.setSort = function (sortList, dir) {\n\tvar self = this,\n\t    newSortList = [];\n\n\tif (!Array.isArray(sortList)) {\n\t\tsortList = [{ column: sortList, dir: dir }];\n\t}\n\n\tsortList.forEach(function (item) {\n\t\tvar column;\n\n\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\n\t\tif (column) {\n\t\t\titem.column = column;\n\t\t\tnewSortList.push(item);\n\t\t\tself.changed = true;\n\t\t} else {\n\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t}\n\t});\n\n\tself.sortList = newSortList;\n\n\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.sort) {\n\t\tthis.table.modules.persistence.save(\"sort\");\n\t}\n};\n\n//clear sorters\nSort.prototype.clear = function () {\n\tthis.setSort([]);\n};\n\n//find appropriate sorter for column\nSort.prototype.findSorter = function (column) {\n\tvar row = this.table.rowManager.activeRows[0],\n\t    sorter = \"string\",\n\t    field,\n\t    value;\n\n\tif (row) {\n\t\trow = row.getData();\n\t\tfield = column.getField();\n\n\t\tif (field) {\n\n\t\t\tvalue = column.getFieldValue(row);\n\n\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (!isNaN(value) && value !== \"\") {\n\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)) {\n\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn this.sorters[sorter];\n};\n\n//work through sort list sorting data\nSort.prototype.sort = function (data) {\n\tvar self = this,\n\t    sortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t    sortListActual = [],\n\t    rowComponents = [],\n\t    lastSort;\n\n\tif (self.table.options.dataSorting) {\n\t\tself.table.options.dataSorting.call(self.table, self.getSort());\n\t}\n\n\tself.clearColumnHeaders();\n\n\tif (!self.table.options.ajaxSorting) {\n\n\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\tsortList.forEach(function (item, i) {\n\t\t\tvar sortObj = item.column.modules.sort;\n\n\t\t\tif (item.column && sortObj) {\n\n\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\tif (!sortObj.sorter) {\n\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t}\n\n\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\n\t\t\t\tsortListActual.push(item);\n\t\t\t}\n\n\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t});\n\n\t\t//sort data\n\t\tif (sortListActual.length) {\n\t\t\tself._sortItems(data, sortListActual);\n\t\t}\n\t} else {\n\t\tsortList.forEach(function (item, i) {\n\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t});\n\t}\n\n\tif (self.table.options.dataSorted) {\n\t\tdata.forEach(function (row) {\n\t\t\trowComponents.push(row.getComponent());\n\t\t});\n\n\t\tself.table.options.dataSorted.call(self.table, self.getSort(), rowComponents);\n\t}\n};\n\n//clear sort arrows on columns\nSort.prototype.clearColumnHeaders = function () {\n\tthis.table.columnManager.getRealColumns().forEach(function (column) {\n\t\tif (column.modules.sort) {\n\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t}\n\t});\n};\n\n//set the column header sort direction\nSort.prototype.setColumnHeader = function (column, dir) {\n\tcolumn.modules.sort.dir = dir;\n\tcolumn.getElement().setAttribute(\"aria-sort\", dir);\n};\n\n//sort each item in sort list\nSort.prototype._sortItems = function (data, sortList) {\n\tvar _this84 = this;\n\n\tvar sorterCount = sortList.length - 1;\n\n\tdata.sort(function (a, b) {\n\t\tvar result;\n\n\t\tfor (var i = sorterCount; i >= 0; i--) {\n\t\t\tvar sortItem = sortList[i];\n\n\t\t\tresult = _this84._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\n\t\t\tif (result !== 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t});\n};\n\n//process individual rows for a sort function on active data\nSort.prototype._sortRow = function (a, b, column, dir, params) {\n\tvar el1Comp, el2Comp, colComp;\n\n\t//switch elements depending on search direction\n\tvar el1 = dir == \"asc\" ? a : b;\n\tvar el2 = dir == \"asc\" ? b : a;\n\n\ta = column.getFieldValue(el1.getData());\n\tb = column.getFieldValue(el2.getData());\n\n\ta = typeof a !== \"undefined\" ? a : \"\";\n\tb = typeof b !== \"undefined\" ? b : \"\";\n\n\tel1Comp = el1.getComponent();\n\tel2Comp = el2.getComponent();\n\n\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n};\n\n//default data sorters\nSort.prototype.sorters = {\n\n\t//sort numbers\n\tnumber: function number(a, b, aRow, bRow, column, dir, params) {\n\t\tvar alignEmptyValues = params.alignEmptyValues;\n\t\tvar decimal = params.decimalSeparator || \".\";\n\t\tvar thousand = params.thousandSeparator || \",\";\n\t\tvar emptyAlign = 0;\n\n\t\ta = parseFloat(String(a).split(thousand).join(\"\").split(decimal).join(\".\"));\n\t\tb = parseFloat(String(b).split(thousand).join(\"\").split(decimal).join(\".\"));\n\n\t\t//handle non numeric values\n\t\tif (isNaN(a)) {\n\t\t\temptyAlign = isNaN(b) ? 0 : -1;\n\t\t} else if (isNaN(b)) {\n\t\t\temptyAlign = 1;\n\t\t} else {\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\t},\n\n\t//sort strings\n\tstring: function string(a, b, aRow, bRow, column, dir, params) {\n\t\tvar alignEmptyValues = params.alignEmptyValues;\n\t\tvar emptyAlign = 0;\n\t\tvar locale;\n\n\t\t//handle empty values\n\t\tif (!a) {\n\t\t\temptyAlign = !b ? 0 : -1;\n\t\t} else if (!b) {\n\t\t\temptyAlign = 1;\n\t\t} else {\n\t\t\t//compare valid values\n\t\t\tswitch (_typeof(params.locale)) {\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif (params.locale) {\n\t\t\t\t\t\tlocale = this.table.modules.localize.getLocale();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"string\":\n\t\t\t\t\tlocale = params.locale;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\t},\n\n\t//sort date\n\tdate: function date(a, b, aRow, bRow, column, dir, params) {\n\t\tif (!params.format) {\n\t\t\tparams.format = \"DD/MM/YYYY\";\n\t\t}\n\n\t\treturn this.sorters.datetime.call(this, a, b, aRow, bRow, column, dir, params);\n\t},\n\n\t//sort HH:mm formatted times\n\ttime: function time(a, b, aRow, bRow, column, dir, params) {\n\t\tif (!params.format) {\n\t\t\tparams.format = \"HH:mm\";\n\t\t}\n\n\t\treturn this.sorters.datetime.call(this, a, b, aRow, bRow, column, dir, params);\n\t},\n\n\t//sort datetime\n\tdatetime: function datetime(a, b, aRow, bRow, column, dir, params) {\n\t\tvar format = params.format || \"DD/MM/YYYY HH:mm:ss\",\n\t\t    alignEmptyValues = params.alignEmptyValues,\n\t\t    emptyAlign = 0;\n\n\t\tif (typeof moment != \"undefined\") {\n\t\t\ta = moment(a, format);\n\t\t\tb = moment(b, format);\n\n\t\t\tif (!a.isValid()) {\n\t\t\t\temptyAlign = !b.isValid() ? 0 : -1;\n\t\t\t} else if (!b.isValid()) {\n\t\t\t\temptyAlign = 1;\n\t\t\t} else {\n\t\t\t\t//compare valid values\n\t\t\t\treturn a - b;\n\t\t\t}\n\n\t\t\t//fix empty values in position\n\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\n\t\t\t\temptyAlign *= -1;\n\t\t\t}\n\n\t\t\treturn emptyAlign;\n\t\t} else {\n\t\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on moment.js\");\n\t\t}\n\t},\n\n\t//sort booleans\n\tboolean: function boolean(a, b, aRow, bRow, column, dir, params) {\n\t\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\t\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\t\treturn el1 - el2;\n\t},\n\n\t//sort if element contains any data\n\tarray: function array(a, b, aRow, bRow, column, dir, params) {\n\t\tvar el1 = 0;\n\t\tvar el2 = 0;\n\t\tvar type = params.type || \"length\";\n\t\tvar alignEmptyValues = params.alignEmptyValues;\n\t\tvar emptyAlign = 0;\n\n\t\tfunction calc(value) {\n\n\t\t\tswitch (type) {\n\t\t\t\tcase \"length\":\n\t\t\t\t\treturn value.length;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"sum\":\n\t\t\t\t\treturn value.reduce(function (c, d) {\n\t\t\t\t\t\treturn c + d;\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"max\":\n\t\t\t\t\treturn Math.max.apply(null, value);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"min\":\n\t\t\t\t\treturn Math.min.apply(null, value);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"avg\":\n\t\t\t\t\treturn value.reduce(function (c, d) {\n\t\t\t\t\t\treturn c + d;\n\t\t\t\t\t}) / value.length;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//handle non array values\n\t\tif (!Array.isArray(a)) {\n\t\t\talignEmptyValues = !Array.isArray(b) ? 0 : -1;\n\t\t} else if (!Array.isArray(b)) {\n\t\t\talignEmptyValues = 1;\n\t\t} else {\n\n\t\t\t//compare valid values\n\t\t\tel1 = a ? calc(a) : 0;\n\t\t\tel2 = b ? calc(b) : 0;\n\n\t\t\treturn el1 - el2;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\t},\n\n\t//sort if element contains any data\n\texists: function exists(a, b, aRow, bRow, column, dir, params) {\n\t\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\t\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\t\treturn el1 - el2;\n\t},\n\n\t//sort alpha numeric strings\n\talphanum: function alphanum(as, bs, aRow, bRow, column, dir, params) {\n\t\tvar a,\n\t\t    b,\n\t\t    a1,\n\t\t    b1,\n\t\t    i = 0,\n\t\t    L,\n\t\t    rx = /(\\d+)|(\\D+)/g,\n\t\t    rd = /\\d/;\n\t\tvar alignEmptyValues = params.alignEmptyValues;\n\t\tvar emptyAlign = 0;\n\n\t\t//handle empty values\n\t\tif (!as && as !== 0) {\n\t\t\temptyAlign = !bs && bs !== 0 ? 0 : -1;\n\t\t} else if (!bs && bs !== 0) {\n\t\t\temptyAlign = 1;\n\t\t} else {\n\n\t\t\tif (isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif (a === b) return 0;\n\t\t\tif (!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile (i < L) {\n\t\t\t\ta1 = a[i];\n\t\t\t\tb1 = b[i++];\n\t\t\t\tif (a1 !== b1) {\n\t\t\t\t\tif (isFinite(a1) && isFinite(b1)) {\n\t\t\t\t\t\tif (a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif (b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t} else return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a.length > b.length;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\t}\n};\n\nTabulator.prototype.registerModule(\"sort\", Sort);\n\nvar Validate = function Validate(table) {\n\tthis.table = table;\n\tthis.invalidCells = [];\n};\n\n//validate\nValidate.prototype.initializeColumn = function (column) {\n\tvar self = this,\n\t    config = [],\n\t    validator;\n\n\tif (column.definition.validator) {\n\n\t\tif (Array.isArray(column.definition.validator)) {\n\t\t\tcolumn.definition.validator.forEach(function (item) {\n\t\t\t\tvalidator = self._extractValidator(item);\n\n\t\t\t\tif (validator) {\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\n\t\t\tif (validator) {\n\t\t\t\tconfig.push(validator);\n\t\t\t}\n\t\t}\n\n\t\tcolumn.modules.validate = config.length ? config : false;\n\t}\n};\n\nValidate.prototype._extractValidator = function (value) {\n\tvar type, params, pos;\n\n\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t\tcase \"string\":\n\t\t\tpos = value.indexOf(':');\n\n\t\t\tif (pos > -1) {\n\t\t\t\ttype = value.substring(0, pos);\n\t\t\t\tparams = value.substring(pos + 1);\n\t\t\t} else {\n\t\t\t\ttype = value;\n\t\t\t}\n\n\t\t\treturn this._buildValidator(type, params);\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\treturn this._buildValidator(value);\n\t\t\tbreak;\n\n\t\tcase \"object\":\n\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t\tbreak;\n\t}\n};\n\nValidate.prototype._buildValidator = function (type, params) {\n\n\tvar func = typeof type == \"function\" ? type : this.validators[type];\n\n\tif (!func) {\n\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\treturn false;\n\t} else {\n\t\treturn {\n\t\t\ttype: typeof type == \"function\" ? \"function\" : type,\n\t\t\tfunc: func,\n\t\t\tparams: params\n\t\t};\n\t}\n};\n\nValidate.prototype.validate = function (validators, cell, value) {\n\tvar self = this,\n\t    valid = [],\n\t    invalidIndex = this.invalidCells.indexOf(cell);\n\n\tif (validators) {\n\t\tvalidators.forEach(function (item) {\n\t\t\tif (!item.func.call(self, cell.getComponent(), value, item.params)) {\n\t\t\t\tvalid.push({\n\t\t\t\t\ttype: item.type,\n\t\t\t\t\tparameters: item.params\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tvalid = valid.length ? valid : true;\n\n\tif (!cell.modules.validate) {\n\t\tcell.modules.validate = {};\n\t}\n\n\tif (valid === true) {\n\t\tcell.modules.validate.invalid = false;\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\n\t\tif (invalidIndex > -1) {\n\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t}\n\t} else {\n\t\tcell.modules.validate.invalid = true;\n\n\t\tif (this.table.options.validationMode !== \"manual\") {\n\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t}\n\n\t\tif (invalidIndex == -1) {\n\t\t\tthis.invalidCells.push(cell);\n\t\t}\n\t}\n\n\treturn valid;\n};\n\nValidate.prototype.getInvalidCells = function () {\n\tvar output = [];\n\n\tthis.invalidCells.forEach(function (cell) {\n\t\toutput.push(cell.getComponent());\n\t});\n\n\treturn output;\n};\n\nValidate.prototype.clearValidation = function (cell) {\n\tvar invalidIndex;\n\n\tif (cell.modules.validate && cell.modules.validate.invalid) {\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\tcell.modules.validate.invalid = false;\n\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\n\t\tif (invalidIndex > -1) {\n\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t}\n\t}\n};\n\nValidate.prototype.validators = {\n\n\t//is integer\n\tinteger: function integer(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\tvalue = Number(value);\n\t\treturn typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function float(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\tvalue = Number(value);\n\t\treturn typeof value === 'number' && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function numeric(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function string(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//maximum value\n\tmax: function max(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function min(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function starts(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function ends(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\t//minimum string length\n\tminLength: function minLength(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function maxLength(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function _in(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof parameters == \"string\") {\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn value === \"\" || parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function regex(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function unique(cell, value, parameters) {\n\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function (row) {\n\t\t\tvar data = row.getData();\n\n\t\t\tif (data !== cellData) {\n\t\t\t\tif (value == column.getFieldValue(data)) {\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired: function required(cell, value, parameters) {\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t}\n};\n\nTabulator.prototype.registerModule(\"validate\", Validate);\n\nexport default Tabulator;","\"use strict\";\r\nimport * as turf from '@turf/turf'\r\n\r\nimport Tabulator from \"tabulator-tables\";\r\n\r\n\r\n\r\nfunction sendToTable(geo_json) {\r\n\r\n    const json = geo_json.features;\r\n\r\n    const table = new Tabulator(\"#list-table\", {\r\n        height: 250, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)\r\n        data: json, //assign data to table\r\n        layout: \"fitColumns\", //fit columns to width of table (optional)\r\n        groupBy: [\"properties.district\"],\r\n        //groupStartOpen:[true, true],\r\n        responsiveLayout: \"hide\",  //hide columns that dont fit on the table\r\n        tooltips: true,            //show tool tips on cells\r\n        pagination: \"local\",       //paginate the data\r\n        paginationSize: 5,\r\n        movableColumns: true,      //allow column order to be changed\r\n        resizableRows: true,       //allow row order to be changed\r\n        langs: {\r\n            \"ru-ru\": {\r\n                \"pagination\": {\r\n                    \"first\": \"Первая\",\r\n                    \"first_title\": \"Первая страница\",\r\n                    \"last\": \"Последняя\",\r\n                    \"last_title\": \"Последняя страница\",\r\n                    \"prev\": \"Предыдущая\",\r\n                    \"prev_title\": \"Предыдущая страница\",\r\n                    \"next\": \"Следующая\",\r\n                    \"next_title\": \"Следующая страница\",\r\n                    \"all\": \"все\",\r\n                },\r\n            }\r\n        },\r\n        columns: [ //Define Table Columns\r\n            {\r\n                formatter: \"rowSelection\",\r\n                width: 30,\r\n                titleFormatter: \"rowSelection\",\r\n                hozAlign: \"center\",\r\n                headerSort: false,\r\n                cellClick: function (e, cell) {\r\n                    cell.getRow().toggleSelect();\r\n                }\r\n            },\r\n            {title: \"Год\", field: \"properties.year\", width: 50},\r\n            {title: \"Работы\", field: \"properties.cell_object\", width: 400},\r\n            {title: \"Район\", field: \"properties.district\"},\r\n            {\r\n                title: \"Начало участка\",\r\n                field: \"properties.cell_repair_start\",\r\n            },\r\n            {\r\n                title: \"Конец участка\",\r\n                field: \"properties.cell_repair_end\",\r\n            },\r\n            {\r\n                title: \"Инспектор\",\r\n                field: \"\"\r\n            },\r\n            {\r\n                title: \"Оценка\",\r\n                field: \"\"\r\n            }\r\n        ],\r\n        rowDblClick: function (e, row) {\r\n            //e - the click event object\r\n            //row - row component\r\n            const geoJSON = row._row.data;\r\n            console.log(JSON.stringify(geoJSON.geometry.coordinates));\r\n\r\n            if (layer !== undefined) {\r\n                map.removeLayer(layer);\r\n            }\r\n\r\n            feature1 = new ol.Feature(\r\n                new ol.geom.MultiLineString(\r\n                    geoJSON.geometry.coordinates\r\n                ));\r\n\r\n            feature1.setStyle(\r\n                new ol.style.Style({\r\n                    stroke: new ol.style.Stroke({\r\n                        color: '#00FF00',\r\n                        width: 10\r\n                    }),\r\n                    fill: new ol.style.Fill({\r\n                        color: '#00FF00',\r\n                        weight: 1\r\n                    })\r\n                })\r\n            )\r\n\r\n            layer = egip.layers.createVectorLayer({\r\n                id: 'point',\r\n                type: 'random',\r\n                source: egip.layers.createVectorSource({\r\n                    features: [feature1]\r\n                })\r\n            });\r\n\r\n            map.addLayer(layer);\r\n\r\n            const centroid = turf.centroid(geoJSON).geometry.coordinates;\r\n\r\n            console.log('centroid : ' + JSON.stringify(centroid));\r\n\r\n            map.getView().setCenter(\r\n                ol.proj.transform(centroid, 'EPSG:77', 'EPSG:77')\r\n            );\r\n\r\n            const bbox = turf.bbox(geoJSON);\r\n\r\n            egip.layers.fitExtent(map, bbox);\r\n\r\n        }\r\n    });\r\n\r\n    table.setLocale(\"ru-ru\");\r\n\r\n    return table;\r\n}\r\n\r\nlet table = undefined;\r\n\r\nfetch('./title_list.json')\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        table = sendToTable(data)\r\n    })\r\n\r\n$('.custom-file-input').on('change', function () {\r\n    let fileName = $(this).val().split('\\\\').pop();\r\n    $(this).next('.custom-file-label').addClass(\"selected\").html(fileName);\r\n});\r\n\r\n$('#district a').on('click', function () {\r\n    var txt = ($(this).text());\r\n    table.setFilter('properties.district', '=', txt);\r\n});\r\n\r\nfunction generateReport(txt) {\r\n    if(txt.indexOf('Общий отчет') !== -1){\r\n        window.location.href = './assesment_report.html';\r\n    }\r\n    window.location.href = './report.html';\r\n}\r\n\r\n$('#report a').on('click', function () {\r\n    var txt = ($(this).text());\r\n    generateReport(txt);\r\n});\r\n\r\n\r\n$('#tsp a').on('click', function () {\r\n    window.location.href = './assign.html';\r\n});\r\n\r\n\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}